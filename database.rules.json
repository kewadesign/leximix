{
    "rules": {
        "system": {
            ".read": true,
            ".write": false
        },
        "users": {
            "$username": {
                ".read": true,
                ".write": "!data.exists() || !newData.exists()",
                ".validate": "$username.matches(/^[a-z0-9]+$/) && $username.length >= 3 && $username.length <= 20",
                "saves": {
                    ".write": true,
                    "current": {
                        "xp": {
                            ".validate": "newData.isNumber() && newData.val() >= 0"
                        },
                        "level": {
                            ".validate": "newData.isNumber() && newData.val() >= 0"
                        },
                        "coins": {
                            ".validate": "newData.isNumber() && newData.val() >= 0"
                        },
                        "isPremium": {
                            ".validate": "newData.isBoolean()"
                        }
                    }
                }
            }
        }
    }
}