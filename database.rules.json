{
    "rules": {
        "system": {
            ".read": true,
            ".write": false
        },
        "vouchers": {
            ".read": true,
            "$voucherCode": {
                ".write": false,
                "usedBy": {
                    "$username": {
                        ".write": "!data.exists()"
                    }
                }
            }
        },
        "$username": {
            ".read": true,
            ".write": true
        },
        "friendCodes": {
            ".read": "auth != null",
            "$code": {
                ".write": "auth != null",
                ".validate": "newData.hasChildren(['username', 'timestamp'])"
            }
        },
        "gameInvites": {
            ".read": "auth != null",
            ".write": "auth != null"
        },
        "games": {
            ".read": "auth != null",
            ".write": "auth != null"
        }
    }
}