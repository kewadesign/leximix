var VC=Object.defineProperty;var KC=(t,e,n)=>e in t?VC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Wt=(t,e,n)=>KC(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function OS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wm={exports:{}},Cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function WC(){if(Rv)return Cc;Rv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:t,type:i,key:d,ref:o!==void 0?o:null,props:c}}return Cc.Fragment=e,Cc.jsx=n,Cc.jsxs=n,Cc}var Cv;function YC(){return Cv||(Cv=1,wm.exports=WC()),wm.exports}var l=YC(),Rm={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function qC(){if(Iv)return rt;Iv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=b&&w[b]||w["@@iterator"],typeof w=="function"?w:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,I={};function O(w,q,L){this.props=w,this.context=q,this.refs=I,this.updater=L||N}O.prototype.isReactComponent={},O.prototype.setState=function(w,q){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,q,"setState")},O.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function $(){}$.prototype=O.prototype;function U(w,q,L){this.props=w,this.context=q,this.refs=I,this.updater=L||N}var K=U.prototype=new $;K.constructor=U,R(K,O.prototype),K.isPureReactComponent=!0;var ne=Array.isArray;function P(){}var Z={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function we(w,q,L){var se=L.ref;return{$$typeof:t,type:w,key:q,ref:se!==void 0?se:null,props:L}}function De(w,q){return we(w.type,q,w.props)}function ve(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function he(w){var q={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(L){return q[L]})}var qe=/\/+/g;function W(w,q){return typeof w=="object"&&w!==null&&w.key!=null?he(""+w.key):q.toString(36)}function Y(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(P,P):(w.status="pending",w.then(function(q){w.status==="pending"&&(w.status="fulfilled",w.value=q)},function(q){w.status==="pending"&&(w.status="rejected",w.reason=q)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function k(w,q,L,se,Le){var xe=typeof w;(xe==="undefined"||xe==="boolean")&&(w=null);var Ae=!1;if(w===null)Ae=!0;else switch(xe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(w.$$typeof){case t:case e:Ae=!0;break;case E:return Ae=w._init,k(Ae(w._payload),q,L,se,Le)}}if(Ae)return Le=Le(w),Ae=se===""?"."+W(w,0):se,ne(Le)?(L="",Ae!=null&&(L=Ae.replace(qe,"$&/")+"/"),k(Le,q,L,"",function(Ce){return Ce})):Le!=null&&(ve(Le)&&(Le=De(Le,L+(Le.key==null||w&&w.key===Le.key?"":(""+Le.key).replace(qe,"$&/")+"/")+Ae)),q.push(Le)),1;Ae=0;var Ge=se===""?".":se+":";if(ne(w))for(var ue=0;ue<w.length;ue++)se=w[ue],xe=Ge+W(se,ue),Ae+=k(se,q,L,xe,Le);else if(ue=T(w),typeof ue=="function")for(w=ue.call(w),ue=0;!(se=w.next()).done;)se=se.value,xe=Ge+W(se,ue++),Ae+=k(se,q,L,xe,Le);else if(xe==="object"){if(typeof w.then=="function")return k(Y(w),q,L,se,Le);throw q=String(w),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function H(w,q,L){if(w==null)return w;var se=[],Le=0;return k(w,se,"","",function(xe){return q.call(L,xe,Le++)}),se}function ae(w){if(w._status===-1){var q=w._result;q=q(),q.then(function(L){(w._status===0||w._status===-1)&&(w._status=1,w._result=L)},function(L){(w._status===0||w._status===-1)&&(w._status=2,w._result=L)}),w._status===-1&&(w._status=0,w._result=q)}if(w._status===1)return w._result.default;throw w._result}var Se=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ge={map:H,forEach:function(w,q,L){H(w,function(){q.apply(this,arguments)},L)},count:function(w){var q=0;return H(w,function(){q++}),q},toArray:function(w){return H(w,function(q){return q})||[]},only:function(w){if(!ve(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return rt.Activity=y,rt.Children=ge,rt.Component=O,rt.Fragment=n,rt.Profiler=o,rt.PureComponent=U,rt.StrictMode=i,rt.Suspense=f,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,rt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Z.H.useMemoCache(w)}},rt.cache=function(w){return function(){return w.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(w,q,L){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var se=R({},w.props),Le=w.key;if(q!=null)for(xe in q.key!==void 0&&(Le=""+q.key),q)!J.call(q,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&q.ref===void 0||(se[xe]=q[xe]);var xe=arguments.length-2;if(xe===1)se.children=L;else if(1<xe){for(var Ae=Array(xe),Ge=0;Ge<xe;Ge++)Ae[Ge]=arguments[Ge+2];se.children=Ae}return we(w.type,Le,se)},rt.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},rt.createElement=function(w,q,L){var se,Le={},xe=null;if(q!=null)for(se in q.key!==void 0&&(xe=""+q.key),q)J.call(q,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(Le[se]=q[se]);var Ae=arguments.length-2;if(Ae===1)Le.children=L;else if(1<Ae){for(var Ge=Array(Ae),ue=0;ue<Ae;ue++)Ge[ue]=arguments[ue+2];Le.children=Ge}if(w&&w.defaultProps)for(se in Ae=w.defaultProps,Ae)Le[se]===void 0&&(Le[se]=Ae[se]);return we(w,xe,Le)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(w){return{$$typeof:h,render:w}},rt.isValidElement=ve,rt.lazy=function(w){return{$$typeof:E,_payload:{_status:-1,_result:w},_init:ae}},rt.memo=function(w,q){return{$$typeof:p,type:w,compare:q===void 0?null:q}},rt.startTransition=function(w){var q=Z.T,L={};Z.T=L;try{var se=w(),Le=Z.S;Le!==null&&Le(L,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(P,Se)}catch(xe){Se(xe)}finally{q!==null&&L.types!==null&&(q.types=L.types),Z.T=q}},rt.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},rt.use=function(w){return Z.H.use(w)},rt.useActionState=function(w,q,L){return Z.H.useActionState(w,q,L)},rt.useCallback=function(w,q){return Z.H.useCallback(w,q)},rt.useContext=function(w){return Z.H.useContext(w)},rt.useDebugValue=function(){},rt.useDeferredValue=function(w,q){return Z.H.useDeferredValue(w,q)},rt.useEffect=function(w,q){return Z.H.useEffect(w,q)},rt.useEffectEvent=function(w){return Z.H.useEffectEvent(w)},rt.useId=function(){return Z.H.useId()},rt.useImperativeHandle=function(w,q,L){return Z.H.useImperativeHandle(w,q,L)},rt.useInsertionEffect=function(w,q){return Z.H.useInsertionEffect(w,q)},rt.useLayoutEffect=function(w,q){return Z.H.useLayoutEffect(w,q)},rt.useMemo=function(w,q){return Z.H.useMemo(w,q)},rt.useOptimistic=function(w,q){return Z.H.useOptimistic(w,q)},rt.useReducer=function(w,q,L){return Z.H.useReducer(w,q,L)},rt.useRef=function(w){return Z.H.useRef(w)},rt.useState=function(w){return Z.H.useState(w)},rt.useSyncExternalStore=function(w,q,L){return Z.H.useSyncExternalStore(w,q,L)},rt.useTransition=function(){return Z.H.useTransition()},rt.version="19.2.0",rt}var Mv;function Sg(){return Mv||(Mv=1,Rm.exports=qC()),Rm.exports}var _=Sg();const fs=OS(_);var Cm={exports:{}},Ic={},Im={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function $C(){return Dv||(Dv=1,(function(t){function e(k,H){var ae=k.length;k.push(H);e:for(;0<ae;){var Se=ae-1>>>1,ge=k[Se];if(0<o(ge,H))k[Se]=H,k[ae]=ge,ae=Se;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var H=k[0],ae=k.pop();if(ae!==H){k[0]=ae;e:for(var Se=0,ge=k.length,w=ge>>>1;Se<w;){var q=2*(Se+1)-1,L=k[q],se=q+1,Le=k[se];if(0>o(L,ae))se<ge&&0>o(Le,L)?(k[Se]=Le,k[se]=ae,Se=se):(k[Se]=L,k[q]=ae,Se=q);else if(se<ge&&0>o(Le,ae))k[Se]=Le,k[se]=ae,Se=se;else break e}}return H}function o(k,H){var ae=k.sortIndex-H.sortIndex;return ae!==0?ae:k.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var f=[],p=[],E=1,y=null,b=3,T=!1,N=!1,R=!1,I=!1,O=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function K(k){for(var H=n(p);H!==null;){if(H.callback===null)i(p);else if(H.startTime<=k)i(p),H.sortIndex=H.expirationTime,e(f,H);else break;H=n(p)}}function ne(k){if(R=!1,K(k),!N)if(n(f)!==null)N=!0,P||(P=!0,he());else{var H=n(p);H!==null&&Y(ne,H.startTime-k)}}var P=!1,Z=-1,J=5,we=-1;function De(){return I?!0:!(t.unstable_now()-we<J)}function ve(){if(I=!1,P){var k=t.unstable_now();we=k;var H=!0;try{e:{N=!1,R&&(R=!1,$(Z),Z=-1),T=!0;var ae=b;try{t:{for(K(k),y=n(f);y!==null&&!(y.expirationTime>k&&De());){var Se=y.callback;if(typeof Se=="function"){y.callback=null,b=y.priorityLevel;var ge=Se(y.expirationTime<=k);if(k=t.unstable_now(),typeof ge=="function"){y.callback=ge,K(k),H=!0;break t}y===n(f)&&i(f),K(k)}else i(f);y=n(f)}if(y!==null)H=!0;else{var w=n(p);w!==null&&Y(ne,w.startTime-k),H=!1}}break e}finally{y=null,b=ae,T=!1}H=void 0}}finally{H?he():P=!1}}}var he;if(typeof U=="function")he=function(){U(ve)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,W=qe.port2;qe.port1.onmessage=ve,he=function(){W.postMessage(null)}}else he=function(){O(ve,0)};function Y(k,H){Z=O(function(){k(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(k){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var ae=b;b=H;try{return k()}finally{b=ae}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ae=b;b=k;try{return H()}finally{b=ae}},t.unstable_scheduleCallback=function(k,H,ae){var Se=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Se+ae:Se):ae=Se,k){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ae+ge,k={id:E++,callback:H,priorityLevel:k,startTime:ae,expirationTime:ge,sortIndex:-1},ae>Se?(k.sortIndex=ae,e(p,k),n(f)===null&&k===n(p)&&(R?($(Z),Z=-1):R=!0,Y(ne,ae-Se))):(k.sortIndex=ge,e(f,k),N||T||(N=!0,P||(P=!0,he()))),k},t.unstable_shouldYield=De,t.unstable_wrapCallback=function(k){var H=b;return function(){var ae=b;b=H;try{return k.apply(this,arguments)}finally{b=ae}}}})(Mm)),Mm}var Lv;function XC(){return Lv||(Lv=1,Im.exports=$C()),Im.exports}var Dm={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function ZC(){if(Ov)return zn;Ov=1;var t=Sg();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(f,p,E){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:f,containerInfo:p,implementation:E}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,zn.createPortal=function(f,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(f,p,null,E)},zn.flushSync=function(f){var p=d.T,E=i.p;try{if(d.T=null,i.p=2,f)return f()}finally{d.T=p,i.p=E,i.d.f()}},zn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},zn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},zn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var E=p.as,y=h(E,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:T}):E==="script"&&i.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},zn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},zn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,y=h(E,p.crossOrigin);i.d.L(f,E,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},zn.preloadModule=function(f,p){if(typeof f=="string")if(p){var E=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},zn.requestFormReset=function(f){i.d.r(f)},zn.unstable_batchedUpdates=function(f,p){return f(p)},zn.useFormState=function(f,p,E){return d.H.useFormState(f,p,E)},zn.useFormStatus=function(){return d.H.useHostTransitionStatus()},zn.version="19.2.0",zn}var kv;function QC(){if(kv)return Dm.exports;kv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dm.exports=ZC(),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function JC(){if(jv)return Ic;jv=1;var t=XC(),e=Sg(),n=QC();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var r=s,a=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(a=r.return),s=r.return;while(s)}return r.tag===3?a:null}function d(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(c(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=c(s),r===null)throw Error(i(188));return r!==s?null:s}for(var a=s,u=r;;){var m=a.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){a=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===a)return f(m),s;if(g===u)return f(m),r;g=g.sibling}throw Error(i(188))}if(a.return!==u.return)a=m,u=g;else{for(var v=!1,S=m.child;S;){if(S===a){v=!0,a=m,u=g;break}if(S===u){v=!0,u=m,a=g;break}S=S.sibling}if(!v){for(S=g.child;S;){if(S===a){v=!0,a=g,u=m;break}if(S===u){v=!0,u=g,a=m;break}S=S.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==u)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?s:r}function E(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=E(s),r!==null)return r;s=s.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),we=Symbol.for("react.activity"),De=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function he(s){return s===null||typeof s!="object"?null:(s=ve&&s[ve]||s["@@iterator"],typeof s=="function"?s:null)}var qe=Symbol.for("react.client.reference");function W(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===qe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case O:return"Profiler";case I:return"StrictMode";case ne:return"Suspense";case P:return"SuspenseList";case we:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case U:return s.displayName||"Context";case $:return(s._context.displayName||"Context")+".Consumer";case K:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Z:return r=s.displayName||null,r!==null?r:W(s.type)||"Memo";case J:r=s._payload,s=s._init;try{return W(s(r))}catch{}}return null}var Y=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Se=[],ge=-1;function w(s){return{current:s}}function q(s){0>ge||(s.current=Se[ge],Se[ge]=null,ge--)}function L(s,r){ge++,Se[ge]=s.current,s.current=r}var se=w(null),Le=w(null),xe=w(null),Ae=w(null);function Ge(s,r){switch(L(xe,r),L(Le,s),L(se,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Zb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Zb(r),s=Qb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}q(se),L(se,s)}function ue(){q(se),q(Le),q(xe)}function Ce(s){s.memoizedState!==null&&L(Ae,s);var r=se.current,a=Qb(r,s.type);r!==a&&(L(Le,s),L(se,a))}function st(s){Le.current===s&&(q(se),q(Le)),Ae.current===s&&(q(Ae),Nc._currentValue=ae)}var it,Te;function Ee(s){if(it===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);it=r&&r[1]||"",Te=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+s+Te}var ye=!1;function ie(s,r){if(!s||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(te){var X=te}Reflect.construct(s,[],de)}else{try{de.call()}catch(te){X=te}s.call(de.prototype)}}else{try{throw Error()}catch(te){X=te}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(te){if(te&&X&&typeof te.stack=="string")return[te.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),v=g[0],S=g[1];if(v&&S){var C=v.split(`
`),V=S.split(`
`);for(m=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;m<V.length&&!V[m].includes("DetermineComponentFrameRoot");)m++;if(u===C.length||m===V.length)for(u=C.length-1,m=V.length-1;1<=u&&0<=m&&C[u]!==V[m];)m--;for(;1<=u&&0<=m;u--,m--)if(C[u]!==V[m]){if(u!==1||m!==1)do if(u--,m--,0>m||C[u]!==V[m]){var re=`
`+C[u].replace(" at new "," at ");return s.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",s.displayName)),re}while(1<=u&&0<=m);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=s?s.displayName||s.name:"")?Ee(a):""}function Fe(s,r){switch(s.tag){case 26:case 27:case 5:return Ee(s.type);case 16:return Ee("Lazy");case 13:return s.child!==r&&r!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return ie(s.type,!1);case 11:return ie(s.type.render,!1);case 1:return ie(s.type,!0);case 31:return Ee("Activity");default:return""}}function We(s){try{var r="",a=null;do r+=Fe(s,a),a=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ot=Object.prototype.hasOwnProperty,_t=t.unstable_scheduleCallback,be=t.unstable_cancelCallback,ke=t.unstable_shouldYield,fe=t.unstable_requestPaint,Me=t.unstable_now,xt=t.unstable_getCurrentPriorityLevel,$e=t.unstable_ImmediatePriority,mt=t.unstable_UserBlockingPriority,vt=t.unstable_NormalPriority,ns=t.unstable_LowPriority,Zs=t.unstable_IdlePriority,hr=t.log,ha=t.unstable_setDisableYieldValue,pi=null,An=null;function Cs(s){if(typeof hr=="function"&&ha(s),An&&typeof An.setStrictMode=="function")try{An.setStrictMode(pi,s)}catch{}}var gn=Math.clz32?Math.clz32:Pl,Bn=Math.log,so=Math.LN2;function Pl(s){return s>>>=0,s===0?32:31-(Bn(s)/so|0)|0}var Is=256,Ms=262144,ms=4194304;function Ds(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function fr(s,r,a){var u=s.pendingLanes;if(u===0)return 0;var m=0,g=s.suspendedLanes,v=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?m=Ds(u):(v&=S,v!==0?m=Ds(v):a||(a=S&~s,a!==0&&(m=Ds(a))))):(S=u&~g,S!==0?m=Ds(S):v!==0?m=Ds(v):a||(a=u&~s,a!==0&&(m=Ds(a)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,a=r&-r,g>=a||g===32&&(a&4194048)!==0)?r:m}function mi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ul(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oi(){var s=ms;return ms<<=1,(ms&62914560)===0&&(ms=4194304),s}function pr(s){for(var r=[],a=0;31>a;a++)r.push(s);return r}function Q(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ls(s,r,a,u,m,g){var v=s.pendingLanes;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=a,s.entangledLanes&=a,s.errorRecoveryDisabledLanes&=a,s.shellSuspendCounter=0;var S=s.entanglements,C=s.expirationTimes,V=s.hiddenUpdates;for(a=v&~a;0<a;){var re=31-gn(a),de=1<<re;S[re]=0,C[re]=-1;var X=V[re];if(X!==null)for(V[re]=null,re=0;re<X.length;re++){var te=X[re];te!==null&&(te.lane&=-536870913)}a&=~de}u!==0&&qt(s,u,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(v&~r))}function qt(s,r,a){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-gn(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|a&261930}function Qs(s,r){var a=s.entangledLanes|=r;for(s=s.entanglements;a;){var u=31-gn(a),m=1<<u;m&r|s[u]&r&&(s[u]|=r),a&=~m}}function _e(s,r){var a=r&-r;return a=(a&42)!==0?1:En(a),(a&(s.suspendedLanes|r))!==0?0:a}function En(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Vt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function xn(){var s=H.p;return s!==0?s:(s=window.event,s===void 0?32:vv(s.type))}function Hl(s,r){var a=H.p;try{return H.p=s,r()}finally{H.p=a}}var Qt=Math.random().toString(36).slice(2),rn="__reactFiber$"+Qt,Nn="__reactProps$"+Qt,Pe="__reactContainer$"+Qt,ki="__reactEvents$"+Qt,io="__reactListeners$"+Qt,mr="__reactHandles$"+Qt,fa="__reactResources$"+Qt,ss="__reactMarker$"+Qt;function pa(s){delete s[rn],delete s[Nn],delete s[ki],delete s[io],delete s[mr]}function gs(s){var r=s[rn];if(r)return r;for(var a=s.parentNode;a;){if(r=a[Pe]||a[rn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(s=rv(s);s!==null;){if(a=s[rn])return a;s=rv(s)}return r}s=a,a=s.parentNode}return null}function gi(s){if(s=s[rn]||s[Pe]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Ei(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function xi(s){var r=s[fa];return r||(r=s[fa]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Bt(s){s[ss]=!0}var ro=new Set,Js={};function Es(s,r){ei(s,r),ei(s+"Capture",r)}function ei(s,r){for(Js[s]=r,s=0;s<r.length;s++)ro.add(r[s])}var ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ti={},ma={};function $t(s){return ot.call(ma,s)?!0:ot.call(ti,s)?!1:ao.test(s)?ma[s]=!0:(ti[s]=!0,!1)}function F(s,r,a){if($t(r))if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+a)}}function ee(s,r,a){if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+a)}}function B(s,r,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttributeNS(r,a,""+u)}}function Oe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ve(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bt(s,r,a){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(v){a=""+v,g.call(this,v)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function xs(s){if(!s._valueTracker){var r=Ve(s)?"checked":"value";s._valueTracker=bt(s,r,""+s[r])}}function ji(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return s&&(u=Ve(s)?s.checked?"true":"false":s.value),s=u,s!==a?(r.setValue(s),!0):!1}function oo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Uu=/[\n"\\]/g;function is(s){return s.replace(Uu,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Bl(s,r,a,u,m,g,v,S){s.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?s.type=v:s.removeAttribute("type"),r!=null?v==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Oe(r)):s.value!==""+Oe(r)&&(s.value=""+Oe(r)):v!=="submit"&&v!=="reset"||s.removeAttribute("value"),r!=null?lo(s,v,Oe(r)):a!=null?lo(s,v,Oe(a)):u!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Oe(S):s.removeAttribute("name")}function Hu(s,r,a,u,m,g,v,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){xs(s);return}a=a!=null?""+Oe(a):"",r=r!=null?""+Oe(r):a,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.name=v),xs(s)}function lo(s,r,a){r==="number"&&oo(s.ownerDocument)===s||s.defaultValue===""+a||(s.defaultValue=""+a)}function Fi(s,r,a,u){if(s=s.options,r){r={};for(var m=0;m<a.length;m++)r["$"+a[m]]=!0;for(a=0;a<s.length;a++)m=r.hasOwnProperty("$"+s[a].value),s[a].selected!==m&&(s[a].selected=m),m&&u&&(s[a].defaultSelected=!0)}else{for(a=""+Oe(a),r=null,m=0;m<s.length;m++){if(s[m].value===a){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Bu(s,r,a){if(r!=null&&(r=""+Oe(r),r!==s.value&&(s.value=r),a==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=a!=null?""+Oe(a):""}function Gu(s,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(i(92));if(Y(u)){if(1<u.length)throw Error(i(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Oe(r),s.defaultValue=a,u=s.textContent,u===a&&u!==""&&u!==null&&(s.value=u),xs(s)}function yi(s,r){if(r){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=r;return}}s.textContent=r}var Gl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ga(s,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,a):typeof a!="number"||a===0||Gl.has(r)?r==="float"?s.cssFloat=a:s[r]=(""+a).trim():s[r]=a+"px"}function co(s,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&a[m]!==u&&ga(s,m,u)}else for(var g in r)r.hasOwnProperty(g)&&ga(s,g,r[g])}function uo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(s){return Cf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ni(){}var zl=null;function Vl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var gr=null,bi=null;function zu(s){var r=gi(s);if(r&&(s=r.stateNode)){var a=s[Nn]||null;e:switch(s=r.stateNode,r.type){case"input":if(Bl(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+is(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==s&&u.form===s.form){var m=u[Nn]||null;if(!m)throw Error(i(90));Bl(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===s.form&&ji(u)}break e;case"textarea":Bu(s,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Fi(s,!!a.multiple,r,!1)}}}var fo=!1;function Wn(s,r,a){if(fo)return s(r,a);fo=!0;try{var u=s(r);return u}finally{if(fo=!1,(gr!==null||bi!==null)&&(Rd(),gr&&(r=gr,s=bi,bi=gr=null,zu(r),s)))for(r=0;r<s.length;r++)zu(s[r])}}function Ea(s,r){var a=s.stateNode;if(a===null)return null;var u=a[Nn]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=!1;if(si)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){po=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{po=!1}var vi=null,Kl=null,mo=null;function Vu(){if(mo)return mo;var s,r=Kl,a=r.length,u,m="value"in vi?vi.value:vi.textContent,g=m.length;for(s=0;s<a&&r[s]===m[s];s++);var v=a-s;for(u=1;u<=v&&r[a-u]===m[g-u];u++);return mo=m.slice(s,1<u?1-u:void 0)}function go(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Eo(){return!0}function Ku(){return!1}function Gn(s){function r(a,u,m,g,v){this._reactName=a,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(a=s[S],this[S]=a?a(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Eo:Ku,this.isPropagationStopped=Ku,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),r}var A={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},D=Gn(A),z=y({},A,{view:0,detail:0}),ce=Gn(z),oe,Ue,Re,Ie=y({},z,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Df,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Re&&(Re&&s.type==="mousemove"?(oe=s.screenX-Re.screenX,Ue=s.screenY-Re.screenY):Ue=oe=0,Re=s),oe)},movementY:function(s){return"movementY"in s?s.movementY:Ue}}),Xe=Gn(Ie),Be=y({},Ie,{dataTransfer:0}),Ct=Gn(Be),ct=y({},z,{relatedTarget:0}),cn=Gn(ct),Yn=y({},A,{animationName:0,elapsedTime:0,pseudoElement:0}),Er=Gn(Yn),Os=y({},A,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ks=Gn(Os),If=y({},A,{data:0}),Wu=Gn(If),Mf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eR(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Jw[s])?!!r[s]:!1}function Df(){return eR}var tR=y({},z,{key:function(s){if(s.key){var r=Mf[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=go(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Qw[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Df,charCode:function(s){return s.type==="keypress"?go(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?go(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),nR=Gn(tR),sR=y({},Ie,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nx=Gn(sR),iR=y({},z,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Df}),rR=Gn(iR),aR=y({},A,{propertyName:0,elapsedTime:0,pseudoElement:0}),oR=Gn(aR),lR=y({},Ie,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),cR=Gn(lR),uR=y({},A,{newState:0,oldState:0}),dR=Gn(uR),hR=[9,13,27,32],Lf=si&&"CompositionEvent"in window,Wl=null;si&&"documentMode"in document&&(Wl=document.documentMode);var fR=si&&"TextEvent"in window&&!Wl,sx=si&&(!Lf||Wl&&8<Wl&&11>=Wl),ix=" ",rx=!1;function ax(s,r){switch(s){case"keyup":return hR.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ox(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xo=!1;function pR(s,r){switch(s){case"compositionend":return ox(r);case"keypress":return r.which!==32?null:(rx=!0,ix);case"textInput":return s=r.data,s===ix&&rx?null:s;default:return null}}function mR(s,r){if(xo)return s==="compositionend"||!Lf&&ax(s,r)?(s=Vu(),mo=Kl=vi=null,xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return sx&&r.locale!=="ko"?null:r.data;default:return null}}var gR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lx(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!gR[s.type]:r==="textarea"}function cx(s,r,a,u){gr?bi?bi.push(u):bi=[u]:gr=u,r=kd(r,"onChange"),0<r.length&&(a=new D("onChange","change",null,a,u),s.push({event:a,listeners:r}))}var Yl=null,ql=null;function ER(s){Kb(s,0)}function Yu(s){var r=Ei(s);if(ji(r))return s}function ux(s,r){if(s==="change")return r}var dx=!1;if(si){var Of;if(si){var kf="oninput"in document;if(!kf){var hx=document.createElement("div");hx.setAttribute("oninput","return;"),kf=typeof hx.oninput=="function"}Of=kf}else Of=!1;dx=Of&&(!document.documentMode||9<document.documentMode)}function fx(){Yl&&(Yl.detachEvent("onpropertychange",px),ql=Yl=null)}function px(s){if(s.propertyName==="value"&&Yu(ql)){var r=[];cx(r,ql,s,Vl(s)),Wn(ER,r)}}function xR(s,r,a){s==="focusin"?(fx(),Yl=r,ql=a,Yl.attachEvent("onpropertychange",px)):s==="focusout"&&fx()}function yR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yu(ql)}function bR(s,r){if(s==="click")return Yu(r)}function vR(s,r){if(s==="input"||s==="change")return Yu(r)}function TR(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var ys=typeof Object.is=="function"?Object.is:TR;function $l(s,r){if(ys(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var a=Object.keys(s),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var m=a[u];if(!ot.call(r,m)||!ys(s[m],r[m]))return!1}return!0}function mx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function gx(s,r){var a=mx(s);s=0;for(var u;a;){if(a.nodeType===3){if(u=s+a.textContent.length,s<=r&&u>=r)return{node:a,offset:r-s};s=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mx(a)}}function Ex(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Ex(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function xx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=oo(s.document);r instanceof s.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)s=r.contentWindow;else break;r=oo(s.document)}return r}function jf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var SR=si&&"documentMode"in document&&11>=document.documentMode,yo=null,Ff=null,Xl=null,Pf=!1;function yx(s,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pf||yo==null||yo!==oo(u)||(u=yo,"selectionStart"in u&&jf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xl&&$l(Xl,u)||(Xl=u,u=kd(Ff,"onSelect"),0<u.length&&(r=new D("onSelect","select",null,r,a),s.push({event:r,listeners:u}),r.target=yo)))}function ya(s,r){var a={};return a[s.toLowerCase()]=r.toLowerCase(),a["Webkit"+s]="webkit"+r,a["Moz"+s]="moz"+r,a}var bo={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Uf={},bx={};si&&(bx=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function ba(s){if(Uf[s])return Uf[s];if(!bo[s])return s;var r=bo[s],a;for(a in r)if(r.hasOwnProperty(a)&&a in bx)return Uf[s]=r[a];return s}var vx=ba("animationend"),Tx=ba("animationiteration"),Sx=ba("animationstart"),AR=ba("transitionrun"),NR=ba("transitionstart"),_R=ba("transitioncancel"),Ax=ba("transitionend"),Nx=new Map,Hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hf.push("scrollEnd");function ii(s,r){Nx.set(s,r),Es(r,[s])}var qu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},js=[],vo=0,Bf=0;function $u(){for(var s=vo,r=Bf=vo=0;r<s;){var a=js[r];js[r++]=null;var u=js[r];js[r++]=null;var m=js[r];js[r++]=null;var g=js[r];if(js[r++]=null,u!==null&&m!==null){var v=u.pending;v===null?m.next=m:(m.next=v.next,v.next=m),u.pending=m}g!==0&&_x(a,m,g)}}function Xu(s,r,a,u){js[vo++]=s,js[vo++]=r,js[vo++]=a,js[vo++]=u,Bf|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Gf(s,r,a,u){return Xu(s,r,a,u),Zu(s)}function va(s,r){return Xu(s,null,null,r),Zu(s)}function _x(s,r,a){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a);for(var m=!1,g=s.return;g!==null;)g.childLanes|=a,u=g.alternate,u!==null&&(u.childLanes|=a),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&r!==null&&(m=31-gn(a),s=g.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=a|536870912),g):null}function Zu(s){if(50<xc)throw xc=0,Zp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var To={};function wR(s,r,a,u){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(s,r,a,u){return new wR(s,r,a,u)}function zf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Pi(s,r){var a=s.alternate;return a===null?(a=bs(s.tag,r,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=r,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&65011712,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,r=s.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a.refCleanup=s.refCleanup,a}function wx(s,r){s.flags&=65011714;var a=s.alternate;return a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Qu(s,r,a,u,m,g){var v=0;if(u=s,typeof s=="function")zf(s)&&(v=1);else if(typeof s=="string")v=DC(s,a,se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case we:return s=bs(31,a,r,m),s.elementType=we,s.lanes=g,s;case R:return Ta(a.children,m,g,r);case I:v=8,m|=24;break;case O:return s=bs(12,a,r,m|2),s.elementType=O,s.lanes=g,s;case ne:return s=bs(13,a,r,m),s.elementType=ne,s.lanes=g,s;case P:return s=bs(19,a,r,m),s.elementType=P,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:v=10;break e;case $:v=9;break e;case K:v=11;break e;case Z:v=14;break e;case J:v=16,u=null;break e}v=29,a=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=bs(v,a,r,m),r.elementType=s,r.type=u,r.lanes=g,r}function Ta(s,r,a,u){return s=bs(7,s,u,r),s.lanes=a,s}function Vf(s,r,a){return s=bs(6,s,null,r),s.lanes=a,s}function Rx(s){var r=bs(18,null,null,0);return r.stateNode=s,r}function Kf(s,r,a){return r=bs(4,s.children!==null?s.children:[],s.key,r),r.lanes=a,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Cx=new WeakMap;function Fs(s,r){if(typeof s=="object"&&s!==null){var a=Cx.get(s);return a!==void 0?a:(r={value:s,source:r,stack:We(r)},Cx.set(s,r),r)}return{value:s,source:r,stack:We(r)}}var So=[],Ao=0,Ju=null,Zl=0,Ps=[],Us=0,xr=null,Ti=1,Si="";function Ui(s,r){So[Ao++]=Zl,So[Ao++]=Ju,Ju=s,Zl=r}function Ix(s,r,a){Ps[Us++]=Ti,Ps[Us++]=Si,Ps[Us++]=xr,xr=s;var u=Ti;s=Si;var m=32-gn(u)-1;u&=~(1<<m),a+=1;var g=32-gn(r)+m;if(30<g){var v=m-m%5;g=(u&(1<<v)-1).toString(32),u>>=v,m-=v,Ti=1<<32-gn(r)+m|a<<m|u,Si=g+s}else Ti=1<<g|a<<m|u,Si=s}function Wf(s){s.return!==null&&(Ui(s,1),Ix(s,1,0))}function Yf(s){for(;s===Ju;)Ju=So[--Ao],So[Ao]=null,Zl=So[--Ao],So[Ao]=null;for(;s===xr;)xr=Ps[--Us],Ps[Us]=null,Si=Ps[--Us],Ps[Us]=null,Ti=Ps[--Us],Ps[Us]=null}function Mx(s,r){Ps[Us++]=Ti,Ps[Us++]=Si,Ps[Us++]=xr,Ti=r.id,Si=r.overflow,xr=s}var Ln=null,Gt=null,yt=!1,yr=null,Hs=!1,qf=Error(i(519));function br(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(Fs(r,s)),qf}function Dx(s){var r=s.stateNode,a=s.type,u=s.memoizedProps;switch(r[rn]=s,r[Nn]=u,a){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(a=0;a<bc.length;a++)ft(bc[a],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":ft("invalid",r),Hu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ft("invalid",r);break;case"textarea":ft("invalid",r),Gu(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||$b(r.textContent,a)?(u.popover!=null&&(ft("beforetoggle",r),ft("toggle",r)),u.onScroll!=null&&ft("scroll",r),u.onScrollEnd!=null&&ft("scrollend",r),u.onClick!=null&&(r.onclick=ni),r=!0):r=!1,r||br(s,!0)}function Lx(s){for(Ln=s.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Hs=!1;return;case 27:case 3:Hs=!0;return;default:Ln=Ln.return}}function No(s){if(s!==Ln)return!1;if(!yt)return Lx(s),yt=!0,!1;var r=s.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=s.type,a=!(a!=="form"&&a!=="button")||hm(s.type,s.memoizedProps)),a=!a),a&&Gt&&br(s),Lx(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Gt=iv(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Gt=iv(s)}else r===27?(r=Gt,Or(s.type)?(s=Em,Em=null,Gt=s):Gt=r):Gt=Ln?Gs(s.stateNode.nextSibling):null;return!0}function Sa(){Gt=Ln=null,yt=!1}function $f(){var s=yr;return s!==null&&(ls===null?ls=s:ls.push.apply(ls,s),yr=null),s}function Ql(s){yr===null?yr=[s]:yr.push(s)}var Xf=w(null),Aa=null,Hi=null;function vr(s,r,a){L(Xf,r._currentValue),r._currentValue=a}function Bi(s){s._currentValue=Xf.current,q(Xf)}function Zf(s,r,a){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===a)break;s=s.return}}function Qf(s,r,a,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var v=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var C=0;C<r.length;C++)if(S.context===r[C]){g.lanes|=a,S=g.alternate,S!==null&&(S.lanes|=a),Zf(g.return,a,s),u||(v=null);break e}g=S.next}}else if(m.tag===18){if(v=m.return,v===null)throw Error(i(341));v.lanes|=a,g=v.alternate,g!==null&&(g.lanes|=a),Zf(v,a,s),v=null}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===s){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}}function _o(s,r,a,u){s=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var v=m.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=m.type;ys(m.pendingProps.value,v.value)||(s!==null?s.push(S):s=[S])}}else if(m===Ae.current){if(v=m.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Nc):s=[Nc])}m=m.return}s!==null&&Qf(r,s,a,u),r.flags|=262144}function ed(s){for(s=s.firstContext;s!==null;){if(!ys(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Na(s){Aa=s,Hi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function On(s){return Ox(Aa,s)}function td(s,r){return Aa===null&&Na(s),Ox(s,r)}function Ox(s,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Hi===null){if(s===null)throw Error(i(308));Hi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Hi=Hi.next=r;return a}var RR=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(a,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(a){return a()})}},CR=t.unstable_scheduleCallback,IR=t.unstable_NormalPriority,un={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new RR,data:new Map,refCount:0}}function Jl(s){s.refCount--,s.refCount===0&&CR(IR,function(){s.controller.abort()})}var ec=null,ep=0,wo=0,Ro=null;function MR(s,r){if(ec===null){var a=ec=[];ep=0,wo=sm(),Ro={status:"pending",value:void 0,then:function(u){a.push(u)}}}return ep++,r.then(kx,kx),r}function kx(){if(--ep===0&&ec!==null){Ro!==null&&(Ro.status="fulfilled");var s=ec;ec=null,wo=0,Ro=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function DR(s,r){var a=[],u={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<a.length;m++)(0,a[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),u}var jx=k.S;k.S=function(s,r){yb=Me(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&MR(s,r),jx!==null&&jx(s,r)};var _a=w(null);function tp(){var s=_a.current;return s!==null?s:Ft.pooledCache}function nd(s,r){r===null?L(_a,_a.current):L(_a,r.pool)}function Fx(){var s=tp();return s===null?null:{parent:un._currentValue,pool:s}}var Co=Error(i(460)),np=Error(i(474)),sd=Error(i(542)),id={then:function(){}};function Px(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ux(s,r,a){switch(a=s[a],a===void 0?s.push(r):a!==r&&(r.then(ni,ni),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Bx(s),s;default:if(typeof r.status=="string")r.then(ni,ni);else{if(s=Ft,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Bx(s),s}throw Ra=r,Co}}function wa(s){try{var r=s._init;return r(s._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ra=a,Co):a}}var Ra=null;function Hx(){if(Ra===null)throw Error(i(459));var s=Ra;return Ra=null,s}function Bx(s){if(s===Co||s===sd)throw Error(i(483))}var Io=null,tc=0;function rd(s){var r=tc;return tc+=1,Io===null&&(Io=[]),Ux(Io,s,r)}function nc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function ad(s,r){throw r.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Gx(s){function r(j,M){if(s){var G=j.deletions;G===null?(j.deletions=[M],j.flags|=16):G.push(M)}}function a(j,M){if(!s)return null;for(;M!==null;)r(j,M),M=M.sibling;return null}function u(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function m(j,M){return j=Pi(j,M),j.index=0,j.sibling=null,j}function g(j,M,G){return j.index=G,s?(G=j.alternate,G!==null?(G=G.index,G<M?(j.flags|=67108866,M):G):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function v(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function S(j,M,G,le){return M===null||M.tag!==6?(M=Vf(G,j.mode,le),M.return=j,M):(M=m(M,G),M.return=j,M)}function C(j,M,G,le){var Ke=G.type;return Ke===R?re(j,M,G.props.children,le,G.key):M!==null&&(M.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===J&&wa(Ke)===M.type)?(M=m(M,G.props),nc(M,G),M.return=j,M):(M=Qu(G.type,G.key,G.props,null,j.mode,le),nc(M,G),M.return=j,M)}function V(j,M,G,le){return M===null||M.tag!==4||M.stateNode.containerInfo!==G.containerInfo||M.stateNode.implementation!==G.implementation?(M=Kf(G,j.mode,le),M.return=j,M):(M=m(M,G.children||[]),M.return=j,M)}function re(j,M,G,le,Ke){return M===null||M.tag!==7?(M=Ta(G,j.mode,le,Ke),M.return=j,M):(M=m(M,G),M.return=j,M)}function de(j,M,G){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Vf(""+M,j.mode,G),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case T:return G=Qu(M.type,M.key,M.props,null,j.mode,G),nc(G,M),G.return=j,G;case N:return M=Kf(M,j.mode,G),M.return=j,M;case J:return M=wa(M),de(j,M,G)}if(Y(M)||he(M))return M=Ta(M,j.mode,G,null),M.return=j,M;if(typeof M.then=="function")return de(j,rd(M),G);if(M.$$typeof===U)return de(j,td(j,M),G);ad(j,M)}return null}function X(j,M,G,le){var Ke=M!==null?M.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ke!==null?null:S(j,M,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===Ke?C(j,M,G,le):null;case N:return G.key===Ke?V(j,M,G,le):null;case J:return G=wa(G),X(j,M,G,le)}if(Y(G)||he(G))return Ke!==null?null:re(j,M,G,le,null);if(typeof G.then=="function")return X(j,M,rd(G),le);if(G.$$typeof===U)return X(j,M,td(j,G),le);ad(j,G)}return null}function te(j,M,G,le,Ke){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return j=j.get(G)||null,S(M,j,""+le,Ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case T:return j=j.get(le.key===null?G:le.key)||null,C(M,j,le,Ke);case N:return j=j.get(le.key===null?G:le.key)||null,V(M,j,le,Ke);case J:return le=wa(le),te(j,M,G,le,Ke)}if(Y(le)||he(le))return j=j.get(G)||null,re(M,j,le,Ke,null);if(typeof le.then=="function")return te(j,M,G,rd(le),Ke);if(le.$$typeof===U)return te(j,M,G,td(M,le),Ke);ad(M,le)}return null}function je(j,M,G,le){for(var Ke=null,Tt=null,He=M,lt=M=0,Et=null;He!==null&&lt<G.length;lt++){He.index>lt?(Et=He,He=null):Et=He.sibling;var St=X(j,He,G[lt],le);if(St===null){He===null&&(He=Et);break}s&&He&&St.alternate===null&&r(j,He),M=g(St,M,lt),Tt===null?Ke=St:Tt.sibling=St,Tt=St,He=Et}if(lt===G.length)return a(j,He),yt&&Ui(j,lt),Ke;if(He===null){for(;lt<G.length;lt++)He=de(j,G[lt],le),He!==null&&(M=g(He,M,lt),Tt===null?Ke=He:Tt.sibling=He,Tt=He);return yt&&Ui(j,lt),Ke}for(He=u(He);lt<G.length;lt++)Et=te(He,j,lt,G[lt],le),Et!==null&&(s&&Et.alternate!==null&&He.delete(Et.key===null?lt:Et.key),M=g(Et,M,lt),Tt===null?Ke=Et:Tt.sibling=Et,Tt=Et);return s&&He.forEach(function(Ur){return r(j,Ur)}),yt&&Ui(j,lt),Ke}function Ye(j,M,G,le){if(G==null)throw Error(i(151));for(var Ke=null,Tt=null,He=M,lt=M=0,Et=null,St=G.next();He!==null&&!St.done;lt++,St=G.next()){He.index>lt?(Et=He,He=null):Et=He.sibling;var Ur=X(j,He,St.value,le);if(Ur===null){He===null&&(He=Et);break}s&&He&&Ur.alternate===null&&r(j,He),M=g(Ur,M,lt),Tt===null?Ke=Ur:Tt.sibling=Ur,Tt=Ur,He=Et}if(St.done)return a(j,He),yt&&Ui(j,lt),Ke;if(He===null){for(;!St.done;lt++,St=G.next())St=de(j,St.value,le),St!==null&&(M=g(St,M,lt),Tt===null?Ke=St:Tt.sibling=St,Tt=St);return yt&&Ui(j,lt),Ke}for(He=u(He);!St.done;lt++,St=G.next())St=te(He,j,lt,St.value,le),St!==null&&(s&&St.alternate!==null&&He.delete(St.key===null?lt:St.key),M=g(St,M,lt),Tt===null?Ke=St:Tt.sibling=St,Tt=St);return s&&He.forEach(function(zC){return r(j,zC)}),yt&&Ui(j,lt),Ke}function Ot(j,M,G,le){if(typeof G=="object"&&G!==null&&G.type===R&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:e:{for(var Ke=G.key;M!==null;){if(M.key===Ke){if(Ke=G.type,Ke===R){if(M.tag===7){a(j,M.sibling),le=m(M,G.props.children),le.return=j,j=le;break e}}else if(M.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===J&&wa(Ke)===M.type){a(j,M.sibling),le=m(M,G.props),nc(le,G),le.return=j,j=le;break e}a(j,M);break}else r(j,M);M=M.sibling}G.type===R?(le=Ta(G.props.children,j.mode,le,G.key),le.return=j,j=le):(le=Qu(G.type,G.key,G.props,null,j.mode,le),nc(le,G),le.return=j,j=le)}return v(j);case N:e:{for(Ke=G.key;M!==null;){if(M.key===Ke)if(M.tag===4&&M.stateNode.containerInfo===G.containerInfo&&M.stateNode.implementation===G.implementation){a(j,M.sibling),le=m(M,G.children||[]),le.return=j,j=le;break e}else{a(j,M);break}else r(j,M);M=M.sibling}le=Kf(G,j.mode,le),le.return=j,j=le}return v(j);case J:return G=wa(G),Ot(j,M,G,le)}if(Y(G))return je(j,M,G,le);if(he(G)){if(Ke=he(G),typeof Ke!="function")throw Error(i(150));return G=Ke.call(G),Ye(j,M,G,le)}if(typeof G.then=="function")return Ot(j,M,rd(G),le);if(G.$$typeof===U)return Ot(j,M,td(j,G),le);ad(j,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,M!==null&&M.tag===6?(a(j,M.sibling),le=m(M,G),le.return=j,j=le):(a(j,M),le=Vf(G,j.mode,le),le.return=j,j=le),v(j)):a(j,M)}return function(j,M,G,le){try{tc=0;var Ke=Ot(j,M,G,le);return Io=null,Ke}catch(He){if(He===Co||He===sd)throw He;var Tt=bs(29,He,null,j.mode);return Tt.lanes=le,Tt.return=j,Tt}finally{}}}var Ca=Gx(!0),zx=Gx(!1),Tr=!1;function sp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ip(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Sr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ar(s,r,a){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(wt&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Zu(s),_x(s,null,a),r}return Xu(s,u,r,a),Zu(s)}function sc(s,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,a|=u,r.lanes=a,Qs(s,a)}}function rp(s,r){var a=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var m=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?m=g=v:g=g.next=v,a=a.next}while(a!==null);g===null?m=g=r:g=g.next=r}else m=g=r;a={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=r:s.next=r,a.lastBaseUpdate=r}var ap=!1;function ic(){if(ap){var s=Ro;if(s!==null)throw s}}function rc(s,r,a,u){ap=!1;var m=s.updateQueue;Tr=!1;var g=m.firstBaseUpdate,v=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var C=S,V=C.next;C.next=null,v===null?g=V:v.next=V,v=C;var re=s.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==v&&(S===null?re.firstBaseUpdate=V:S.next=V,re.lastBaseUpdate=C))}if(g!==null){var de=m.baseState;v=0,re=V=C=null,S=g;do{var X=S.lane&-536870913,te=X!==S.lane;if(te?(gt&X)===X:(u&X)===X){X!==0&&X===wo&&(ap=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var je=s,Ye=S;X=r;var Ot=a;switch(Ye.tag){case 1:if(je=Ye.payload,typeof je=="function"){de=je.call(Ot,de,X);break e}de=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ye.payload,X=typeof je=="function"?je.call(Ot,de,X):je,X==null)break e;de=y({},de,X);break e;case 2:Tr=!0}}X=S.callback,X!==null&&(s.flags|=64,te&&(s.flags|=8192),te=m.callbacks,te===null?m.callbacks=[X]:te.push(X))}else te={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(V=re=te,C=de):re=re.next=te,v|=X;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;te=S,S=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);re===null&&(C=de),m.baseState=C,m.firstBaseUpdate=V,m.lastBaseUpdate=re,g===null&&(m.shared.lanes=0),Cr|=v,s.lanes=v,s.memoizedState=de}}function Vx(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Kx(s,r){var a=s.callbacks;if(a!==null)for(s.callbacks=null,s=0;s<a.length;s++)Vx(a[s],r)}var Mo=w(null),od=w(0);function Wx(s,r){s=Xi,L(od,s),L(Mo,r),Xi=s|r.baseLanes}function op(){L(od,Xi),L(Mo,Mo.current)}function lp(){Xi=od.current,q(Mo),q(od)}var vs=w(null),Bs=null;function Nr(s){var r=s.alternate;L(an,an.current&1),L(vs,s),Bs===null&&(r===null||Mo.current!==null||r.memoizedState!==null)&&(Bs=s)}function cp(s){L(an,an.current),L(vs,s),Bs===null&&(Bs=s)}function Yx(s){s.tag===22?(L(an,an.current),L(vs,s),Bs===null&&(Bs=s)):_r()}function _r(){L(an,an.current),L(vs,vs.current)}function Ts(s){q(vs),Bs===s&&(Bs=null),q(an)}var an=w(0);function ld(s){for(var r=s;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mm(a)||gm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Gi=0,at=null,Dt=null,dn=null,cd=!1,Do=!1,Ia=!1,ud=0,ac=0,Lo=null,LR=0;function Jt(){throw Error(i(321))}function up(s,r){if(r===null)return!1;for(var a=0;a<r.length&&a<s.length;a++)if(!ys(s[a],r[a]))return!1;return!0}function dp(s,r,a,u,m,g){return Gi=g,at=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,k.H=s===null||s.memoizedState===null?Iy:_p,Ia=!1,g=a(u,m),Ia=!1,Do&&(g=$x(r,a,u,m)),qx(s),g}function qx(s){k.H=cc;var r=Dt!==null&&Dt.next!==null;if(Gi=0,dn=Dt=at=null,cd=!1,ac=0,Lo=null,r)throw Error(i(300));s===null||hn||(s=s.dependencies,s!==null&&ed(s)&&(hn=!0))}function $x(s,r,a,u){at=s;var m=0;do{if(Do&&(Lo=null),ac=0,Do=!1,25<=m)throw Error(i(301));if(m+=1,dn=Dt=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}k.H=My,g=r(a,u)}while(Do);return g}function OR(){var s=k.H,r=s.useState()[0];return r=typeof r.then=="function"?oc(r):r,s=s.useState()[0],(Dt!==null?Dt.memoizedState:null)!==s&&(at.flags|=1024),r}function hp(){var s=ud!==0;return ud=0,s}function fp(s,r,a){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~a}function pp(s){if(cd){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}cd=!1}Gi=0,dn=Dt=at=null,Do=!1,ac=ud=0,Lo=null}function qn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?at.memoizedState=dn=s:dn=dn.next=s,dn}function on(){if(Dt===null){var s=at.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var r=dn===null?at.memoizedState:dn.next;if(r!==null)dn=r,Dt=s;else{if(s===null)throw at.alternate===null?Error(i(467)):Error(i(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},dn===null?at.memoizedState=dn=s:dn=dn.next=s}return dn}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(s){var r=ac;return ac+=1,Lo===null&&(Lo=[]),s=Ux(Lo,s,r),r=at,(dn===null?r.memoizedState:dn.next)===null&&(r=r.alternate,k.H=r===null||r.memoizedState===null?Iy:_p),s}function hd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return oc(s);if(s.$$typeof===U)return On(s)}throw Error(i(438,String(s)))}function mp(s){var r=null,a=at.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=at.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=dd(),at.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(s),u=0;u<s;u++)a[u]=De;return r.index++,a}function zi(s,r){return typeof r=="function"?r(s):r}function fd(s){var r=on();return gp(r,Dt,s)}function gp(s,r,a){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var m=s.baseQueue,g=u.pending;if(g!==null){if(m!==null){var v=m.next;m.next=g.next,g.next=v}r.baseQueue=m=g,u.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{r=m.next;var S=v=null,C=null,V=r,re=!1;do{var de=V.lane&-536870913;if(de!==V.lane?(gt&de)===de:(Gi&de)===de){var X=V.revertLane;if(X===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),de===wo&&(re=!0);else if((Gi&X)===X){V=V.next,X===wo&&(re=!0);continue}else de={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},C===null?(S=C=de,v=g):C=C.next=de,at.lanes|=X,Cr|=X;de=V.action,Ia&&a(g,de),g=V.hasEagerState?V.eagerState:a(g,de)}else X={lane:de,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},C===null?(S=C=X,v=g):C=C.next=X,at.lanes|=de,Cr|=de;V=V.next}while(V!==null&&V!==r);if(C===null?v=g:C.next=S,!ys(g,s.memoizedState)&&(hn=!0,re&&(a=Ro,a!==null)))throw a;s.memoizedState=g,s.baseState=v,s.baseQueue=C,u.lastRenderedState=g}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Ep(s){var r=on(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=s;var u=a.dispatch,m=a.pending,g=r.memoizedState;if(m!==null){a.pending=null;var v=m=m.next;do g=s(g,v.action),v=v.next;while(v!==m);ys(g,r.memoizedState)||(hn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),a.lastRenderedState=g}return[g,u]}function Xx(s,r,a){var u=at,m=on(),g=yt;if(g){if(a===void 0)throw Error(i(407));a=a()}else a=r();var v=!ys((Dt||m).memoizedState,a);if(v&&(m.memoizedState=a,hn=!0),m=m.queue,bp(Jx.bind(null,u,m,s),[s]),m.getSnapshot!==r||v||dn!==null&&dn.memoizedState.tag&1){if(u.flags|=2048,Oo(9,{destroy:void 0},Qx.bind(null,u,m,a,r),null),Ft===null)throw Error(i(349));g||(Gi&127)!==0||Zx(u,r,a)}return a}function Zx(s,r,a){s.flags|=16384,s={getSnapshot:r,value:a},r=at.updateQueue,r===null?(r=dd(),at.updateQueue=r,r.stores=[s]):(a=r.stores,a===null?r.stores=[s]:a.push(s))}function Qx(s,r,a,u){r.value=a,r.getSnapshot=u,ey(r)&&ty(s)}function Jx(s,r,a){return a(function(){ey(r)&&ty(s)})}function ey(s){var r=s.getSnapshot;s=s.value;try{var a=r();return!ys(s,a)}catch{return!0}}function ty(s){var r=va(s,2);r!==null&&cs(r,s,2)}function xp(s){var r=qn();if(typeof s=="function"){var a=s;if(s=a(),Ia){Cs(!0);try{a()}finally{Cs(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},r}function ny(s,r,a,u){return s.baseState=a,gp(s,Dt,typeof u=="function"?u:zi)}function kR(s,r,a,u,m){if(gd(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){g.listeners.push(v)}};k.T!==null?a(!0):g.isTransition=!1,u(g),a=r.pending,a===null?(g.next=r.pending=g,sy(r,g)):(g.next=a.next,r.pending=a.next=g)}}function sy(s,r){var a=r.action,u=r.payload,m=s.state;if(r.isTransition){var g=k.T,v={};k.T=v;try{var S=a(m,u),C=k.S;C!==null&&C(v,S),iy(s,r,S)}catch(V){yp(s,r,V)}finally{g!==null&&v.types!==null&&(g.types=v.types),k.T=g}}else try{g=a(m,u),iy(s,r,g)}catch(V){yp(s,r,V)}}function iy(s,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){ry(s,r,u)},function(u){return yp(s,r,u)}):ry(s,r,a)}function ry(s,r,a){r.status="fulfilled",r.value=a,ay(r),s.state=a,r=s.pending,r!==null&&(a=r.next,a===r?s.pending=null:(a=a.next,r.next=a,sy(s,a)))}function yp(s,r,a){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,ay(r),r=r.next;while(r!==u)}s.action=null}function ay(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function oy(s,r){return r}function ly(s,r){if(yt){var a=Ft.formState;if(a!==null){e:{var u=at;if(yt){if(Gt){t:{for(var m=Gt,g=Hs;m.nodeType!==8;){if(!g){m=null;break t}if(m=Gs(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Gt=Gs(m.nextSibling),u=m.data==="F!";break e}}br(u)}u=!1}u&&(r=a[0])}}return a=qn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:r},a.queue=u,a=wy.bind(null,at,u),u.dispatch=a,u=xp(!1),g=Np.bind(null,at,!1,u.queue),u=qn(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,a=kR.bind(null,at,m,g,a),m.dispatch=a,u.memoizedState=s,[r,a,!1]}function cy(s){var r=on();return uy(r,Dt,s)}function uy(s,r,a){if(r=gp(s,r,oy)[0],s=fd(zi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=oc(r)}catch(v){throw v===Co?sd:v}else u=r;r=on();var m=r.queue,g=m.dispatch;return a!==r.memoizedState&&(at.flags|=2048,Oo(9,{destroy:void 0},jR.bind(null,m,a),null)),[u,g,s]}function jR(s,r){s.action=r}function dy(s){var r=on(),a=Dt;if(a!==null)return uy(r,a,s);on(),r=r.memoizedState,a=on();var u=a.queue.dispatch;return a.memoizedState=s,[r,u,!1]}function Oo(s,r,a,u){return s={tag:s,create:a,deps:u,inst:r,next:null},r=at.updateQueue,r===null&&(r=dd(),at.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=s.next=s:(u=a.next,a.next=s,s.next=u,r.lastEffect=s),s}function hy(){return on().memoizedState}function pd(s,r,a,u){var m=qn();at.flags|=s,m.memoizedState=Oo(1|r,{destroy:void 0},a,u===void 0?null:u)}function md(s,r,a,u){var m=on();u=u===void 0?null:u;var g=m.memoizedState.inst;Dt!==null&&u!==null&&up(u,Dt.memoizedState.deps)?m.memoizedState=Oo(r,g,a,u):(at.flags|=s,m.memoizedState=Oo(1|r,g,a,u))}function fy(s,r){pd(8390656,8,s,r)}function bp(s,r){md(2048,8,s,r)}function FR(s){at.flags|=4;var r=at.updateQueue;if(r===null)r=dd(),at.updateQueue=r,r.events=[s];else{var a=r.events;a===null?r.events=[s]:a.push(s)}}function py(s){var r=on().memoizedState;return FR({ref:r,nextImpl:s}),function(){if((wt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function my(s,r){return md(4,2,s,r)}function gy(s,r){return md(4,4,s,r)}function Ey(s,r){if(typeof r=="function"){s=s();var a=r(s);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function xy(s,r,a){a=a!=null?a.concat([s]):null,md(4,4,Ey.bind(null,r,s),a)}function vp(){}function yy(s,r){var a=on();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&up(r,u[1])?u[0]:(a.memoizedState=[s,r],s)}function by(s,r){var a=on();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&up(r,u[1]))return u[0];if(u=s(),Ia){Cs(!0);try{s()}finally{Cs(!1)}}return a.memoizedState=[u,r],u}function Tp(s,r,a){return a===void 0||(Gi&1073741824)!==0&&(gt&261930)===0?s.memoizedState=r:(s.memoizedState=a,s=vb(),at.lanes|=s,Cr|=s,a)}function vy(s,r,a,u){return ys(a,r)?a:Mo.current!==null?(s=Tp(s,a,u),ys(s,r)||(hn=!0),s):(Gi&42)===0||(Gi&1073741824)!==0&&(gt&261930)===0?(hn=!0,s.memoizedState=a):(s=vb(),at.lanes|=s,Cr|=s,r)}function Ty(s,r,a,u,m){var g=H.p;H.p=g!==0&&8>g?g:8;var v=k.T,S={};k.T=S,Np(s,!1,r,a);try{var C=m(),V=k.S;if(V!==null&&V(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var re=DR(C,u);lc(s,r,re,Ns(s))}else lc(s,r,u,Ns(s))}catch(de){lc(s,r,{then:function(){},status:"rejected",reason:de},Ns())}finally{H.p=g,v!==null&&S.types!==null&&(v.types=S.types),k.T=v}}function PR(){}function Sp(s,r,a,u){if(s.tag!==5)throw Error(i(476));var m=Sy(s).queue;Ty(s,m,r,ae,a===null?PR:function(){return Ay(s),a(u)})}function Sy(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ae},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Ay(s){var r=Sy(s);r.next===null&&(r=s.alternate.memoizedState),lc(s,r.next.queue,{},Ns())}function Ap(){return On(Nc)}function Ny(){return on().memoizedState}function _y(){return on().memoizedState}function UR(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var a=Ns();s=Sr(a);var u=Ar(r,s,a);u!==null&&(cs(u,r,a),sc(u,r,a)),r={cache:Jf()},s.payload=r;return}r=r.return}}function HR(s,r,a){var u=Ns();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gd(s)?Ry(r,a):(a=Gf(s,r,a,u),a!==null&&(cs(a,s,u),Cy(a,r,u)))}function wy(s,r,a){var u=Ns();lc(s,r,a,u)}function lc(s,r,a,u){var m={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gd(s))Ry(r,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var v=r.lastRenderedState,S=g(v,a);if(m.hasEagerState=!0,m.eagerState=S,ys(S,v))return Xu(s,r,m,0),Ft===null&&$u(),!1}catch{}finally{}if(a=Gf(s,r,m,u),a!==null)return cs(a,s,u),Cy(a,r,u),!0}return!1}function Np(s,r,a,u){if(u={lane:2,revertLane:sm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},gd(s)){if(r)throw Error(i(479))}else r=Gf(s,a,u,2),r!==null&&cs(r,s,2)}function gd(s){var r=s.alternate;return s===at||r!==null&&r===at}function Ry(s,r){Do=cd=!0;var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}function Cy(s,r,a){if((a&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,a|=u,r.lanes=a,Qs(s,a)}}var cc={readContext:On,use:hd,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};cc.useEffectEvent=Jt;var Iy={readContext:On,use:hd,useCallback:function(s,r){return qn().memoizedState=[s,r===void 0?null:r],s},useContext:On,useEffect:fy,useImperativeHandle:function(s,r,a){a=a!=null?a.concat([s]):null,pd(4194308,4,Ey.bind(null,r,s),a)},useLayoutEffect:function(s,r){return pd(4194308,4,s,r)},useInsertionEffect:function(s,r){pd(4,2,s,r)},useMemo:function(s,r){var a=qn();r=r===void 0?null:r;var u=s();if(Ia){Cs(!0);try{s()}finally{Cs(!1)}}return a.memoizedState=[u,r],u},useReducer:function(s,r,a){var u=qn();if(a!==void 0){var m=a(r);if(Ia){Cs(!0);try{a(r)}finally{Cs(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=HR.bind(null,at,s),[u.memoizedState,s]},useRef:function(s){var r=qn();return s={current:s},r.memoizedState=s},useState:function(s){s=xp(s);var r=s.queue,a=wy.bind(null,at,r);return r.dispatch=a,[s.memoizedState,a]},useDebugValue:vp,useDeferredValue:function(s,r){var a=qn();return Tp(a,s,r)},useTransition:function(){var s=xp(!1);return s=Ty.bind(null,at,s.queue,!0,!1),qn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,a){var u=at,m=qn();if(yt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),Ft===null)throw Error(i(349));(gt&127)!==0||Zx(u,r,a)}m.memoizedState=a;var g={value:a,getSnapshot:r};return m.queue=g,fy(Jx.bind(null,u,g,s),[s]),u.flags|=2048,Oo(9,{destroy:void 0},Qx.bind(null,u,g,a,r),null),a},useId:function(){var s=qn(),r=Ft.identifierPrefix;if(yt){var a=Si,u=Ti;a=(u&~(1<<32-gn(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=ud++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=LR++,r="_"+r+"r_"+a.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Ap,useFormState:ly,useActionState:ly,useOptimistic:function(s){var r=qn();r.memoizedState=r.baseState=s;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Np.bind(null,at,!0,a),a.dispatch=r,[s,r]},useMemoCache:mp,useCacheRefresh:function(){return qn().memoizedState=UR.bind(null,at)},useEffectEvent:function(s){var r=qn(),a={impl:s};return r.memoizedState=a,function(){if((wt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},_p={readContext:On,use:hd,useCallback:yy,useContext:On,useEffect:bp,useImperativeHandle:xy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:by,useReducer:fd,useRef:hy,useState:function(){return fd(zi)},useDebugValue:vp,useDeferredValue:function(s,r){var a=on();return vy(a,Dt.memoizedState,s,r)},useTransition:function(){var s=fd(zi)[0],r=on().memoizedState;return[typeof s=="boolean"?s:oc(s),r]},useSyncExternalStore:Xx,useId:Ny,useHostTransitionStatus:Ap,useFormState:cy,useActionState:cy,useOptimistic:function(s,r){var a=on();return ny(a,Dt,s,r)},useMemoCache:mp,useCacheRefresh:_y};_p.useEffectEvent=py;var My={readContext:On,use:hd,useCallback:yy,useContext:On,useEffect:bp,useImperativeHandle:xy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:by,useReducer:Ep,useRef:hy,useState:function(){return Ep(zi)},useDebugValue:vp,useDeferredValue:function(s,r){var a=on();return Dt===null?Tp(a,s,r):vy(a,Dt.memoizedState,s,r)},useTransition:function(){var s=Ep(zi)[0],r=on().memoizedState;return[typeof s=="boolean"?s:oc(s),r]},useSyncExternalStore:Xx,useId:Ny,useHostTransitionStatus:Ap,useFormState:dy,useActionState:dy,useOptimistic:function(s,r){var a=on();return Dt!==null?ny(a,Dt,s,r):(a.baseState=s,[s,a.queue.dispatch])},useMemoCache:mp,useCacheRefresh:_y};My.useEffectEvent=py;function wp(s,r,a,u){r=s.memoizedState,a=a(u,r),a=a==null?r:y({},r,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var Rp={enqueueSetState:function(s,r,a){s=s._reactInternals;var u=Ns(),m=Sr(u);m.payload=r,a!=null&&(m.callback=a),r=Ar(s,m,u),r!==null&&(cs(r,s,u),sc(r,s,u))},enqueueReplaceState:function(s,r,a){s=s._reactInternals;var u=Ns(),m=Sr(u);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=Ar(s,m,u),r!==null&&(cs(r,s,u),sc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var a=Ns(),u=Sr(a);u.tag=2,r!=null&&(u.callback=r),r=Ar(s,u,a),r!==null&&(cs(r,s,a),sc(r,s,a))}};function Dy(s,r,a,u,m,g,v){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,v):r.prototype&&r.prototype.isPureReactComponent?!$l(a,u)||!$l(m,g):!0}function Ly(s,r,a,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==s&&Rp.enqueueReplaceState(r,r.state,null)}function Ma(s,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(s=s.defaultProps){a===r&&(a=y({},a));for(var m in s)a[m]===void 0&&(a[m]=s[m])}return a}function Oy(s){qu(s)}function ky(s){console.error(s)}function jy(s){qu(s)}function Ed(s,r){try{var a=s.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Fy(s,r,a){try{var u=s.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Cp(s,r,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ed(s,r)},a}function Py(s){return s=Sr(s),s.tag=3,s}function Uy(s,r,a,u){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;s.payload=function(){return m(g)},s.callback=function(){Fy(r,a,u)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){Fy(r,a,u),typeof m!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function BR(s,r,a,u,m){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&_o(r,a,m,!0),a=vs.current,a!==null){switch(a.tag){case 31:case 13:return Bs===null?Cd():a.alternate===null&&en===0&&(en=3),a.flags&=-257,a.flags|=65536,a.lanes=m,u===id?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),em(s,u,m)),!1;case 22:return a.flags|=65536,u===id?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),em(s,u,m)),!1}throw Error(i(435,a.tag))}return em(s,u,m),Cd(),!1}if(yt)return r=vs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==qf&&(s=Error(i(422),{cause:u}),Ql(Fs(s,a)))):(u!==qf&&(r=Error(i(423),{cause:u}),Ql(Fs(r,a))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=Fs(u,a),m=Cp(s.stateNode,u,m),rp(s,m),en!==4&&(en=2)),!1;var g=Error(i(520),{cause:u});if(g=Fs(g,a),Ec===null?Ec=[g]:Ec.push(g),en!==4&&(en=2),r===null)return!0;u=Fs(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,s=m&-m,a.lanes|=s,s=Cp(a.stateNode,u,s),rp(a,s),!1;case 1:if(r=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ir===null||!Ir.has(g))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Py(m),Uy(m,s,a,u),rp(a,m),!1}a=a.return}while(a!==null);return!1}var Ip=Error(i(461)),hn=!1;function kn(s,r,a,u){r.child=s===null?zx(r,null,a,u):Ca(r,s.child,a,u)}function Hy(s,r,a,u,m){a=a.render;var g=r.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return Na(r),u=dp(s,r,a,v,g,m),S=hp(),s!==null&&!hn?(fp(s,r,m),Vi(s,r,m)):(yt&&S&&Wf(r),r.flags|=1,kn(s,r,u,m),r.child)}function By(s,r,a,u,m){if(s===null){var g=a.type;return typeof g=="function"&&!zf(g)&&g.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=g,Gy(s,r,g,u,m)):(s=Qu(a.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!Pp(s,m)){var v=g.memoizedProps;if(a=a.compare,a=a!==null?a:$l,a(v,u)&&s.ref===r.ref)return Vi(s,r,m)}return r.flags|=1,s=Pi(g,u),s.ref=r.ref,s.return=r,r.child=s}function Gy(s,r,a,u,m){if(s!==null){var g=s.memoizedProps;if($l(g,u)&&s.ref===r.ref)if(hn=!1,r.pendingProps=u=g,Pp(s,m))(s.flags&131072)!==0&&(hn=!0);else return r.lanes=s.lanes,Vi(s,r,m)}return Mp(s,r,a,u,m)}function zy(s,r,a,u){var m=u.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|a:a,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,r.child=null;return Vy(s,r,g,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&nd(r,g!==null?g.cachePool:null),g!==null?Wx(r,g):op(),Yx(r);else return u=r.lanes=536870912,Vy(s,r,g!==null?g.baseLanes|a:a,a,u)}else g!==null?(nd(r,g.cachePool),Wx(r,g),_r(),r.memoizedState=null):(s!==null&&nd(r,null),op(),_r());return kn(s,r,m,a),r.child}function uc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Vy(s,r,a,u,m){var g=tp();return g=g===null?null:{parent:un._currentValue,pool:g},r.memoizedState={baseLanes:a,cachePool:g},s!==null&&nd(r,null),op(),Yx(r),s!==null&&_o(s,r,u,!0),r.childLanes=m,null}function xd(s,r){return r=bd({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Ky(s,r,a){return Ca(r,s.child,null,a),s=xd(r,r.pendingProps),s.flags|=2,Ts(r),r.memoizedState=null,s}function GR(s,r,a){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(yt){if(u.mode==="hidden")return s=xd(r,u),r.lanes=536870912,uc(null,s);if(cp(r),(s=Gt)?(s=sv(s,Hs),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:xr!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Rx(s),a.return=r,r.child=a,Ln=r,Gt=null)):s=null,s===null)throw br(r);return r.lanes=536870912,null}return xd(r,u)}var g=s.memoizedState;if(g!==null){var v=g.dehydrated;if(cp(r),m)if(r.flags&256)r.flags&=-257,r=Ky(s,r,a);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(hn||_o(s,r,a,!1),m=(a&s.childLanes)!==0,hn||m){if(u=Ft,u!==null&&(v=_e(u,a),v!==0&&v!==g.retryLane))throw g.retryLane=v,va(s,v),cs(u,s,v),Ip;Cd(),r=Ky(s,r,a)}else s=g.treeContext,Gt=Gs(v.nextSibling),Ln=r,yt=!0,yr=null,Hs=!1,s!==null&&Mx(r,s),r=xd(r,u),r.flags|=4096;return r}return s=Pi(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function yd(s,r){var a=r.ref;if(a===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(s===null||s.ref!==a)&&(r.flags|=4194816)}}function Mp(s,r,a,u,m){return Na(r),a=dp(s,r,a,u,void 0,m),u=hp(),s!==null&&!hn?(fp(s,r,m),Vi(s,r,m)):(yt&&u&&Wf(r),r.flags|=1,kn(s,r,a,m),r.child)}function Wy(s,r,a,u,m,g){return Na(r),r.updateQueue=null,a=$x(r,u,a,m),qx(s),u=hp(),s!==null&&!hn?(fp(s,r,g),Vi(s,r,g)):(yt&&u&&Wf(r),r.flags|=1,kn(s,r,a,g),r.child)}function Yy(s,r,a,u,m){if(Na(r),r.stateNode===null){var g=To,v=a.contextType;typeof v=="object"&&v!==null&&(g=On(v)),g=new a(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Rp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},sp(r),v=a.contextType,g.context=typeof v=="object"&&v!==null?On(v):To,g.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(wp(r,a,v,u),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(v=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),v!==g.state&&Rp.enqueueReplaceState(g,g.state,null),rc(r,u,g,m),ic(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){g=r.stateNode;var S=r.memoizedProps,C=Ma(a,S);g.props=C;var V=g.context,re=a.contextType;v=To,typeof re=="object"&&re!==null&&(v=On(re));var de=a.getDerivedStateFromProps;re=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||V!==v)&&Ly(r,g,u,v),Tr=!1;var X=r.memoizedState;g.state=X,rc(r,u,g,m),ic(),V=r.memoizedState,S||X!==V||Tr?(typeof de=="function"&&(wp(r,a,de,u),V=r.memoizedState),(C=Tr||Dy(r,a,C,u,X,V,v))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=V),g.props=u,g.state=V,g.context=v,u=C):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,ip(s,r),v=r.memoizedProps,re=Ma(a,v),g.props=re,de=r.pendingProps,X=g.context,V=a.contextType,C=To,typeof V=="object"&&V!==null&&(C=On(V)),S=a.getDerivedStateFromProps,(V=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==de||X!==C)&&Ly(r,g,u,C),Tr=!1,X=r.memoizedState,g.state=X,rc(r,u,g,m),ic();var te=r.memoizedState;v!==de||X!==te||Tr||s!==null&&s.dependencies!==null&&ed(s.dependencies)?(typeof S=="function"&&(wp(r,a,S,u),te=r.memoizedState),(re=Tr||Dy(r,a,re,u,X,te,C)||s!==null&&s.dependencies!==null&&ed(s.dependencies))?(V||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,C)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),g.props=u,g.state=te,g.context=C,u=re):(typeof g.componentDidUpdate!="function"||v===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),u=!1)}return g=u,yd(s,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&u?(r.child=Ca(r,s.child,null,m),r.child=Ca(r,null,a,m)):kn(s,r,a,m),r.memoizedState=g.state,s=r.child):s=Vi(s,r,m),s}function qy(s,r,a,u){return Sa(),r.flags|=256,kn(s,r,a,u),r.child}var Dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lp(s){return{baseLanes:s,cachePool:Fx()}}function Op(s,r,a){return s=s!==null?s.childLanes&~a:0,r&&(s|=As),s}function $y(s,r,a){var u=r.pendingProps,m=!1,g=(r.flags&128)!==0,v;if((v=g)||(v=s!==null&&s.memoizedState===null?!1:(an.current&2)!==0),v&&(m=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,s===null){if(yt){if(m?Nr(r):_r(),(s=Gt)?(s=sv(s,Hs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:xr!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=Rx(s),a.return=r,r.child=a,Ln=r,Gt=null)):s=null,s===null)throw br(r);return gm(s)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(_r(),m=r.mode,S=bd({mode:"hidden",children:S},m),u=Ta(u,m,a,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Lp(a),u.childLanes=Op(s,v,a),r.memoizedState=Dp,uc(null,u)):(Nr(r),kp(r,S))}var C=s.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(g)r.flags&256?(Nr(r),r.flags&=-257,r=jp(s,r,a)):r.memoizedState!==null?(_r(),r.child=s.child,r.flags|=128,r=null):(_r(),S=u.fallback,m=r.mode,u=bd({mode:"visible",children:u.children},m),S=Ta(S,m,a,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Ca(r,s.child,null,a),u=r.child,u.memoizedState=Lp(a),u.childLanes=Op(s,v,a),r.memoizedState=Dp,r=uc(null,u));else if(Nr(r),gm(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var V=v.dgst;v=V,u=Error(i(419)),u.stack="",u.digest=v,Ql({value:u,source:null,stack:null}),r=jp(s,r,a)}else if(hn||_o(s,r,a,!1),v=(a&s.childLanes)!==0,hn||v){if(v=Ft,v!==null&&(u=_e(v,a),u!==0&&u!==C.retryLane))throw C.retryLane=u,va(s,u),cs(v,s,u),Ip;mm(S)||Cd(),r=jp(s,r,a)}else mm(S)?(r.flags|=192,r.child=s.child,r=null):(s=C.treeContext,Gt=Gs(S.nextSibling),Ln=r,yt=!0,yr=null,Hs=!1,s!==null&&Mx(r,s),r=kp(r,u.children),r.flags|=4096);return r}return m?(_r(),S=u.fallback,m=r.mode,C=s.child,V=C.sibling,u=Pi(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,V!==null?S=Pi(V,S):(S=Ta(S,m,a,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,uc(null,u),u=r.child,S=s.child.memoizedState,S===null?S=Lp(a):(m=S.cachePool,m!==null?(C=un._currentValue,m=m.parent!==C?{parent:C,pool:C}:m):m=Fx(),S={baseLanes:S.baseLanes|a,cachePool:m}),u.memoizedState=S,u.childLanes=Op(s,v,a),r.memoizedState=Dp,uc(s.child,u)):(Nr(r),a=s.child,s=a.sibling,a=Pi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,s!==null&&(v=r.deletions,v===null?(r.deletions=[s],r.flags|=16):v.push(s)),r.child=a,r.memoizedState=null,a)}function kp(s,r){return r=bd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function bd(s,r){return s=bs(22,s,null,r),s.lanes=0,s}function jp(s,r,a){return Ca(r,s.child,null,a),s=kp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Xy(s,r,a){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Zf(s.return,r,a)}function Fp(s,r,a,u,m,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:m,treeForkCount:g}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=m,v.treeForkCount=g)}function Zy(s,r,a){var u=r.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var v=an.current,S=(v&2)!==0;if(S?(v=v&1|2,r.flags|=128):v&=1,L(an,v),kn(s,r,u,a),u=yt?Zl:0,!S&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Xy(s,a,r);else if(s.tag===19)Xy(s,a,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(a=r.child,m=null;a!==null;)s=a.alternate,s!==null&&ld(s)===null&&(m=a),a=a.sibling;a=m,a===null?(m=r.child,r.child=null):(m=a.sibling,a.sibling=null),Fp(r,!1,m,a,g,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&ld(s)===null){r.child=m;break}s=m.sibling,m.sibling=a,a=m,m=s}Fp(r,!0,a,null,g,u);break;case"together":Fp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Vi(s,r,a){if(s!==null&&(r.dependencies=s.dependencies),Cr|=r.lanes,(a&r.childLanes)===0)if(s!==null){if(_o(s,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,a=Pi(s,s.pendingProps),r.child=a,a.return=r;s.sibling!==null;)s=s.sibling,a=a.sibling=Pi(s,s.pendingProps),a.return=r;a.sibling=null}return r.child}function Pp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&ed(s)))}function zR(s,r,a){switch(r.tag){case 3:Ge(r,r.stateNode.containerInfo),vr(r,un,s.memoizedState.cache),Sa();break;case 27:case 5:Ce(r);break;case 4:Ge(r,r.stateNode.containerInfo);break;case 10:vr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,cp(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Nr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?$y(s,r,a):(Nr(r),s=Vi(s,r,a),s!==null?s.sibling:null);Nr(r);break;case 19:var m=(s.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(_o(s,r,a,!1),u=(a&r.childLanes)!==0),m){if(u)return Zy(s,r,a);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),L(an,an.current),u)break;return null;case 22:return r.lanes=0,zy(s,r,a,r.pendingProps);case 24:vr(r,un,s.memoizedState.cache)}return Vi(s,r,a)}function Qy(s,r,a){if(s!==null)if(s.memoizedProps!==r.pendingProps)hn=!0;else{if(!Pp(s,a)&&(r.flags&128)===0)return hn=!1,zR(s,r,a);hn=(s.flags&131072)!==0}else hn=!1,yt&&(r.flags&1048576)!==0&&Ix(r,Zl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=wa(r.elementType),r.type=s,typeof s=="function")zf(s)?(u=Ma(s,u),r.tag=1,r=Yy(null,r,s,u,a)):(r.tag=0,r=Mp(null,r,s,u,a));else{if(s!=null){var m=s.$$typeof;if(m===K){r.tag=11,r=Hy(null,r,s,u,a);break e}else if(m===Z){r.tag=14,r=By(null,r,s,u,a);break e}}throw r=W(s)||s,Error(i(306,r,""))}}return r;case 0:return Mp(s,r,r.type,r.pendingProps,a);case 1:return u=r.type,m=Ma(u,r.pendingProps),Yy(s,r,u,m,a);case 3:e:{if(Ge(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var g=r.memoizedState;m=g.element,ip(s,r),rc(r,u,null,a);var v=r.memoizedState;if(u=v.cache,vr(r,un,u),u!==g.cache&&Qf(r,[un],a,!0),ic(),u=v.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=qy(s,r,u,a);break e}else if(u!==m){m=Fs(Error(i(424)),r),Ql(m),r=qy(s,r,u,a);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Gt=Gs(s.firstChild),Ln=r,yt=!0,yr=null,Hs=!0,a=zx(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Sa(),u===m){r=Vi(s,r,a);break e}kn(s,r,u,a)}r=r.child}return r;case 26:return yd(s,r),s===null?(a=cv(r.type,null,r.pendingProps,null))?r.memoizedState=a:yt||(a=r.type,s=r.pendingProps,u=jd(xe.current).createElement(a),u[rn]=r,u[Nn]=s,jn(u,a,s),Bt(u),r.stateNode=u):r.memoizedState=cv(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Ce(r),s===null&&yt&&(u=r.stateNode=av(r.type,r.pendingProps,xe.current),Ln=r,Hs=!0,m=Gt,Or(r.type)?(Em=m,Gt=Gs(u.firstChild)):Gt=m),kn(s,r,r.pendingProps.children,a),yd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&yt&&((m=u=Gt)&&(u=yC(u,r.type,r.pendingProps,Hs),u!==null?(r.stateNode=u,Ln=r,Gt=Gs(u.firstChild),Hs=!1,m=!0):m=!1),m||br(r)),Ce(r),m=r.type,g=r.pendingProps,v=s!==null?s.memoizedProps:null,u=g.children,hm(m,g)?u=null:v!==null&&hm(m,v)&&(r.flags|=32),r.memoizedState!==null&&(m=dp(s,r,OR,null,null,a),Nc._currentValue=m),yd(s,r),kn(s,r,u,a),r.child;case 6:return s===null&&yt&&((s=a=Gt)&&(a=bC(a,r.pendingProps,Hs),a!==null?(r.stateNode=a,Ln=r,Gt=null,s=!0):s=!1),s||br(r)),null;case 13:return $y(s,r,a);case 4:return Ge(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Ca(r,null,u,a):kn(s,r,u,a),r.child;case 11:return Hy(s,r,r.type,r.pendingProps,a);case 7:return kn(s,r,r.pendingProps,a),r.child;case 8:return kn(s,r,r.pendingProps.children,a),r.child;case 12:return kn(s,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,vr(r,r.type,u.value),kn(s,r,u.children,a),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Na(r),m=On(m),u=u(m),r.flags|=1,kn(s,r,u,a),r.child;case 14:return By(s,r,r.type,r.pendingProps,a);case 15:return Gy(s,r,r.type,r.pendingProps,a);case 19:return Zy(s,r,a);case 31:return GR(s,r,a);case 22:return zy(s,r,a,r.pendingProps);case 24:return Na(r),u=On(un),s===null?(m=tp(),m===null&&(m=Ft,g=Jf(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=a),m=g),r.memoizedState={parent:u,cache:m},sp(r),vr(r,un,m)):((s.lanes&a)!==0&&(ip(s,r),rc(r,null,null,a),ic()),m=s.memoizedState,g=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),vr(r,un,u)):(u=g.cache,vr(r,un,u),u!==m.cache&&Qf(r,[un],a,!0))),kn(s,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ki(s){s.flags|=4}function Up(s,r,a,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(Nb())s.flags|=8192;else throw Ra=id,np}else s.flags&=-16777217}function Jy(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!pv(r))if(Nb())s.flags|=8192;else throw Ra=id,np}function vd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Oi():536870912,s.lanes|=r,Po|=r)}function dc(s,r){if(!yt)switch(s.tailMode){case"hidden":r=s.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function zt(s){var r=s.alternate!==null&&s.alternate.child===s.child,a=0,u=0;if(r)for(var m=s.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=a,r}function VR(s,r,a){var u=r.pendingProps;switch(Yf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(r),null;case 1:return zt(r),null;case 3:return a=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Bi(un),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(No(r)?Ki(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$f())),zt(r),null;case 26:var m=r.type,g=r.memoizedState;return s===null?(Ki(r),g!==null?(zt(r),Jy(r,g)):(zt(r),Up(r,m,null,u,a))):g?g!==s.memoizedState?(Ki(r),zt(r),Jy(r,g)):(zt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Ki(r),zt(r),Up(r,m,s,u,a)),null;case 27:if(st(r),a=xe.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ki(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return zt(r),null}s=se.current,No(r)?Dx(r):(s=av(m,u,a),r.stateNode=s,Ki(r))}return zt(r),null;case 5:if(st(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Ki(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return zt(r),null}if(g=se.current,No(r))Dx(r);else{var v=jd(xe.current);switch(g){case 1:g=v.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=v.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=v.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?v.createElement(m,{is:u.is}):v.createElement(m)}}g[rn]=r,g[Nn]=u;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)g.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=g;e:switch(jn(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ki(r)}}return zt(r),Up(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,a),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Ki(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=xe.current,No(r)){if(s=r.stateNode,a=r.memoizedProps,u=null,m=Ln,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[rn]=r,s=!!(s.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||$b(s.nodeValue,a)),s||br(r,!0)}else s=jd(s).createTextNode(u),s[rn]=r,r.stateNode=s}return zt(r),null;case 31:if(a=r.memoizedState,s===null||s.memoizedState!==null){if(u=No(r),a!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[rn]=r}else Sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;zt(r),s=!1}else a=$f(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=a),s=!0;if(!s)return r.flags&256?(Ts(r),r):(Ts(r),null);if((r.flags&128)!==0)throw Error(i(558))}return zt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=No(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[rn]=r}else Sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;zt(r),m=!1}else m=$f(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Ts(r),r):(Ts(r),null)}return Ts(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,s=s!==null&&s.memoizedState!==null,a&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),a!==s&&a&&(r.child.flags|=8192),vd(r,r.updateQueue),zt(r),null);case 4:return ue(),s===null&&om(r.stateNode.containerInfo),zt(r),null;case 10:return Bi(r.type),zt(r),null;case 19:if(q(an),u=r.memoizedState,u===null)return zt(r),null;if(m=(r.flags&128)!==0,g=u.rendering,g===null)if(m)dc(u,!1);else{if(en!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=ld(s),g!==null){for(r.flags|=128,dc(u,!1),s=g.updateQueue,r.updateQueue=s,vd(r,s),r.subtreeFlags=0,s=a,a=r.child;a!==null;)wx(a,s),a=a.sibling;return L(an,an.current&1|2),yt&&Ui(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&Me()>_d&&(r.flags|=128,m=!0,dc(u,!1),r.lanes=4194304)}else{if(!m)if(s=ld(g),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,vd(r,s),dc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!yt)return zt(r),null}else 2*Me()-u.renderingStartTime>_d&&a!==536870912&&(r.flags|=128,m=!0,dc(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(s=u.last,s!==null?s.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Me(),s.sibling=null,a=an.current,L(an,m?a&1|2:a&1),yt&&Ui(r,u.treeForkCount),s):(zt(r),null);case 22:case 23:return Ts(r),lp(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(zt(r),r.subtreeFlags&6&&(r.flags|=8192)):zt(r),a=r.updateQueue,a!==null&&vd(r,a.retryQueue),a=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),s!==null&&q(_a),null;case 24:return a=null,s!==null&&(a=s.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Bi(un),zt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function KR(s,r){switch(Yf(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Bi(un),ue(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return st(r),null;case 31:if(r.memoizedState!==null){if(Ts(r),r.alternate===null)throw Error(i(340));Sa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Ts(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Sa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return q(an),null;case 4:return ue(),null;case 10:return Bi(r.type),null;case 22:case 23:return Ts(r),lp(),s!==null&&q(_a),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Bi(un),null;case 25:return null;default:return null}}function eb(s,r){switch(Yf(r),r.tag){case 3:Bi(un),ue();break;case 26:case 27:case 5:st(r);break;case 4:ue();break;case 31:r.memoizedState!==null&&Ts(r);break;case 13:Ts(r);break;case 19:q(an);break;case 10:Bi(r.type);break;case 22:case 23:Ts(r),lp(),s!==null&&q(_a);break;case 24:Bi(un)}}function hc(s,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var m=u.next;a=m;do{if((a.tag&s)===s){u=void 0;var g=a.create,v=a.inst;u=g(),v.destroy=u}a=a.next}while(a!==m)}}catch(S){Mt(r,r.return,S)}}function wr(s,r,a){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&s)===s){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,m=r;var C=a,V=S;try{V()}catch(re){Mt(m,C,re)}}}u=u.next}while(u!==g)}}catch(re){Mt(r,r.return,re)}}function tb(s){var r=s.updateQueue;if(r!==null){var a=s.stateNode;try{Kx(r,a)}catch(u){Mt(s,s.return,u)}}}function nb(s,r,a){a.props=Ma(s.type,s.memoizedProps),a.state=s.memoizedState;try{a.componentWillUnmount()}catch(u){Mt(s,r,u)}}function fc(s,r){try{var a=s.ref;if(a!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof a=="function"?s.refCleanup=a(u):a.current=u}}catch(m){Mt(s,r,m)}}function Ai(s,r){var a=s.ref,u=s.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(m){Mt(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Mt(s,r,m)}else a.current=null}function sb(s){var r=s.type,a=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(m){Mt(s,s.return,m)}}function Hp(s,r,a){try{var u=s.stateNode;fC(u,s.type,a,r),u[Nn]=r}catch(m){Mt(s,s.return,m)}}function ib(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Or(s.type)||s.tag===4}function Bp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ib(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Or(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Gp(s,r,a){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(s,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(s),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ni));else if(u!==4&&(u===27&&Or(s.type)&&(a=s.stateNode,r=null),s=s.child,s!==null))for(Gp(s,r,a),s=s.sibling;s!==null;)Gp(s,r,a),s=s.sibling}function Td(s,r,a){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?a.insertBefore(s,r):a.appendChild(s);else if(u!==4&&(u===27&&Or(s.type)&&(a=s.stateNode),s=s.child,s!==null))for(Td(s,r,a),s=s.sibling;s!==null;)Td(s,r,a),s=s.sibling}function rb(s){var r=s.stateNode,a=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);jn(r,u,a),r[rn]=s,r[Nn]=a}catch(g){Mt(s,s.return,g)}}var Wi=!1,fn=!1,zp=!1,ab=typeof WeakSet=="function"?WeakSet:Set,_n=null;function WR(s,r){if(s=s.containerInfo,um=zd,s=xx(s),jf(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var v=0,S=-1,C=-1,V=0,re=0,de=s,X=null;t:for(;;){for(var te;de!==a||m!==0&&de.nodeType!==3||(S=v+m),de!==g||u!==0&&de.nodeType!==3||(C=v+u),de.nodeType===3&&(v+=de.nodeValue.length),(te=de.firstChild)!==null;)X=de,de=te;for(;;){if(de===s)break t;if(X===a&&++V===m&&(S=v),X===g&&++re===u&&(C=v),(te=de.nextSibling)!==null)break;de=X,X=de.parentNode}de=te}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(dm={focusedElem:s,selectionRange:a},zd=!1,_n=r;_n!==null;)if(r=_n,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,_n=s;else for(;_n!==null;){switch(r=_n,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(a=0;a<s.length;a++)m=s[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,a=r,m=g.memoizedProps,g=g.memoizedState,u=a.stateNode;try{var je=Ma(a.type,m);s=u.getSnapshotBeforeUpdate(je,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ye){Mt(a,a.return,Ye)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,a=s.nodeType,a===9)pm(s);else if(a===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":pm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,_n=s;break}_n=r.return}}function ob(s,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:qi(s,a),u&4&&hc(5,a);break;case 1:if(qi(s,a),u&4)if(s=a.stateNode,r===null)try{s.componentDidMount()}catch(v){Mt(a,a.return,v)}else{var m=Ma(a.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(v){Mt(a,a.return,v)}}u&64&&tb(a),u&512&&fc(a,a.return);break;case 3:if(qi(s,a),u&64&&(s=a.updateQueue,s!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Kx(s,r)}catch(v){Mt(a,a.return,v)}}break;case 27:r===null&&u&4&&rb(a);case 26:case 5:qi(s,a),r===null&&u&4&&sb(a),u&512&&fc(a,a.return);break;case 12:qi(s,a);break;case 31:qi(s,a),u&4&&ub(s,a);break;case 13:qi(s,a),u&4&&db(s,a),u&64&&(s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(a=tC.bind(null,a),vC(s,a))));break;case 22:if(u=a.memoizedState!==null||Wi,!u){r=r!==null&&r.memoizedState!==null||fn,m=Wi;var g=fn;Wi=u,(fn=r)&&!g?$i(s,a,(a.subtreeFlags&8772)!==0):qi(s,a),Wi=m,fn=g}break;case 30:break;default:qi(s,a)}}function lb(s){var r=s.alternate;r!==null&&(s.alternate=null,lb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&pa(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Kt=null,rs=!1;function Yi(s,r,a){for(a=a.child;a!==null;)cb(s,r,a),a=a.sibling}function cb(s,r,a){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(pi,a)}catch{}switch(a.tag){case 26:fn||Ai(a,r),Yi(s,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fn||Ai(a,r);var u=Kt,m=rs;Or(a.type)&&(Kt=a.stateNode,rs=!1),Yi(s,r,a),Tc(a.stateNode),Kt=u,rs=m;break;case 5:fn||Ai(a,r);case 6:if(u=Kt,m=rs,Kt=null,Yi(s,r,a),Kt=u,rs=m,Kt!==null)if(rs)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(a.stateNode)}catch(g){Mt(a,r,g)}else try{Kt.removeChild(a.stateNode)}catch(g){Mt(a,r,g)}break;case 18:Kt!==null&&(rs?(s=Kt,tv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.stateNode),Wo(s)):tv(Kt,a.stateNode));break;case 4:u=Kt,m=rs,Kt=a.stateNode.containerInfo,rs=!0,Yi(s,r,a),Kt=u,rs=m;break;case 0:case 11:case 14:case 15:wr(2,a,r),fn||wr(4,a,r),Yi(s,r,a);break;case 1:fn||(Ai(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&nb(a,r,u)),Yi(s,r,a);break;case 21:Yi(s,r,a);break;case 22:fn=(u=fn)||a.memoizedState!==null,Yi(s,r,a),fn=u;break;default:Yi(s,r,a)}}function ub(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Wo(s)}catch(a){Mt(r,r.return,a)}}}function db(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wo(s)}catch(a){Mt(r,r.return,a)}}function YR(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new ab),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new ab),r;default:throw Error(i(435,s.tag))}}function Sd(s,r){var a=YR(s);r.forEach(function(u){if(!a.has(u)){a.add(u);var m=nC.bind(null,s,u);u.then(m,m)}})}function as(s,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var m=a[u],g=s,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Or(S.type)){Kt=S.stateNode,rs=!1;break e}break;case 5:Kt=S.stateNode,rs=!1;break e;case 3:case 4:Kt=S.stateNode.containerInfo,rs=!0;break e}S=S.return}if(Kt===null)throw Error(i(160));cb(g,v,m),Kt=null,rs=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)hb(r,s),r=r.sibling}var ri=null;function hb(s,r){var a=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:as(r,s),os(s),u&4&&(wr(3,s,s.return),hc(3,s),wr(5,s,s.return));break;case 1:as(r,s),os(s),u&512&&(fn||a===null||Ai(a,a.return)),u&64&&Wi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(a=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var m=ri;if(as(r,s),os(s),u&512&&(fn||a===null||Ai(a,a.return)),u&4){var g=a!==null?a.memoizedState:null;if(u=s.memoizedState,a===null)if(u===null)if(s.stateNode===null){e:{u=s.type,a=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ss]||g[rn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),jn(g,u,a),g[rn]=s,Bt(g),u=g;break e;case"link":var v=hv("link","href",m).get(u+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(g=v[S],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}g=m.createElement(u),jn(g,u,a),m.head.appendChild(g);break;case"meta":if(v=hv("meta","content",m).get(u+(a.content||""))){for(S=0;S<v.length;S++)if(g=v[S],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}g=m.createElement(u),jn(g,u,a),m.head.appendChild(g);break;default:throw Error(i(468,u))}g[rn]=s,Bt(g),u=g}s.stateNode=u}else fv(m,s.type,s.stateNode);else s.stateNode=dv(m,u,s.memoizedProps);else g!==u?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,u===null?fv(m,s.type,s.stateNode):dv(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Hp(s,s.memoizedProps,a.memoizedProps)}break;case 27:as(r,s),os(s),u&512&&(fn||a===null||Ai(a,a.return)),a!==null&&u&4&&Hp(s,s.memoizedProps,a.memoizedProps);break;case 5:if(as(r,s),os(s),u&512&&(fn||a===null||Ai(a,a.return)),s.flags&32){m=s.stateNode;try{yi(m,"")}catch(je){Mt(s,s.return,je)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,Hp(s,m,a!==null?a.memoizedProps:m)),u&1024&&(zp=!0);break;case 6:if(as(r,s),os(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,a=s.stateNode;try{a.nodeValue=u}catch(je){Mt(s,s.return,je)}}break;case 3:if(Ud=null,m=ri,ri=Fd(r.containerInfo),as(r,s),ri=m,os(s),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Wo(r.containerInfo)}catch(je){Mt(s,s.return,je)}zp&&(zp=!1,fb(s));break;case 4:u=ri,ri=Fd(s.stateNode.containerInfo),as(r,s),os(s),ri=u;break;case 12:as(r,s),os(s);break;case 31:as(r,s),os(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sd(s,u)));break;case 13:as(r,s),os(s),s.child.flags&8192&&s.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nd=Me()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sd(s,u)));break;case 22:m=s.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,V=Wi,re=fn;if(Wi=V||m,fn=re||C,as(r,s),fn=re,Wi=V,os(s),u&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(a===null||C||Wi||fn||Da(s)),a=null,r=s;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(g=C.stateNode,m)v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=C.stateNode;var de=C.memoizedProps.style,X=de!=null&&de.hasOwnProperty("display")?de.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(je){Mt(C,C.return,je)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=m?"":C.memoizedProps}catch(je){Mt(C,C.return,je)}}}else if(r.tag===18){if(a===null){C=r;try{var te=C.stateNode;m?nv(te,!0):nv(C.stateNode,!1)}catch(je){Mt(C,C.return,je)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Sd(s,a))));break;case 19:as(r,s),os(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sd(s,u)));break;case 30:break;case 21:break;default:as(r,s),os(s)}}function os(s){var r=s.flags;if(r&2){try{for(var a,u=s.return;u!==null;){if(ib(u)){a=u;break}u=u.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var m=a.stateNode,g=Bp(s);Td(s,g,m);break;case 5:var v=a.stateNode;a.flags&32&&(yi(v,""),a.flags&=-33);var S=Bp(s);Td(s,S,v);break;case 3:case 4:var C=a.stateNode.containerInfo,V=Bp(s);Gp(s,V,C);break;default:throw Error(i(161))}}catch(re){Mt(s,s.return,re)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function fb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;fb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function qi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ob(s,r.alternate,r),r=r.sibling}function Da(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),Da(r);break;case 1:Ai(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&nb(r,r.return,a),Da(r);break;case 27:Tc(r.stateNode);case 26:case 5:Ai(r,r.return),Da(r);break;case 22:r.memoizedState===null&&Da(r);break;case 30:Da(r);break;default:Da(r)}s=s.sibling}}function $i(s,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,g=r,v=g.flags;switch(g.tag){case 0:case 11:case 15:$i(m,g,a),hc(4,g);break;case 1:if($i(m,g,a),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(V){Mt(u,u.return,V)}if(u=g,m=u.updateQueue,m!==null){var S=u.stateNode;try{var C=m.shared.hiddenCallbacks;if(C!==null)for(m.shared.hiddenCallbacks=null,m=0;m<C.length;m++)Vx(C[m],S)}catch(V){Mt(u,u.return,V)}}a&&v&64&&tb(g),fc(g,g.return);break;case 27:rb(g);case 26:case 5:$i(m,g,a),a&&u===null&&v&4&&sb(g),fc(g,g.return);break;case 12:$i(m,g,a);break;case 31:$i(m,g,a),a&&v&4&&ub(m,g);break;case 13:$i(m,g,a),a&&v&4&&db(m,g);break;case 22:g.memoizedState===null&&$i(m,g,a),fc(g,g.return);break;case 30:break;default:$i(m,g,a)}r=r.sibling}}function Vp(s,r){var a=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==a&&(s!=null&&s.refCount++,a!=null&&Jl(a))}function Kp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Jl(s))}function ai(s,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)pb(s,r,a,u),r=r.sibling}function pb(s,r,a,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:ai(s,r,a,u),m&2048&&hc(9,r);break;case 1:ai(s,r,a,u);break;case 3:ai(s,r,a,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Jl(s)));break;case 12:if(m&2048){ai(s,r,a,u),s=r.stateNode;try{var g=r.memoizedProps,v=g.id,S=g.onPostCommit;typeof S=="function"&&S(v,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(C){Mt(r,r.return,C)}}else ai(s,r,a,u);break;case 31:ai(s,r,a,u);break;case 13:ai(s,r,a,u);break;case 23:break;case 22:g=r.stateNode,v=r.alternate,r.memoizedState!==null?g._visibility&2?ai(s,r,a,u):pc(s,r):g._visibility&2?ai(s,r,a,u):(g._visibility|=2,ko(s,r,a,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Vp(v,r);break;case 24:ai(s,r,a,u),m&2048&&Kp(r.alternate,r);break;default:ai(s,r,a,u)}}function ko(s,r,a,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,v=r,S=a,C=u,V=v.flags;switch(v.tag){case 0:case 11:case 15:ko(g,v,S,C,m),hc(8,v);break;case 23:break;case 22:var re=v.stateNode;v.memoizedState!==null?re._visibility&2?ko(g,v,S,C,m):pc(g,v):(re._visibility|=2,ko(g,v,S,C,m)),m&&V&2048&&Vp(v.alternate,v);break;case 24:ko(g,v,S,C,m),m&&V&2048&&Kp(v.alternate,v);break;default:ko(g,v,S,C,m)}r=r.sibling}}function pc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=s,u=r,m=u.flags;switch(u.tag){case 22:pc(a,u),m&2048&&Vp(u.alternate,u);break;case 24:pc(a,u),m&2048&&Kp(u.alternate,u);break;default:pc(a,u)}r=r.sibling}}var mc=8192;function jo(s,r,a){if(s.subtreeFlags&mc)for(s=s.child;s!==null;)mb(s,r,a),s=s.sibling}function mb(s,r,a){switch(s.tag){case 26:jo(s,r,a),s.flags&mc&&s.memoizedState!==null&&LC(a,ri,s.memoizedState,s.memoizedProps);break;case 5:jo(s,r,a);break;case 3:case 4:var u=ri;ri=Fd(s.stateNode.containerInfo),jo(s,r,a),ri=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=mc,mc=16777216,jo(s,r,a),mc=u):jo(s,r,a));break;default:jo(s,r,a)}}function gb(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function gc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];_n=u,xb(u,s)}gb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Eb(s),s=s.sibling}function Eb(s){switch(s.tag){case 0:case 11:case 15:gc(s),s.flags&2048&&wr(9,s,s.return);break;case 3:gc(s);break;case 12:gc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Ad(s)):gc(s);break;default:gc(s)}}function Ad(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];_n=u,xb(u,s)}gb(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:wr(8,r,r.return),Ad(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ad(r));break;default:Ad(r)}s=s.sibling}}function xb(s,r){for(;_n!==null;){var a=_n;switch(a.tag){case 0:case 11:case 15:wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Jl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,_n=u;else e:for(a=s;_n!==null;){u=_n;var m=u.sibling,g=u.return;if(lb(u),u===a){_n=null;break e}if(m!==null){m.return=g,_n=m;break e}_n=g}}}var qR={getCacheForType:function(s){var r=On(un),a=r.data.get(s);return a===void 0&&(a=s(),r.data.set(s,a)),a},cacheSignal:function(){return On(un).controller.signal}},$R=typeof WeakMap=="function"?WeakMap:Map,wt=0,Ft=null,ht=null,gt=0,It=0,Ss=null,Rr=!1,Fo=!1,Wp=!1,Xi=0,en=0,Cr=0,La=0,Yp=0,As=0,Po=0,Ec=null,ls=null,qp=!1,Nd=0,yb=0,_d=1/0,wd=null,Ir=null,yn=0,Mr=null,Uo=null,Zi=0,$p=0,Xp=null,bb=null,xc=0,Zp=null;function Ns(){return(wt&2)!==0&&gt!==0?gt&-gt:k.T!==null?sm():xn()}function vb(){if(As===0)if((gt&536870912)===0||yt){var s=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),As=s}else As=536870912;return s=vs.current,s!==null&&(s.flags|=32),As}function cs(s,r,a){(s===Ft&&(It===2||It===9)||s.cancelPendingCommit!==null)&&(Ho(s,0),Dr(s,gt,As,!1)),Q(s,a),((wt&2)===0||s!==Ft)&&(s===Ft&&((wt&2)===0&&(La|=a),en===4&&Dr(s,gt,As,!1)),Ni(s))}function Tb(s,r,a){if((wt&6)!==0)throw Error(i(327));var u=!a&&(r&127)===0&&(r&s.expiredLanes)===0||mi(s,r),m=u?QR(s,r):Jp(s,r,!0),g=u;do{if(m===0){Fo&&!u&&Dr(s,r,0,!1);break}else{if(a=s.current.alternate,g&&!XR(a)){m=Jp(s,r,!1),g=!1;continue}if(m===2){if(g=r,s.errorRecoveryDisabledLanes&g)var v=0;else v=s.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var S=s;m=Ec;var C=S.current.memoizedState.isDehydrated;if(C&&(Ho(S,v).flags|=256),v=Jp(S,v,!1),v!==2){if(Wp&&!C){S.errorRecoveryDisabledLanes|=g,La|=g,m=4;break e}g=ls,ls=m,g!==null&&(ls===null?ls=g:ls.push.apply(ls,g))}m=v}if(g=!1,m!==2)continue}}if(m===1){Ho(s,0),Dr(s,r,0,!0);break}e:{switch(u=s,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Dr(u,r,As,!Rr);break e;case 2:ls=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Nd+300-Me(),10<m)){if(Dr(u,r,As,!Rr),fr(u,0,!0)!==0)break e;Zi=r,u.timeoutHandle=Jb(Sb.bind(null,u,a,ls,wd,qp,r,As,La,Po,Rr,g,"Throttled",-0,0),m);break e}Sb(u,a,ls,wd,qp,r,As,La,Po,Rr,g,null,-0,0)}}break}while(!0);Ni(s)}function Sb(s,r,a,u,m,g,v,S,C,V,re,de,X,te){if(s.timeoutHandle=-1,de=r.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},mb(r,g,de);var je=(g&62914560)===g?Nd-Me():(g&4194048)===g?yb-Me():0;if(je=OC(de,je),je!==null){Zi=g,s.cancelPendingCommit=je(Mb.bind(null,s,r,g,a,u,m,v,S,C,re,de,null,X,te)),Dr(s,g,v,!V);return}}Mb(s,r,g,a,u,m,v,S,C)}function XR(s){for(var r=s;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var m=a[u],g=m.getSnapshot;m=m.value;try{if(!ys(g(),m))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(s,r,a,u){r&=~Yp,r&=~La,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var g=31-gn(m),v=1<<g;u[g]=-1,m&=~v}a!==0&&qt(s,a,r)}function Rd(){return(wt&6)===0?(yc(0),!1):!0}function Qp(){if(ht!==null){if(It===0)var s=ht.return;else s=ht,Hi=Aa=null,pp(s),Io=null,tc=0,s=ht;for(;s!==null;)eb(s.alternate,s),s=s.return;ht=null}}function Ho(s,r){var a=s.timeoutHandle;a!==-1&&(s.timeoutHandle=-1,gC(a)),a=s.cancelPendingCommit,a!==null&&(s.cancelPendingCommit=null,a()),Zi=0,Qp(),Ft=s,ht=a=Pi(s.current,null),gt=r,It=0,Ss=null,Rr=!1,Fo=mi(s,r),Wp=!1,Po=As=Yp=La=Cr=en=0,ls=Ec=null,qp=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-gn(u),g=1<<m;r|=s[m],u&=~g}return Xi=r,$u(),a}function Ab(s,r){at=null,k.H=cc,r===Co||r===sd?(r=Hx(),It=3):r===np?(r=Hx(),It=4):It=r===Ip?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ss=r,ht===null&&(en=1,Ed(s,Fs(r,s.current)))}function Nb(){var s=vs.current;return s===null?!0:(gt&4194048)===gt?Bs===null:(gt&62914560)===gt||(gt&536870912)!==0?s===Bs:!1}function _b(){var s=k.H;return k.H=cc,s===null?cc:s}function wb(){var s=k.A;return k.A=qR,s}function Cd(){en=4,Rr||(gt&4194048)!==gt&&vs.current!==null||(Fo=!0),(Cr&134217727)===0&&(La&134217727)===0||Ft===null||Dr(Ft,gt,As,!1)}function Jp(s,r,a){var u=wt;wt|=2;var m=_b(),g=wb();(Ft!==s||gt!==r)&&(wd=null,Ho(s,r)),r=!1;var v=en;e:do try{if(It!==0&&ht!==null){var S=ht,C=Ss;switch(It){case 8:Qp(),v=6;break e;case 3:case 2:case 9:case 6:vs.current===null&&(r=!0);var V=It;if(It=0,Ss=null,Bo(s,S,C,V),a&&Fo){v=0;break e}break;default:V=It,It=0,Ss=null,Bo(s,S,C,V)}}ZR(),v=en;break}catch(re){Ab(s,re)}while(!0);return r&&s.shellSuspendCounter++,Hi=Aa=null,wt=u,k.H=m,k.A=g,ht===null&&(Ft=null,gt=0,$u()),v}function ZR(){for(;ht!==null;)Rb(ht)}function QR(s,r){var a=wt;wt|=2;var u=_b(),m=wb();Ft!==s||gt!==r?(wd=null,_d=Me()+500,Ho(s,r)):Fo=mi(s,r);e:do try{if(It!==0&&ht!==null){r=ht;var g=Ss;t:switch(It){case 1:It=0,Ss=null,Bo(s,r,g,1);break;case 2:case 9:if(Px(g)){It=0,Ss=null,Cb(r);break}r=function(){It!==2&&It!==9||Ft!==s||(It=7),Ni(s)},g.then(r,r);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:Px(g)?(It=0,Ss=null,Cb(r)):(It=0,Ss=null,Bo(s,r,g,7));break;case 5:var v=null;switch(ht.tag){case 26:v=ht.memoizedState;case 5:case 27:var S=ht;if(v?pv(v):S.stateNode.complete){It=0,Ss=null;var C=S.sibling;if(C!==null)ht=C;else{var V=S.return;V!==null?(ht=V,Id(V)):ht=null}break t}}It=0,Ss=null,Bo(s,r,g,5);break;case 6:It=0,Ss=null,Bo(s,r,g,6);break;case 8:Qp(),en=6;break e;default:throw Error(i(462))}}JR();break}catch(re){Ab(s,re)}while(!0);return Hi=Aa=null,k.H=u,k.A=m,wt=a,ht!==null?0:(Ft=null,gt=0,$u(),en)}function JR(){for(;ht!==null&&!ke();)Rb(ht)}function Rb(s){var r=Qy(s.alternate,s,Xi);s.memoizedProps=s.pendingProps,r===null?Id(s):ht=r}function Cb(s){var r=s,a=r.alternate;switch(r.tag){case 15:case 0:r=Wy(a,r,r.pendingProps,r.type,void 0,gt);break;case 11:r=Wy(a,r,r.pendingProps,r.type.render,r.ref,gt);break;case 5:pp(r);default:eb(a,r),r=ht=wx(r,Xi),r=Qy(a,r,Xi)}s.memoizedProps=s.pendingProps,r===null?Id(s):ht=r}function Bo(s,r,a,u){Hi=Aa=null,pp(r),Io=null,tc=0;var m=r.return;try{if(BR(s,m,r,a,gt)){en=1,Ed(s,Fs(a,s.current)),ht=null;return}}catch(g){if(m!==null)throw ht=m,g;en=1,Ed(s,Fs(a,s.current)),ht=null;return}r.flags&32768?(yt||u===1?s=!0:Fo||(gt&536870912)!==0?s=!1:(Rr=s=!0,(u===2||u===9||u===3||u===6)&&(u=vs.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ib(r,s)):Id(r)}function Id(s){var r=s;do{if((r.flags&32768)!==0){Ib(r,Rr);return}s=r.return;var a=VR(r.alternate,r,Xi);if(a!==null){ht=a;return}if(r=r.sibling,r!==null){ht=r;return}ht=r=s}while(r!==null);en===0&&(en=5)}function Ib(s,r){do{var a=KR(s.alternate,s);if(a!==null){a.flags&=32767,ht=a;return}if(a=s.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(s=s.sibling,s!==null)){ht=s;return}ht=s=a}while(s!==null);en=6,ht=null}function Mb(s,r,a,u,m,g,v,S,C){s.cancelPendingCommit=null;do Md();while(yn!==0);if((wt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Bf,Ls(s,a,g,v,S,C),s===Ft&&(ht=Ft=null,gt=0),Uo=r,Mr=s,Zi=a,$p=g,Xp=m,bb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,sC(vt,function(){return jb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=k.T,k.T=null,m=H.p,H.p=2,v=wt,wt|=4;try{WR(s,r,a)}finally{wt=v,H.p=m,k.T=u}}yn=1,Db(),Lb(),Ob()}}function Db(){if(yn===1){yn=0;var s=Mr,r=Uo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var u=H.p;H.p=2;var m=wt;wt|=4;try{hb(r,s);var g=dm,v=xx(s.containerInfo),S=g.focusedElem,C=g.selectionRange;if(v!==S&&S&&S.ownerDocument&&Ex(S.ownerDocument.documentElement,S)){if(C!==null&&jf(S)){var V=C.start,re=C.end;if(re===void 0&&(re=V),"selectionStart"in S)S.selectionStart=V,S.selectionEnd=Math.min(re,S.value.length);else{var de=S.ownerDocument||document,X=de&&de.defaultView||window;if(X.getSelection){var te=X.getSelection(),je=S.textContent.length,Ye=Math.min(C.start,je),Ot=C.end===void 0?Ye:Math.min(C.end,je);!te.extend&&Ye>Ot&&(v=Ot,Ot=Ye,Ye=v);var j=gx(S,Ye),M=gx(S,Ot);if(j&&M&&(te.rangeCount!==1||te.anchorNode!==j.node||te.anchorOffset!==j.offset||te.focusNode!==M.node||te.focusOffset!==M.offset)){var G=de.createRange();G.setStart(j.node,j.offset),te.removeAllRanges(),Ye>Ot?(te.addRange(G),te.extend(M.node,M.offset)):(G.setEnd(M.node,M.offset),te.addRange(G))}}}}for(de=[],te=S;te=te.parentNode;)te.nodeType===1&&de.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<de.length;S++){var le=de[S];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}zd=!!um,dm=um=null}finally{wt=m,H.p=u,k.T=a}}s.current=r,yn=2}}function Lb(){if(yn===2){yn=0;var s=Mr,r=Uo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var u=H.p;H.p=2;var m=wt;wt|=4;try{ob(s,r.alternate,r)}finally{wt=m,H.p=u,k.T=a}}yn=3}}function Ob(){if(yn===4||yn===3){yn=0,fe();var s=Mr,r=Uo,a=Zi,u=bb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?yn=5:(yn=0,Uo=Mr=null,kb(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Ir=null),Vt(a),r=r.stateNode,An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(pi,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=k.T,m=H.p,H.p=2,k.T=null;try{for(var g=s.onRecoverableError,v=0;v<u.length;v++){var S=u[v];g(S.value,{componentStack:S.stack})}}finally{k.T=r,H.p=m}}(Zi&3)!==0&&Md(),Ni(s),m=s.pendingLanes,(a&261930)!==0&&(m&42)!==0?s===Zp?xc++:(xc=0,Zp=s):xc=0,yc(0)}}function kb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Jl(r)))}function Md(){return Db(),Lb(),Ob(),jb()}function jb(){if(yn!==5)return!1;var s=Mr,r=$p;$p=0;var a=Vt(Zi),u=k.T,m=H.p;try{H.p=32>a?32:a,k.T=null,a=Xp,Xp=null;var g=Mr,v=Zi;if(yn=0,Uo=Mr=null,Zi=0,(wt&6)!==0)throw Error(i(331));var S=wt;if(wt|=4,Eb(g.current),pb(g,g.current,v,a),wt=S,yc(0,!1),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(pi,g)}catch{}return!0}finally{H.p=m,k.T=u,kb(s,r)}}function Fb(s,r,a){r=Fs(a,r),r=Cp(s.stateNode,r,2),s=Ar(s,r,2),s!==null&&(Q(s,2),Ni(s))}function Mt(s,r,a){if(s.tag===3)Fb(s,s,a);else for(;r!==null;){if(r.tag===3){Fb(r,s,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ir===null||!Ir.has(u))){s=Fs(a,s),a=Py(2),u=Ar(r,a,2),u!==null&&(Uy(a,u,r,s),Q(u,2),Ni(u));break}}r=r.return}}function em(s,r,a){var u=s.pingCache;if(u===null){u=s.pingCache=new $R;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(a)||(Wp=!0,m.add(a),s=eC.bind(null,s,r,a),r.then(s,s))}function eC(s,r,a){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&a,s.warmLanes&=~a,Ft===s&&(gt&a)===a&&(en===4||en===3&&(gt&62914560)===gt&&300>Me()-Nd?(wt&2)===0&&Ho(s,0):Yp|=a,Po===gt&&(Po=0)),Ni(s)}function Pb(s,r){r===0&&(r=Oi()),s=va(s,r),s!==null&&(Q(s,r),Ni(s))}function tC(s){var r=s.memoizedState,a=0;r!==null&&(a=r.retryLane),Pb(s,a)}function nC(s,r){var a=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(a=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),Pb(s,a)}function sC(s,r){return _t(s,r)}var Dd=null,Go=null,tm=!1,Ld=!1,nm=!1,Lr=0;function Ni(s){s!==Go&&s.next===null&&(Go===null?Dd=Go=s:Go=Go.next=s),Ld=!0,tm||(tm=!0,rC())}function yc(s,r){if(!nm&&Ld){nm=!0;do for(var a=!1,u=Dd;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var v=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-gn(42|s)+1)-1,g&=m&~(v&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Gb(u,g))}else g=gt,g=fr(u,u===Ft?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||mi(u,g)||(a=!0,Gb(u,g));u=u.next}while(a);nm=!1}}function iC(){Ub()}function Ub(){Ld=tm=!1;var s=0;Lr!==0&&mC()&&(s=Lr);for(var r=Me(),a=null,u=Dd;u!==null;){var m=u.next,g=Hb(u,r);g===0?(u.next=null,a===null?Dd=m:a.next=m,m===null&&(Go=a)):(a=u,(s!==0||(g&3)!==0)&&(Ld=!0)),u=m}yn!==0&&yn!==5||yc(s),Lr!==0&&(Lr=0)}function Hb(s,r){for(var a=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var v=31-gn(g),S=1<<v,C=m[v];C===-1?((S&a)===0||(S&u)!==0)&&(m[v]=Ul(S,r)):C<=r&&(s.expiredLanes|=S),g&=~S}if(r=Ft,a=gt,a=fr(s,s===r?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,a===0||s===r&&(It===2||It===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&be(u),s.callbackNode=null,s.callbackPriority=0;if((a&3)===0||mi(s,a)){if(r=a&-a,r===s.callbackPriority)return r;switch(u!==null&&be(u),Vt(a)){case 2:case 8:a=mt;break;case 32:a=vt;break;case 268435456:a=Zs;break;default:a=vt}return u=Bb.bind(null,s),a=_t(a,u),s.callbackPriority=r,s.callbackNode=a,r}return u!==null&&u!==null&&be(u),s.callbackPriority=2,s.callbackNode=null,2}function Bb(s,r){if(yn!==0&&yn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var a=s.callbackNode;if(Md()&&s.callbackNode!==a)return null;var u=gt;return u=fr(s,s===Ft?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Tb(s,u,r),Hb(s,Me()),s.callbackNode!=null&&s.callbackNode===a?Bb.bind(null,s):null)}function Gb(s,r){if(Md())return null;Tb(s,r,!0)}function rC(){EC(function(){(wt&6)!==0?_t($e,iC):Ub()})}function sm(){if(Lr===0){var s=wo;s===0&&(s=Is,Is<<=1,(Is&261888)===0&&(Is=256)),Lr=s}return Lr}function zb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ho(""+s)}function Vb(s,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,s.id&&a.setAttribute("form",s.id),r.parentNode.insertBefore(a,r),s=new FormData(s),a.parentNode.removeChild(a),s}function aC(s,r,a,u,m){if(r==="submit"&&a&&a.stateNode===m){var g=zb((m[Nn]||null).action),v=u.submitter;v&&(r=(r=v[Nn]||null)?zb(r.formAction):v.getAttribute("formAction"),r!==null&&(g=r,v=null));var S=new D("action","action",null,u,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Lr!==0){var C=v?Vb(m,v):new FormData(m);Sp(a,{pending:!0,data:C,method:m.method,action:g},null,C)}}else typeof g=="function"&&(S.preventDefault(),C=v?Vb(m,v):new FormData(m),Sp(a,{pending:!0,data:C,method:m.method,action:g},g,C))},currentTarget:m}]})}}for(var im=0;im<Hf.length;im++){var rm=Hf[im],oC=rm.toLowerCase(),lC=rm[0].toUpperCase()+rm.slice(1);ii(oC,"on"+lC)}ii(vx,"onAnimationEnd"),ii(Tx,"onAnimationIteration"),ii(Sx,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(AR,"onTransitionRun"),ii(NR,"onTransitionStart"),ii(_R,"onTransitionCancel"),ii(Ax,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bc));function Kb(s,r){r=(r&4)!==0;for(var a=0;a<s.length;a++){var u=s[a],m=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],C=S.instance,V=S.currentTarget;if(S=S.listener,C!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=V;try{g(m)}catch(re){qu(re)}m.currentTarget=null,g=C}else for(v=0;v<u.length;v++){if(S=u[v],C=S.instance,V=S.currentTarget,S=S.listener,C!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=V;try{g(m)}catch(re){qu(re)}m.currentTarget=null,g=C}}}}function ft(s,r){var a=r[ki];a===void 0&&(a=r[ki]=new Set);var u=s+"__bubble";a.has(u)||(Wb(r,s,2,!1),a.add(u))}function am(s,r,a){var u=0;r&&(u|=4),Wb(a,s,u,r)}var Od="_reactListening"+Math.random().toString(36).slice(2);function om(s){if(!s[Od]){s[Od]=!0,ro.forEach(function(a){a!=="selectionchange"&&(cC.has(a)||am(a,!1,s),am(a,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Od]||(r[Od]=!0,am("selectionchange",!1,r))}}function Wb(s,r,a,u){switch(vv(r)){case 2:var m=FC;break;case 8:m=PC;break;default:m=Tm}a=m.bind(null,r,a,s),m=void 0,!po||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,a,{capture:!0,passive:m}):s.addEventListener(r,a,!0):m!==void 0?s.addEventListener(r,a,{passive:m}):s.addEventListener(r,a,!1)}function lm(s,r,a,u,m){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===m)break;if(v===4)for(v=u.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===m)return;v=v.return}for(;S!==null;){if(v=gs(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){u=g=v;continue e}S=S.parentNode}}u=u.return}Wn(function(){var V=g,re=Vl(a),de=[];e:{var X=Nx.get(s);if(X!==void 0){var te=D,je=s;switch(s){case"keypress":if(go(a)===0)break e;case"keydown":case"keyup":te=nR;break;case"focusin":je="focus",te=cn;break;case"focusout":je="blur",te=cn;break;case"beforeblur":case"afterblur":te=cn;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Xe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Ct;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=rR;break;case vx:case Tx:case Sx:te=Er;break;case Ax:te=oR;break;case"scroll":case"scrollend":te=ce;break;case"wheel":te=cR;break;case"copy":case"cut":case"paste":te=ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=nx;break;case"toggle":case"beforetoggle":te=dR}var Ye=(r&4)!==0,Ot=!Ye&&(s==="scroll"||s==="scrollend"),j=Ye?X!==null?X+"Capture":null:X;Ye=[];for(var M=V,G;M!==null;){var le=M;if(G=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||G===null||j===null||(le=Ea(M,j),le!=null&&Ye.push(vc(M,le,G))),Ot)break;M=M.return}0<Ye.length&&(X=new te(X,je,null,a,re),de.push({event:X,listeners:Ye}))}}if((r&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",X&&a!==zl&&(je=a.relatedTarget||a.fromElement)&&(gs(je)||je[Pe]))break e;if((te||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,te?(je=a.relatedTarget||a.toElement,te=V,je=je?gs(je):null,je!==null&&(Ot=c(je),Ye=je.tag,je!==Ot||Ye!==5&&Ye!==27&&Ye!==6)&&(je=null)):(te=null,je=V),te!==je)){if(Ye=Xe,le="onMouseLeave",j="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(Ye=nx,le="onPointerLeave",j="onPointerEnter",M="pointer"),Ot=te==null?X:Ei(te),G=je==null?X:Ei(je),X=new Ye(le,M+"leave",te,a,re),X.target=Ot,X.relatedTarget=G,le=null,gs(re)===V&&(Ye=new Ye(j,M+"enter",je,a,re),Ye.target=G,Ye.relatedTarget=Ot,le=Ye),Ot=le,te&&je)t:{for(Ye=uC,j=te,M=je,G=0,le=j;le;le=Ye(le))G++;le=0;for(var Ke=M;Ke;Ke=Ye(Ke))le++;for(;0<G-le;)j=Ye(j),G--;for(;0<le-G;)M=Ye(M),le--;for(;G--;){if(j===M||M!==null&&j===M.alternate){Ye=j;break t}j=Ye(j),M=Ye(M)}Ye=null}else Ye=null;te!==null&&Yb(de,X,te,Ye,!1),je!==null&&Ot!==null&&Yb(de,Ot,je,Ye,!0)}}e:{if(X=V?Ei(V):window,te=X.nodeName&&X.nodeName.toLowerCase(),te==="select"||te==="input"&&X.type==="file")var Tt=ux;else if(lx(X))if(dx)Tt=vR;else{Tt=yR;var He=xR}else te=X.nodeName,!te||te.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?V&&uo(V.elementType)&&(Tt=ux):Tt=bR;if(Tt&&(Tt=Tt(s,V))){cx(de,Tt,a,re);break e}He&&He(s,X,V),s==="focusout"&&V&&X.type==="number"&&V.memoizedProps.value!=null&&lo(X,"number",X.value)}switch(He=V?Ei(V):window,s){case"focusin":(lx(He)||He.contentEditable==="true")&&(yo=He,Ff=V,Xl=null);break;case"focusout":Xl=Ff=yo=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,yx(de,a,re);break;case"selectionchange":if(SR)break;case"keydown":case"keyup":yx(de,a,re)}var lt;if(Lf)e:{switch(s){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else xo?ax(s,a)&&(Et="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(Et="onCompositionStart");Et&&(sx&&a.locale!=="ko"&&(xo||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&xo&&(lt=Vu()):(vi=re,Kl="value"in vi?vi.value:vi.textContent,xo=!0)),He=kd(V,Et),0<He.length&&(Et=new Wu(Et,s,null,a,re),de.push({event:Et,listeners:He}),lt?Et.data=lt:(lt=ox(a),lt!==null&&(Et.data=lt)))),(lt=fR?pR(s,a):mR(s,a))&&(Et=kd(V,"onBeforeInput"),0<Et.length&&(He=new Wu("onBeforeInput","beforeinput",null,a,re),de.push({event:He,listeners:Et}),He.data=lt)),aC(de,s,V,a,re)}Kb(de,r)})}function vc(s,r,a){return{instance:s,listener:r,currentTarget:a}}function kd(s,r){for(var a=r+"Capture",u=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ea(s,a),m!=null&&u.unshift(vc(s,m,g)),m=Ea(s,r),m!=null&&u.push(vc(s,m,g))),s.tag===3)return u;s=s.return}return[]}function uC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Yb(s,r,a,u,m){for(var g=r._reactName,v=[];a!==null&&a!==u;){var S=a,C=S.alternate,V=S.stateNode;if(S=S.tag,C!==null&&C===u)break;S!==5&&S!==26&&S!==27||V===null||(C=V,m?(V=Ea(a,g),V!=null&&v.unshift(vc(a,V,C))):m||(V=Ea(a,g),V!=null&&v.push(vc(a,V,C)))),a=a.return}v.length!==0&&s.push({event:r,listeners:v})}var dC=/\r\n?/g,hC=/\u0000|\uFFFD/g;function qb(s){return(typeof s=="string"?s:""+s).replace(dC,`
`).replace(hC,"")}function $b(s,r){return r=qb(r),qb(s)===r}function Lt(s,r,a,u,m,g){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||yi(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&yi(s,""+u);break;case"className":ee(s,"class",u);break;case"tabIndex":ee(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ee(s,a,u);break;case"style":co(s,u,g);break;case"data":if(r!=="object"){ee(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){s.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(a);break}u=ho(""+u),s.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(r!=="input"&&Lt(s,r,"name",m.name,m,null),Lt(s,r,"formEncType",m.formEncType,m,null),Lt(s,r,"formMethod",m.formMethod,m,null),Lt(s,r,"formTarget",m.formTarget,m,null)):(Lt(s,r,"encType",m.encType,m,null),Lt(s,r,"method",m.method,m,null),Lt(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(a);break}u=ho(""+u),s.setAttribute(a,u);break;case"onClick":u!=null&&(s.onclick=ni);break;case"onScroll":u!=null&&ft("scroll",s);break;case"onScrollEnd":u!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}a=ho(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(a,""+u):s.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(a,""):s.removeAttribute(a);break;case"capture":case"download":u===!0?s.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(a,u):s.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(a,u):s.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(a):s.setAttribute(a,u);break;case"popover":ft("beforetoggle",s),ft("toggle",s),F(s,"popover",u);break;case"xlinkActuate":B(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":B(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":B(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":B(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":B(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":B(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":B(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":B(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":B(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":F(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rf.get(a)||a,F(s,a,u))}}function cm(s,r,a,u,m,g){switch(a){case"style":co(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"children":typeof u=="string"?yi(s,u):(typeof u=="number"||typeof u=="bigint")&&yi(s,""+u);break;case"onScroll":u!=null&&ft("scroll",s);break;case"onScrollEnd":u!=null&&ft("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Js.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),r=a.slice(2,m?a.length-7:void 0),g=s[Nn]||null,g=g!=null?g[a]:null,typeof g=="function"&&s.removeEventListener(r,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(a in s?s[a]=null:s.hasAttribute(a)&&s.removeAttribute(a)),s.addEventListener(r,u,m);break e}a in s?s[a]=u:u===!0?s.setAttribute(a,""):F(s,a,u)}}}function jn(s,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var u=!1,m=!1,g;for(g in a)if(a.hasOwnProperty(g)){var v=a[g];if(v!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Lt(s,r,g,v,a,null)}}m&&Lt(s,r,"srcSet",a.srcSet,a,null),u&&Lt(s,r,"src",a.src,a,null);return;case"input":ft("invalid",s);var S=g=v=m=null,C=null,V=null;for(u in a)if(a.hasOwnProperty(u)){var re=a[u];if(re!=null)switch(u){case"name":m=re;break;case"type":v=re;break;case"checked":C=re;break;case"defaultChecked":V=re;break;case"value":g=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,r));break;default:Lt(s,r,u,re,a,null)}}Hu(s,g,S,C,V,v,m,!1);return;case"select":ft("invalid",s),u=v=g=null;for(m in a)if(a.hasOwnProperty(m)&&(S=a[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:Lt(s,r,m,S,a,null)}r=g,a=v,s.multiple=!!u,r!=null?Fi(s,!!u,r,!1):a!=null&&Fi(s,!!u,a,!0);return;case"textarea":ft("invalid",s),g=m=u=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Lt(s,r,v,S,a,null)}Gu(s,u,m,g);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(u=a[C],u!=null))switch(C){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Lt(s,r,C,u,a,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(u=0;u<bc.length;u++)ft(bc[u],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(u=a[V],u!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Lt(s,r,V,u,a,null)}return;default:if(uo(r)){for(re in a)a.hasOwnProperty(re)&&(u=a[re],u!==void 0&&cm(s,r,re,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&Lt(s,r,S,u,a,null))}function fC(s,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,v=null,S=null,C=null,V=null,re=null;for(te in a){var de=a[te];if(a.hasOwnProperty(te)&&de!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":C=de;default:u.hasOwnProperty(te)||Lt(s,r,te,null,u,de)}}for(var X in u){var te=u[X];if(de=a[X],u.hasOwnProperty(X)&&(te!=null||de!=null))switch(X){case"type":g=te;break;case"name":m=te;break;case"checked":V=te;break;case"defaultChecked":re=te;break;case"value":v=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:te!==de&&Lt(s,r,X,te,u,de)}}Bl(s,v,S,C,V,re,g,m);return;case"select":te=v=S=X=null;for(g in a)if(C=a[g],a.hasOwnProperty(g)&&C!=null)switch(g){case"value":break;case"multiple":te=C;default:u.hasOwnProperty(g)||Lt(s,r,g,null,u,C)}for(m in u)if(g=u[m],C=a[m],u.hasOwnProperty(m)&&(g!=null||C!=null))switch(m){case"value":X=g;break;case"defaultValue":S=g;break;case"multiple":v=g;default:g!==C&&Lt(s,r,m,g,u,C)}r=S,a=v,u=te,X!=null?Fi(s,!!a,X,!1):!!u!=!!a&&(r!=null?Fi(s,!!a,r,!0):Fi(s,!!a,a?[]:"",!1));return;case"textarea":te=X=null;for(S in a)if(m=a[S],a.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Lt(s,r,S,null,u,m)}for(v in u)if(m=u[v],g=a[v],u.hasOwnProperty(v)&&(m!=null||g!=null))switch(v){case"value":X=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&Lt(s,r,v,m,u,g)}Bu(s,X,te);return;case"option":for(var je in a)if(X=a[je],a.hasOwnProperty(je)&&X!=null&&!u.hasOwnProperty(je))switch(je){case"selected":s.selected=!1;break;default:Lt(s,r,je,null,u,X)}for(C in u)if(X=u[C],te=a[C],u.hasOwnProperty(C)&&X!==te&&(X!=null||te!=null))switch(C){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Lt(s,r,C,X,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in a)X=a[Ye],a.hasOwnProperty(Ye)&&X!=null&&!u.hasOwnProperty(Ye)&&Lt(s,r,Ye,null,u,X);for(V in u)if(X=u[V],te=a[V],u.hasOwnProperty(V)&&X!==te&&(X!=null||te!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:Lt(s,r,V,X,u,te)}return;default:if(uo(r)){for(var Ot in a)X=a[Ot],a.hasOwnProperty(Ot)&&X!==void 0&&!u.hasOwnProperty(Ot)&&cm(s,r,Ot,void 0,u,X);for(re in u)X=u[re],te=a[re],!u.hasOwnProperty(re)||X===te||X===void 0&&te===void 0||cm(s,r,re,X,u,te);return}}for(var j in a)X=a[j],a.hasOwnProperty(j)&&X!=null&&!u.hasOwnProperty(j)&&Lt(s,r,j,null,u,X);for(de in u)X=u[de],te=a[de],!u.hasOwnProperty(de)||X===te||X==null&&te==null||Lt(s,r,de,X,u,te)}function Xb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var m=a[u],g=m.transferSize,v=m.initiatorType,S=m.duration;if(g&&S&&Xb(v)){for(v=0,S=m.responseEnd,u+=1;u<a.length;u++){var C=a[u],V=C.startTime;if(V>S)break;var re=C.transferSize,de=C.initiatorType;re&&Xb(de)&&(C=C.responseEnd,v+=re*(C<S?1:(S-V)/(C-V)))}if(--u,r+=8*(g+v)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var um=null,dm=null;function jd(s){return s.nodeType===9?s:s.ownerDocument}function Zb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function hm(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fm=null;function mC(){var s=window.event;return s&&s.type==="popstate"?s===fm?!1:(fm=s,!0):(fm=null,!1)}var Jb=typeof setTimeout=="function"?setTimeout:void 0,gC=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,EC=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(s){return ev.resolve(null).then(s).catch(xC)}:Jb;function xC(s){setTimeout(function(){throw s})}function Or(s){return s==="head"}function tv(s,r){var a=r,u=0;do{var m=a.nextSibling;if(s.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(u===0){s.removeChild(m),Wo(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Tc(s.ownerDocument.documentElement);else if(a==="head"){a=s.ownerDocument.head,Tc(a);for(var g=a.firstChild;g;){var v=g.nextSibling,S=g.nodeName;g[ss]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=v}}else a==="body"&&Tc(s.ownerDocument.body);a=m}while(a);Wo(r)}function nv(s,r){var a=s;s=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(s===0)break;s--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||s++;a=u}while(a)}function pm(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pm(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}s.removeChild(a)}}function yC(s,r,a,u){for(;s.nodeType===1;){var m=a;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[ss])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=Gs(s.nextSibling),s===null)break}return null}function bC(s,r,a){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Gs(s.nextSibling),s===null))return null;return s}function sv(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Gs(s.nextSibling),s===null))return null;return s}function mm(s){return s.data==="$?"||s.data==="$~"}function gm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function vC(s,r){var a=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Gs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Em=null;function iv(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var a=s.data;if(a==="/$"||a==="/&"){if(r===0)return Gs(s.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}s=s.nextSibling}return null}function rv(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return s;r--}else a!=="/$"&&a!=="/&"||r++}s=s.previousSibling}return null}function av(s,r,a){switch(r=jd(a),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Tc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);pa(s)}var zs=new Map,ov=new Set;function Fd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Qi=H.d;H.d={f:TC,r:SC,D:AC,C:NC,L:_C,m:wC,X:CC,S:RC,M:IC};function TC(){var s=Qi.f(),r=Rd();return s||r}function SC(s){var r=gi(s);r!==null&&r.tag===5&&r.type==="form"?Ay(r):Qi.r(s)}var zo=typeof document>"u"?null:document;function lv(s,r,a){var u=zo;if(u&&typeof r=="string"&&r){var m=is(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),ov.has(m)||(ov.add(m),s={rel:s,crossOrigin:a,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),jn(r,"link",s),Bt(r),u.head.appendChild(r)))}}function AC(s){Qi.D(s),lv("dns-prefetch",s,null)}function NC(s,r){Qi.C(s,r),lv("preconnect",s,r)}function _C(s,r,a){Qi.L(s,r,a);var u=zo;if(u&&s&&r){var m='link[rel="preload"][as="'+is(r)+'"]';r==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+is(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+is(a.imageSizes)+'"]')):m+='[href="'+is(s)+'"]';var g=m;switch(r){case"style":g=Vo(s);break;case"script":g=Ko(s)}zs.has(g)||(s=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:s,as:r},a),zs.set(g,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(Sc(g))||r==="script"&&u.querySelector(Ac(g))||(r=u.createElement("link"),jn(r,"link",s),Bt(r),u.head.appendChild(r)))}}function wC(s,r){Qi.m(s,r);var a=zo;if(a&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+is(u)+'"][href="'+is(s)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ko(s)}if(!zs.has(g)&&(s=y({rel:"modulepreload",href:s},r),zs.set(g,s),a.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ac(g)))return}u=a.createElement("link"),jn(u,"link",s),Bt(u),a.head.appendChild(u)}}}function RC(s,r,a){Qi.S(s,r,a);var u=zo;if(u&&s){var m=xi(u).hoistableStyles,g=Vo(s);r=r||"default";var v=m.get(g);if(!v){var S={loading:0,preload:null};if(v=u.querySelector(Sc(g)))S.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":r},a),(a=zs.get(g))&&xm(s,a);var C=v=u.createElement("link");Bt(C),jn(C,"link",s),C._p=new Promise(function(V,re){C.onload=V,C.onerror=re}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Pd(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:S},m.set(g,v)}}}function CC(s,r){Qi.X(s,r);var a=zo;if(a&&s){var u=xi(a).hoistableScripts,m=Ko(s),g=u.get(m);g||(g=a.querySelector(Ac(m)),g||(s=y({src:s,async:!0},r),(r=zs.get(m))&&ym(s,r),g=a.createElement("script"),Bt(g),jn(g,"link",s),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function IC(s,r){Qi.M(s,r);var a=zo;if(a&&s){var u=xi(a).hoistableScripts,m=Ko(s),g=u.get(m);g||(g=a.querySelector(Ac(m)),g||(s=y({src:s,async:!0,type:"module"},r),(r=zs.get(m))&&ym(s,r),g=a.createElement("script"),Bt(g),jn(g,"link",s),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function cv(s,r,a,u){var m=(m=xe.current)?Fd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Vo(a.href),a=xi(m).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){s=Vo(a.href);var g=xi(m).hoistableStyles,v=g.get(s);if(v||(m=m.ownerDocument||m,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,v),(g=m.querySelector(Sc(s)))&&!g._p&&(v.instance=g,v.state.loading=5),zs.has(s)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zs.set(s,a),g||MC(m,s,a,v.state))),r&&u===null)throw Error(i(528,""));return v}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ko(a),a=xi(m).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Vo(s){return'href="'+is(s)+'"'}function Sc(s){return'link[rel="stylesheet"]['+s+"]"}function uv(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function MC(s,r,a,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),jn(r,"link",a),Bt(r),s.head.appendChild(r))}function Ko(s){return'[src="'+is(s)+'"]'}function Ac(s){return"script[async]"+s}function dv(s,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+is(a.href)+'"]');if(u)return r.instance=u,Bt(u),u;var m=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Bt(u),jn(u,"style",m),Pd(u,a.precedence,s),r.instance=u;case"stylesheet":m=Vo(a.href);var g=s.querySelector(Sc(m));if(g)return r.state.loading|=4,r.instance=g,Bt(g),g;u=uv(a),(m=zs.get(m))&&xm(u,m),g=(s.ownerDocument||s).createElement("link"),Bt(g);var v=g;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),jn(g,"link",u),r.state.loading|=4,Pd(g,a.precedence,s),r.instance=g;case"script":return g=Ko(a.src),(m=s.querySelector(Ac(g)))?(r.instance=m,Bt(m),m):(u=a,(m=zs.get(g))&&(u=y({},a),ym(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Bt(m),jn(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Pd(u,a.precedence,s));return r.instance}function Pd(s,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===r)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(s,r.firstChild))}function xm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function ym(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Ud=null;function hv(s,r,a){if(Ud===null){var u=new Map,m=Ud=new Map;m.set(a,u)}else m=Ud,u=m.get(a),u||(u=new Map,m.set(a,u));if(u.has(s))return u;for(u.set(s,null),a=a.getElementsByTagName(s),m=0;m<a.length;m++){var g=a[m];if(!(g[ss]||g[rn]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var v=g.getAttribute(r)||"";v=s+v;var S=u.get(v);S?S.push(g):u.set(v,[g])}}return u}function fv(s,r,a){s=s.ownerDocument||s,s.head.insertBefore(a,r==="title"?s.querySelector("head > title"):null)}function DC(s,r,a){if(a===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function pv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function LC(s,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Vo(u.href),g=r.querySelector(Sc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Hd.bind(s),r.then(s,s)),a.state.loading|=4,a.instance=g,Bt(g);return}g=r.ownerDocument||r,u=uv(u),(m=zs.get(m))&&xm(u,m),g=g.createElement("link"),Bt(g);var v=g;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),jn(g,"link",u),a.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(s.count++,a=Hd.bind(s),r.addEventListener("load",a),r.addEventListener("error",a))}}var bm=0;function OC(s,r){return s.stylesheets&&s.count===0&&Gd(s,s.stylesheets),0<s.count||0<s.imgCount?function(a){var u=setTimeout(function(){if(s.stylesheets&&Gd(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&bm===0&&(bm=62500*pC());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Gd(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>bm?50:800)+r);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Bd=null;function Gd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Bd=new Map,r.forEach(kC,s),Bd=null,Hd.call(s))}function kC(s,r){if(!(r.state.loading&4)){var a=Bd.get(s);if(a)var u=a.get(null);else{a=new Map,Bd.set(s,a);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var v=m[g];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),u=v)}u&&a.set(null,u)}m=r.instance,v=m.getAttribute("data-precedence"),g=a.get(v)||u,g===u&&a.set(null,m),a.set(v,m),this.count++,u=Hd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Nc={$$typeof:U,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function jC(s,r,a,u,m,g,v,S,C){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.hiddenUpdates=pr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function mv(s,r,a,u,m,g,v,S,C,V,re,de){return s=new jC(s,r,a,v,C,V,re,de,S),r=1,g===!0&&(r|=24),g=bs(3,null,null,r),s.current=g,g.stateNode=s,r=Jf(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:a,cache:r},sp(g),s}function gv(s){return s?(s=To,s):To}function Ev(s,r,a,u,m,g){m=gv(m),u.context===null?u.context=m:u.pendingContext=m,u=Sr(r),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Ar(s,u,r),a!==null&&(cs(a,s,r),sc(a,s,r))}function xv(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<r?a:r}}function vm(s,r){xv(s,r),(s=s.alternate)&&xv(s,r)}function yv(s){if(s.tag===13||s.tag===31){var r=va(s,67108864);r!==null&&cs(r,s,67108864),vm(s,67108864)}}function bv(s){if(s.tag===13||s.tag===31){var r=Ns();r=En(r);var a=va(s,r);a!==null&&cs(a,s,r),vm(s,r)}}var zd=!0;function FC(s,r,a,u){var m=k.T;k.T=null;var g=H.p;try{H.p=2,Tm(s,r,a,u)}finally{H.p=g,k.T=m}}function PC(s,r,a,u){var m=k.T;k.T=null;var g=H.p;try{H.p=8,Tm(s,r,a,u)}finally{H.p=g,k.T=m}}function Tm(s,r,a,u){if(zd){var m=Sm(u);if(m===null)lm(s,r,u,Vd,a),Tv(s,u);else if(HC(m,s,r,a,u))u.stopPropagation();else if(Tv(s,u),r&4&&-1<UC.indexOf(s)){for(;m!==null;){var g=gi(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var v=Ds(g.pendingLanes);if(v!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-gn(v);S.entanglements[1]|=C,v&=~C}Ni(g),(wt&6)===0&&(_d=Me()+500,yc(0))}}break;case 31:case 13:S=va(g,2),S!==null&&cs(S,g,2),Rd(),vm(g,2)}if(g=Sm(u),g===null&&lm(s,r,u,Vd,a),g===m)break;m=g}m!==null&&u.stopPropagation()}else lm(s,r,u,null,a)}}function Sm(s){return s=Vl(s),Am(s)}var Vd=null;function Am(s){if(Vd=null,s=gs(s),s!==null){var r=c(s);if(r===null)s=null;else{var a=r.tag;if(a===13){if(s=d(r),s!==null)return s;s=null}else if(a===31){if(s=h(r),s!==null)return s;s=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Vd=s,null}function vv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case $e:return 2;case mt:return 8;case vt:case ns:return 32;case Zs:return 268435456;default:return 32}default:return 32}}var Nm=!1,kr=null,jr=null,Fr=null,_c=new Map,wc=new Map,Pr=[],UC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tv(s,r){switch(s){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":_c.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(r.pointerId)}}function Rc(s,r,a,u,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},r!==null&&(r=gi(r),r!==null&&yv(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function HC(s,r,a,u,m){switch(r){case"focusin":return kr=Rc(kr,s,r,a,u,m),!0;case"dragenter":return jr=Rc(jr,s,r,a,u,m),!0;case"mouseover":return Fr=Rc(Fr,s,r,a,u,m),!0;case"pointerover":var g=m.pointerId;return _c.set(g,Rc(_c.get(g)||null,s,r,a,u,m)),!0;case"gotpointercapture":return g=m.pointerId,wc.set(g,Rc(wc.get(g)||null,s,r,a,u,m)),!0}return!1}function Sv(s){var r=gs(s.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){s.blockedOn=r,Hl(s.priority,function(){bv(a)});return}}else if(r===31){if(r=h(a),r!==null){s.blockedOn=r,Hl(s.priority,function(){bv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var a=Sm(s.nativeEvent);if(a===null){a=s.nativeEvent;var u=new a.constructor(a.type,a);zl=u,a.target.dispatchEvent(u),zl=null}else return r=gi(a),r!==null&&yv(r),s.blockedOn=a,!1;r.shift()}return!0}function Av(s,r,a){Kd(s)&&a.delete(r)}function BC(){Nm=!1,kr!==null&&Kd(kr)&&(kr=null),jr!==null&&Kd(jr)&&(jr=null),Fr!==null&&Kd(Fr)&&(Fr=null),_c.forEach(Av),wc.forEach(Av)}function Wd(s,r){s.blockedOn===r&&(s.blockedOn=null,Nm||(Nm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BC)))}var Yd=null;function Nv(s){Yd!==s&&(Yd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yd===s&&(Yd=null);for(var r=0;r<s.length;r+=3){var a=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(Am(u||a)===null)continue;break}var g=gi(a);g!==null&&(s.splice(r,3),r-=3,Sp(g,{pending:!0,data:m,method:a.method,action:u},u,m))}}))}function Wo(s){function r(C){return Wd(C,s)}kr!==null&&Wd(kr,s),jr!==null&&Wd(jr,s),Fr!==null&&Wd(Fr,s),_c.forEach(r),wc.forEach(r);for(var a=0;a<Pr.length;a++){var u=Pr[a];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)Sv(a),a.blockedOn===null&&Pr.shift();if(a=(s.ownerDocument||s).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var m=a[u],g=a[u+1],v=m[Nn]||null;if(typeof g=="function")v||Nv(a);else if(v){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,v=g[Nn]||null)S=v.formAction;else if(Am(m)!==null)continue}else S=v.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),Nv(a)}}}function _v(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(v){return m=v})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function _m(s){this._internalRoot=s}qd.prototype.render=_m.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,u=Ns();Ev(a,u,s,r,null,null)},qd.prototype.unmount=_m.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Ev(s.current,2,null,s,null,null),Rd(),r[Pe]=null}};function qd(s){this._internalRoot=s}qd.prototype.unstable_scheduleHydration=function(s){if(s){var r=xn();s={blockedOn:null,target:s,priority:r};for(var a=0;a<Pr.length&&r!==0&&r<Pr[a].priority;a++);Pr.splice(a,0,s),a===0&&Sv(s)}};var wv=e.version;if(wv!=="19.2.0")throw Error(i(527,wv,"19.2.0"));H.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?E(s):null,s=s===null?null:s.stateNode,s};var GC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{pi=$d.inject(GC),An=$d}catch{}}return Ic.createRoot=function(s,r){if(!o(s))throw Error(i(299));var a=!1,u="",m=Oy,g=ky,v=jy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=mv(s,1,!1,null,null,a,u,null,m,g,v,_v),s[Pe]=r.current,om(s),new _m(r)},Ic.hydrateRoot=function(s,r,a){if(!o(s))throw Error(i(299));var u=!1,m="",g=Oy,v=ky,S=jy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),r=mv(s,1,!0,r,a??null,u,m,C,g,v,S,_v),r.context=gv(null),a=r.current,u=Ns(),u=En(u),m=Sr(u),m.callback=null,Ar(a,m,u),a=u,r.current.lanes=a,Q(r,a),Ni(r),s[Pe]=r.current,om(s),new qd(r)},Ic.version="19.2.0",Ic}var Fv;function eI(){if(Fv)return Cm.exports;Fv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cm.exports=JC(),Cm.exports}var tI=eI();const nI=OS(tI),sI="modulepreload",iI=function(t,e){return new URL(t,e).href},Pv={},Xt=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let d=function(E){return Promise.all(E.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const h=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=d(n.map(E=>{if(E=iI(E,i),E in Pv)return;Pv[E]=!0;const y=E.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(!!i)for(let R=h.length-1;R>=0;R--){const I=h[R];if(I.href===E&&(!y||I.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${E}"]${b}`))return;const N=document.createElement("link");if(N.rel=y?"stylesheet":sI,y||(N.as="script"),N.crossOrigin="",N.href=E,p&&N.setAttribute("nonce",p),document.head.appendChild(N),y)return new Promise((R,I)=>{N.addEventListener("load",R),N.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${E}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})};var me=(t=>(t.CLASSIC="CLASSIC",t.SPEEDRUN="SPEEDRUN",t.CHAIN="CHAIN",t.CATEGORY="CATEGORY",t.SUDOKU="SUDOKU",t.CHALLENGE="CHALLENGE",t.RIDDLE="RIDDLE",t.LETTER_MAU_MAU="LETTER_MAU_MAU",t.SKAT_MAU_MAU="SKAT_MAU_MAU",t.CHESS="CHESS",t.CHECKERS="CHECKERS",t.NINE_MENS_MORRIS="NINE_MENS_MORRIS",t.RUMMY="RUMMY",t))(me||{}),x=(t=>(t[t.BEGINNER=1]="BEGINNER",t[t.LEARNER=2]="LEARNER",t[t.SKILLED=3]="SKILLED",t[t.EXPERT=4]="EXPERT",t[t.MASTER=5]="MASTER",t))(x||{}),pe=(t=>(t.EN="EN",t.DE="DE",t.ES="ES",t))(pe||{});/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Uv=t=>{const e=aI(t);return e.charAt(0).toUpperCase()+e.slice(1)},kS=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),oI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:d,...h},f)=>_.createElement("svg",{ref:f,...lI,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:kS("lucide",o),...!c&&!oI(h)&&{"aria-hidden":"true"},...h},[...d.map(([p,E])=>_.createElement(p,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const n=_.forwardRef(({className:i,...o},c)=>_.createElement(cI,{ref:c,iconNode:e,className:kS(`lucide-${rI(Uv(t))}`,`lucide-${t}`,i),...o}));return n.displayName=Uv(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vn=ze("arrow-left",uI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hI=ze("arrow-right",dI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],pI=ze("book-open",fI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],gI=ze("box",mI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Hv=ze("brain",EI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xn=ze("check",xI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bI=ze("chevron-left",yI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],TI=ze("chevron-right",vI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zo=ze("circle-question-mark",SI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],T0=ze("circle",AI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qr=ze("clock",NI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Rs=ze("coins",_I);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],jS=ze("copy",wI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],S0=ze("cpu",RI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],A0=ze("credit-card",CI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],dl=ze("crown",II);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Bv=ze("database",MI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ch=ze("download",DI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["line",{x1:"22",x2:"2",y1:"6",y2:"6",key:"15w7dq"}],["line",{x1:"22",x2:"2",y1:"18",y2:"18",key:"1ip48p"}],["line",{x1:"6",x2:"6",y1:"2",y2:"22",key:"a2lnyx"}],["line",{x1:"18",x2:"18",y1:"2",y2:"22",key:"8vb6jd"}]],Gv=ze("frame",LI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],ws=ze("gem",OI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],jI=ze("gift",kI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],PI=ze("globe",FI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],HI=ze("grid-3x3",UI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],GI=ze("heart",BI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],VI=ze("image",zI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],WI=ze("layers",KI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],iu=ze("lightbulb",YI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],$I=ze("link",qI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xo=ze("lock",XI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],QI=ze("moon",ZI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],e2=ze("music",JI);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],n2=ze("package",t2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Xr=ze("play",s2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],zv=ze("puzzle",i2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],a2=ze("rocket",r2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ag=ze("rotate-ccw",o2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],c2=ze("send",l2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],d2=ze("shopping-bag",u2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Yo=ze("skull",h2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],p2=ze("smartphone",f2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Cn=ze("sparkles",m2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Tu=ze("star",g2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],x2=ze("sun",E2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],FS=ze("target",y2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],v2=ze("trash-2",b2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gc=ze("triangle-alert",T2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ya=ze("trophy",S2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],PS=ze("user-plus",A2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ci=ze("user",N2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zn=ze("users",_2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Vv=ze("video",w2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],C2=ze("volume-2",R2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],M2=ze("volume-x",I2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],L2=ze("wifi-off",D2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],k2=ze("wrench",O2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Al=ze("x",j2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],rr=ze("zap",F2),zc=fs.memo(({children:t,variant:e="primary",fullWidth:n,size:i="md",className:o="",...c})=>{const d="uppercase font-black transition-all border-brutal cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",h={sm:"py-2 px-4 text-xs tracking-wide",md:"py-4 px-8 text-sm tracking-wider",lg:"py-5 px-10 text-base tracking-widest"},f={primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost",danger:"bg-brutal-pink text-white shadow-brutal hover:shadow-brutal-lg active:shadow-brutal-sm skew-brutal hover:bg-brutal-orange"};return l.jsx("button",{className:`${d} ${h[i]} ${f[e]} ${n?"w-full":""} ${o}`,...c,children:t})}),Pt=fs.memo(({isOpen:t,onClose:e,title:n,children:i,className:o=""})=>t?l.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 geo-pattern",style:{background:"var(--color-bg)"},children:[l.jsxs("div",{className:"fixed top-0 left-0 right-0 flex h-4 w-full z-50",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsxs("div",{className:`relative max-w-md w-full max-h-[85vh] overflow-y-auto p-6 geo-dots ${o}`,style:{background:"var(--color-surface)",border:"6px solid var(--color-border)",boxShadow:"12px 12px 0px #8338EC"},children:[e&&l.jsx("button",{onClick:e,className:"absolute top-4 right-4 w-12 h-12 flex items-center justify-center transition-all",style:{background:"#FF006E",border:"3px solid var(--color-border)",boxShadow:"4px 4px 0px var(--color-border)"},children:l.jsx(Al,{size:24,style:{color:"#FFF"}})}),n&&l.jsx("h2",{className:"text-2xl font-black uppercase mb-6 pr-14 tracking-wide",style:{color:"var(--color-text)"},children:n}),l.jsx("div",{style:{color:"var(--color-text)"},children:i})]})]}):null);fs.memo(({tier:t,color:e})=>l.jsxs("span",{className:`px-3 py-1 border-brutal font-black text-sm uppercase skew-brutal ${e}`,children:["TIER ",t]}));const P2=()=>{};var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne=function(t,e){if(!t)throw Nl(e)},Nl=function(t){return new Error("Firebase Database ("+US.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},U2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[n++],d=t[n++],h=t[n++],f=((o&7)<<18|(c&63)<<12|(d&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const c=t[n++],d=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ng={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const c=t[o],d=o+1<t.length,h=d?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,E=c>>2,y=(c&3)<<4|h>>4;let b=(h&15)<<2|p>>6,T=p&63;f||(T=64,d||(b=64)),i.push(n[E],n[y],n[b],n[T])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const c=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,c==null||h==null||p==null||y==null)throw new H2;const b=c<<2|h>>4;if(i.push(b),p!==64){const T=h<<4&240|p>>2;if(i.push(T),y!==64){const N=p<<6&192|y;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BS=function(t){const e=HS(t);return Ng.encodeByteArray(e,!0)},Sh=function(t){return BS(t).replace(/\./g,"")},Ah=function(t){try{return Ng.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t){return GS(void 0,t)}function GS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!G2(n)||(t[n]=GS(t[n],e[n]));return t}function G2(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=()=>z2().__FIREBASE_DEFAULTS__,K2=()=>{if(typeof process>"u"||typeof Kv>"u")return;const t=Kv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ah(t[1]);return e&&JSON.parse(e)},_g=()=>{try{return P2()||V2()||K2()||W2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zS=t=>{var e,n;return(n=(e=_g())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Y2=t=>{const e=zS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},VS=()=>{var t;return(t=_g())==null?void 0:t.config},KS=t=>{var e;return(e=_g())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(d)),""].join(".")}const Vc={};function $2(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vc))Vc[e]?t.emulator.push(e):t.prod.push(e);return t}function X2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Wv=!1;function YS(t,e){if(typeof window>"u"||typeof document>"u"||!_l(window.location.host)||Vc[t]===e||Vc[t]||Wv)return;Vc[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",c=$2().prod.length>0;function d(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Wv=!0,d()},b}function E(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=X2(i),T=n("text"),N=document.getElementById(T)||document.createElement("span"),R=n("learnmore"),I=document.getElementById(R)||document.createElement("a"),O=n("preprendIcon"),$=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const U=b.element;h(U),E(I,R);const K=p();f($,O),U.append($,N,I,K),document.body.appendChild(U)}c?(N.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ts())}function Z2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J2(){const t=ts();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eM(){return US.NODE_ADMIN===!0}function tM(){try{return typeof indexedDB=="object"}catch{return!1}}function nM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="FirebaseError";class ua extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=sM,Object.setPrototypeOf(this,ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?iM(c,i):"Error",h=`${this.serviceName}: ${d} (${o}).`;return new ua(o,h,i)}}function iM(t,e){return t.replace(rM,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const rM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){return JSON.parse(t)}function Sn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=function(t){let e={},n={},i={},o="";try{const c=t.split(".");e=ru(Ah(c[0])||""),n=ru(Ah(c[1])||""),o=c[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},aM=function(t){const e=$S(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},oM=function(t){const e=$S(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function N0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nh(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function qa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=t[o],d=e[o];if(Yv(c)&&Yv(d)){if(!qa(c,d))return!1}else if(c!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Yv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)i[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const b=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],d=this.chain_[2],h=this.chain_[3],f=this.chain_[4],p,E;for(let y=0;y<80;y++){y<40?y<20?(p=h^c&(d^h),E=1518500249):(p=c^d^h,E=1859775393):y<60?(p=c&d|h&(c|d),E=2400959708):(p=c^d^h,E=3395469782);const b=(o<<5|o>>>27)+p+f+E+i[y]&4294967295;f=h,h=d,d=(c<<30|c>>>2)&4294967295,c=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const c=this.buf_;let d=this.inbuf_;for(;o<n;){if(d===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(c[d]=e.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}else for(;o<n;)if(c[d]=e[o],++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[i]=this.chain_[o]>>c&255,++i;return e}}function cM(t,e){const n=new uM(t,e);return n.subscribe.bind(n)}class uM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");dM(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Lm),o.error===void 0&&(o.error=Lm),o.complete===void 0&&(o.complete=Lm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lm(){}function nf(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const c=o-55296;i++,Ne(i<t.length,"Surrogate pair missing trail surrogate.");const d=t.charCodeAt(i)-56320;o=65536+(c<<10)+d}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},sf=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t){return t&&t._delegate?t._delegate:t}class $a{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Su;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mM(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);i===h&&d.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pM(t){return t===Fa?void 0:t}function mM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(kt||(kt={}));const EM={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},xM=kt.INFO,yM={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},bM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=yM[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rg{constructor(e){this.name=e,this._logLevel=xM,this._logHandler=bM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const vM=(t,e)=>e.some(n=>t instanceof n);let qv,$v;function TM(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SM(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,_0=new WeakMap,ZS=new WeakMap,Om=new WeakMap,Cg=new WeakMap;function AM(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",d)},c=()=>{n(Jr(t.result)),o()},d=()=>{i(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&XS.set(n,t)}).catch(()=>{}),Cg.set(e,t),e}function NM(t){if(_0.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",d),t.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",d),t.addEventListener("abort",d)});_0.set(t,e)}let w0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _M(t){w0=t(w0)}function wM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(km(this),e,...n);return ZS.set(i,e.sort?e.sort():[e]),Jr(i)}:SM().includes(t)?function(...e){return t.apply(km(this),e),Jr(XS.get(this))}:function(...e){return Jr(t.apply(km(this),e))}}function RM(t){return typeof t=="function"?wM(t):(t instanceof IDBTransaction&&NM(t),vM(t,TM())?new Proxy(t,w0):t)}function Jr(t){if(t instanceof IDBRequest)return AM(t);if(Om.has(t))return Om.get(t);const e=RM(t);return e!==t&&(Om.set(t,e),Cg.set(e,t)),e}const km=t=>Cg.get(t);function CM(t,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const d=indexedDB.open(t,e),h=Jr(d);return i&&d.addEventListener("upgradeneeded",f=>{i(Jr(d.result),f.oldVersion,f.newVersion,Jr(d.transaction),f)}),n&&d.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{c&&f.addEventListener("close",()=>c()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const IM=["get","getKey","getAll","getAllKeys","count"],MM=["put","add","delete","clear"],jm=new Map;function Xv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=MM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||IM.includes(n)))return;const c=async function(d,...h){const f=this.transaction(d,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),o&&f.done]))[0]};return jm.set(e,c),c}_M(t=>({...t,get:(e,n,i)=>Xv(e,n)||t.get(e,n,i),has:(e,n)=>!!Xv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function LM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const R0="@firebase/app",Zv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Rg("@firebase/app"),OM="@firebase/app-compat",kM="@firebase/analytics-compat",jM="@firebase/analytics",FM="@firebase/app-check-compat",PM="@firebase/app-check",UM="@firebase/auth",HM="@firebase/auth-compat",BM="@firebase/database",GM="@firebase/data-connect",zM="@firebase/database-compat",VM="@firebase/functions",KM="@firebase/functions-compat",WM="@firebase/installations",YM="@firebase/installations-compat",qM="@firebase/messaging",$M="@firebase/messaging-compat",XM="@firebase/performance",ZM="@firebase/performance-compat",QM="@firebase/remote-config",JM="@firebase/remote-config-compat",eD="@firebase/storage",tD="@firebase/storage-compat",nD="@firebase/firestore",sD="@firebase/ai",iD="@firebase/firestore-compat",rD="firebase",aD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="[DEFAULT]",oD={[R0]:"fire-core",[OM]:"fire-core-compat",[jM]:"fire-analytics",[kM]:"fire-analytics-compat",[PM]:"fire-app-check",[FM]:"fire-app-check-compat",[UM]:"fire-auth",[HM]:"fire-auth-compat",[BM]:"fire-rtdb",[GM]:"fire-data-connect",[zM]:"fire-rtdb-compat",[VM]:"fire-fn",[KM]:"fire-fn-compat",[WM]:"fire-iid",[YM]:"fire-iid-compat",[qM]:"fire-fcm",[$M]:"fire-fcm-compat",[XM]:"fire-perf",[ZM]:"fire-perf-compat",[QM]:"fire-rc",[JM]:"fire-rc-compat",[eD]:"fire-gcs",[tD]:"fire-gcs-compat",[nD]:"fire-fst",[iD]:"fire-fst-compat",[sD]:"fire-vertex","fire-js":"fire-js",[rD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,lD=new Map,I0=new Map;function Qv(t,e){try{t.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fl(t){const e=t.name;if(I0.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;I0.set(e,t);for(const n of _h.values())Qv(n,t);for(const n of lD.values())Qv(n,t);return!0}function Ig(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _i(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new Au("app","Firebase",cD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=aD;function QS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:C0,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw ea.create("bad-app-name",{appName:String(o)});if(n||(n=VS()),!n)throw ea.create("no-options");const c=_h.get(o);if(c){if(qa(n,c.options)&&qa(i,c.config))return c;throw ea.create("duplicate-app",{appName:o})}const d=new gM(o);for(const f of I0.values())d.addComponent(f);const h=new uD(n,i,d);return _h.set(o,h),h}function JS(t=C0){const e=_h.get(t);if(!e&&t===C0&&VS())return QS();if(!e)throw ea.create("no-app",{appName:t});return e}function ta(t,e,n){let i=oD[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(d.join(" "));return}fl(new $a(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="firebase-heartbeat-database",hD=1,au="firebase-heartbeat-store";let Fm=null;function eA(){return Fm||(Fm=CM(dD,hD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(t=>{throw ea.create("idb-open",{originalErrorMessage:t.message})})),Fm}async function fD(t){try{const n=(await eA()).transaction(au),i=await n.objectStore(au).get(tA(t));return await n.done,i}catch(e){if(e instanceof ua)ar.warn(e.message);else{const n=ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ar.warn(n.message)}}}async function Jv(t,e){try{const i=(await eA()).transaction(au,"readwrite");await i.objectStore(au).put(e,tA(t)),await i.done}catch(n){if(n instanceof ua)ar.warn(n.message);else{const i=ea.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ar.warn(i.message)}}}function tA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=1024,mD=30;class gD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=e1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>mD){const d=yD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ar.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e1(),{heartbeatsToSend:i,unsentEntries:o}=ED(this._heartbeatsCache.heartbeats),c=Sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ar.warn(n),""}}}function e1(){return new Date().toISOString().substring(0,10)}function ED(t,e=pD){const n=[];let i=t.slice();for(const o of t){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),t1(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),t1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class xD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tM()?nM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function t1(t){return Sh(JSON.stringify({version:2,heartbeats:t})).length}function yD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t){fl(new $a("platform-logger",e=>new DM(e),"PRIVATE")),fl(new $a("heartbeat",e=>new gD(e),"PRIVATE")),ta(R0,Zv,t),ta(R0,Zv,"esm2020"),ta("fire-js","")}bD("");var n1={};const s1="@firebase/database",i1="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nA="";function sA(t){nA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Sn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ru(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Di(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vD(e)}}catch{}return new TD},Ha=iA("localStorage"),SD=iA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new Rg("@firebase/database"),AD=(function(){let t=1;return function(){return t++}})(),rA=function(t){const e=hM(t),n=new lM;n.update(e);const i=n.digest();return Ng.encodeByteArray(i)},Nu=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Nu.apply(null,i):typeof i=="object"?e+=Sn(i):e+=i,e+=" "}return e};let Kc=null,r1=!0;const ND=function(t,e){Ne(!0,"Can't turn on custom loggers persistently."),rl.logLevel=kt.VERBOSE,Kc=rl.log.bind(rl)},Un=function(...t){if(r1===!0&&(r1=!1,Kc===null&&SD.get("logging_enabled")===!0&&ND()),Kc){const e=Nu.apply(null,t);Kc(e)}},_u=function(t){return function(...e){Un(t,...e)}},M0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Nu(...t);rl.error(e)},or=function(...t){const e=`FIREBASE FATAL ERROR: ${Nu(...t)}`;throw rl.error(e),new Error(e)},es=function(...t){const e="FIREBASE WARNING: "+Nu(...t);rl.warn(e)},_D=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&es("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Mg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wD=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pl="[MIN_NAME]",Xa="[MAX_NAME]",to=function(t,e){if(t===e)return 0;if(t===pl||e===Xa)return-1;if(e===pl||t===Xa)return 1;{const n=a1(t),i=a1(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},RD=function(t,e){return t===e?0:t<e?-1:1},Mc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Sn(e))},Dg=function(t){if(typeof t!="object"||t===null)return Sn(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Sn(e[i]),n+=":",n+=Dg(t[e[i]]);return n+="}",n},aA=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function Hn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const oA=function(t){Ne(!Mg(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,c,d,h,f;t===0?(c=0,d=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),i),c=h+i,d=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(c=0,d=Math.round(t/Math.pow(2,1-i-n))));const p=[];for(f=n;f;f-=1)p.push(d%2?1:0),d=Math.floor(d/2);for(f=e;f;f-=1)p.push(c%2?1:0),c=Math.floor(c/2);p.push(o?1:0),p.reverse();const E=p.join("");let y="";for(f=0;f<64;f+=8){let b=parseInt(E.substr(f,8),2).toString(16);b.length===1&&(b="0"+b),y=y+b}return y.toLowerCase()},CD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ID=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function MD(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const DD=new RegExp("^-?(0*)\\d{1,10}$"),LD=-2147483648,OD=2147483647,a1=function(t){if(DD.test(t)){const e=Number(t);if(e>=LD&&e<=OD)return e}return null},Cl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw es("Exception was thrown by user callback.",n),e},Math.floor(0))}},kD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,_i(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){es(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',es(e)}}class uh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}uh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="5",lA="v",cA="s",uA="r",dA="f",hA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fA="ls",pA="p",D0="ac",mA="websocket",gA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n,i,o,c=!1,d="",h=!1,f=!1,p=null){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ha.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ha.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function PD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function xA(t,e,n){Ne(typeof e=="string","typeof type must == string"),Ne(typeof n=="object","typeof params must == object");let i;if(e===mA)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===gA)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);PD(t)&&(n.ns=t.namespace);const o=[];return Hn(n,(c,d)=>{o.push(c+"="+d)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.counters_={}}incrementCounter(e,n=1){Di(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return B2(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm={},Um={};function Og(t){const e=t.toString();return Pm[e]||(Pm[e]=new UD),Pm[e]}function HD(t,e){const n=t.toString();return Um[n]||(Um[n]=e()),Um[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&Cl(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="start",GD="close",zD="pLPCommand",VD="pRTLPCB",yA="id",bA="pw",vA="ser",KD="cb",WD="seg",YD="ts",qD="d",$D="dframe",TA=1870,SA=30,XD=TA-SA,ZD=25e3,QD=3e4;class Qo{constructor(e,n,i,o,c,d,h){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=c,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_u(e),this.stats_=Og(n),this.urlFn=f=>(this.appCheckToken&&(f[D0]=this.appCheckToken),xA(n,gA,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new BD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(QD)),wD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kg((...c)=>{const[d,h,f,p,E]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===o1)this.id=h,this.password=f;else if(d===GD)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[o1]="t",i[vA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[KD]=this.scriptTagHolder.uniqueCallbackIdentifier),i[lA]=Lg,this.transportSessionId&&(i[cA]=this.transportSessionId),this.lastSessionId&&(i[fA]=this.lastSessionId),this.applicationId&&(i[pA]=this.applicationId),this.appCheckToken&&(i[D0]=this.appCheckToken),typeof location<"u"&&location.hostname&&hA.test(location.hostname)&&(i[uA]=dA);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qo.forceAllow_=!0}static forceDisallow(){Qo.forceDisallow_=!0}static isAvailable(){return Qo.forceAllow_?!0:!Qo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!CD()&&!ID()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Sn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=BS(n),o=aA(i,XD);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[$D]="t",i[yA]=e,i[bA]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Sn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class kg{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=AD(),window[zD+this.uniqueCallbackIdentifier]=e,window[VD+this.uniqueCallbackIdentifier]=n,this.myIFrame=kg.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){Un("frame writing exception"),h.stack&&Un(h.stack),Un(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Un("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[yA]=this.myID,e[bA]=this.myPW,e[vA]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+SA+i.length<=TA;){const d=this.pendingSegs.shift();i=i+"&"+WD+o+"="+d.seg+"&"+YD+o+"="+d.ts+"&"+qD+o+"="+d.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(ZD)),c=()=>{clearTimeout(o),i()};this.addTag(e,c)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Un("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=16384,eL=45e3;let wh=null;typeof MozWebSocket<"u"?wh=MozWebSocket:typeof WebSocket<"u"&&(wh=WebSocket);class ui{constructor(e,n,i,o,c,d,h){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_u(this.connId),this.stats_=Og(n),this.connURL=ui.connectionURL_(n,d,h,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,c){const d={};return d[lA]=Lg,typeof location<"u"&&location.hostname&&hA.test(location.hostname)&&(d[uA]=dA),n&&(d[cA]=n),i&&(d[fA]=i),o&&(d[D0]=o),c&&(d[pA]=c),xA(e,mA,d)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ha.set("previous_websocket_failure",!0);try{let i;eM(),this.mySock=new wh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){ui.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&wh!==null&&!ui.forceDisallow_}static previouslyFailed(){return Ha.isInMemoryStorage||Ha.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ha.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ru(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Sn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=aA(n,JD);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(eL))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ui.responsesRequiredToBeHealthy=2;ui.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{static get ALL_TRANSPORTS(){return[Qo,ui]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ui&&ui.isAvailable();let i=n&&!ui.previouslyFailed();if(e.webSocketOnly&&(n||es("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ui];else{const o=this.transports_=[];for(const c of ou.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);ou.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ou.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=6e4,nL=5e3,sL=10*1024,iL=100*1024,Hm="t",l1="d",rL="s",c1="r",aL="e",u1="o",d1="a",h1="n",f1="p",oL="h";class lL{constructor(e,n,i,o,c,d,h,f,p,E){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_u("c:"+this.id+":"),this.transportManager_=new ou(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Wc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Hm in e){const n=e[Hm];n===d1?this.upgradeIfSecondaryHealthy_():n===c1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===u1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Mc("t",e),i=Mc("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:f1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:d1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:h1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Mc("t",e),i=Mc("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Mc(Hm,e);if(l1 in e){const i=e[l1];if(n===oL){const o={...i};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===h1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===rL?this.onConnectionShutdown_(i):n===c1?this.onReset_(i):n===aL?M0("Server Error: "+i):n===u1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Lg!==i&&es("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Wc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tL))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:f1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.allowedEvents_=e,this.listeners_={},Ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===n&&(!i||i===o[c].context)){o.splice(c,1);return}}validateEventType_(e){Ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends NA{static getInstance(){return new Rh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=32,m1=768;class jt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Nt(){return new jt("")}function ut(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ia(t){return t.pieces_.length-t.pieceNum_}function Ht(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new jt(t.pieces_,e)}function jg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function cL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function lu(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function _A(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new jt(e,0)}function nn(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof jt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new jt(n,0)}function pt(t){return t.pieceNum_>=t.pieces_.length}function Qn(t,e){const n=ut(t),i=ut(e);if(n===null)return e;if(n===i)return Qn(Ht(t),Ht(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uL(t,e){const n=lu(t,0),i=lu(e,0);for(let o=0;o<n.length&&o<i.length;o++){const c=to(n[o],i[o]);if(c!==0)return c}return n.length===i.length?0:n.length<i.length?-1:1}function Fg(t,e){if(ia(t)!==ia(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ws(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(ia(t)>ia(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class dL{constructor(e,n){this.errorPrefix_=n,this.parts_=lu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=sf(this.parts_[i]);wA(this)}}function hL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=sf(e),wA(t)}function fL(t){const e=t.parts_.pop();t.byteLength_-=sf(e),t.parts_.length>0&&(t.byteLength_-=1)}function wA(t){if(t.byteLength_>m1)throw new Error(t.errorPrefix_+"has a key path longer than "+m1+" bytes ("+t.byteLength_+").");if(t.parts_.length>p1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+p1+") or object contains a cycle "+Pa(t))}function Pa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends NA{static getInstance(){return new Pg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return Ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=1e3,pL=300*1e3,g1=30*1e3,mL=1.3,gL=3e4,EL="server_kill",E1=3;class sr extends AA{constructor(e,n,i,o,c,d,h,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=sr.nextPersistentConnectionId_++,this.log_=_u("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dc,this.maxReconnectDelay_=pL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Rh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,c={r:o,a:e,b:n};this.log_(Sn(c)),Ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new Su,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),n.promise}listen(e,n,i,o){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),Ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ne(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(d).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const c={p:i},d="q";e.tag&&(c.q=n._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(d,c,h=>{const f=h.d,p=h.s;sr.warnOnListenWarnings_(f,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Di(e,"w")){const i=hl(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',c=n._path.toString();es(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||oM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=g1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=aM(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const c=o.s,d=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),Ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const c={p:e},d="n";o&&(c.q=i,c.t=o),this.sendRequest(d,c)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const c={p:n,d:i};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,c){this.initConnection_();const d={p:n,d:i};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,c=>{this.log_(n+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const c=i.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Sn(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):M0("Unrecognized action received from server: "+Sn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Dc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>gL&&(this.reconnectDelay_=Dc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+sr.nextConnectionId_++,c=this.lastSessionId;let d=!1,h=null;const f=function(){h?h.close():(d=!0,i())},p=function(y){Ne(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:f,sendRequest:p};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,b]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);d?Un("getToken() completed but was canceled"):(Un("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=b&&b.token,h=new lL(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,T=>{es(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(EL)},c))}catch(y){this.log_("Failed to get token: "+y),d||(this.repoInfo_.nodeAdmin&&es(y),f())}}}interrupt(e){Un("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Un("Resuming connection for reason: "+e),delete this.interruptReasons_[e],N0(this.interruptReasons_)&&(this.reconnectDelay_=Dc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(c=>Dg(c)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new jt(e).toString();let o;if(this.listens.has(i)){const c=this.listens.get(i);o=c.get(n),c.delete(n),c.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){Un("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=E1&&(this.reconnectDelay_=g1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Un("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=E1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+nA.replace(/\./g,"-")]=1,wg()?e["framework.cordova"]=1:qS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rh.getInstance().currentlyOnline();return N0(this.interruptReasons_)&&e}}sr.nextPersistentConnectionId_=0;sr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new dt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new dt(pl,e),o=new dt(pl,n);return this.compare(i,o)!==0}minPost(){return dt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd;class RA extends rf{static get __EMPTY_NODE(){return Xd}static set __EMPTY_NODE(e){Xd=e}compare(e,n){return to(e.name,n.name)}isDefinedOn(e){throw Nl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return dt.MIN}maxPost(){return new dt(Xa,Xd)}makePost(e,n){return Ne(typeof e=="string","KeyIndex indexValue must always be a string."),new dt(e,Xd)}toString(){return".key"}}const al=new RA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,i,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=n?i(e.key,n):1,o&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class In{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??In.RED,this.left=o??ds.EMPTY_NODE,this.right=c??ds.EMPTY_NODE}copy(e,n,i,o,c){return new In(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ds.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return ds.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}In.RED=!0;In.BLACK=!1;class xL{copy(e,n,i,o,c){return this}insert(e,n,i){return new In(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ds{constructor(e,n=ds.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ds(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,In.BLACK,null,null))}remove(e){return new ds(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,In.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zd(this.root_,null,this.comparator_,!0,e)}}ds.EMPTY_NODE=new xL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t,e){return to(t.name,e.name)}function Ug(t,e){return to(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L0;function bL(t){L0=t}const CA=function(t){return typeof t=="number"?"number:"+oA(t):"string:"+t},IA=function(t){if(t.isLeafNode()){const e=t.val();Ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Di(e,".sv"),"Priority must be a string or number.")}else Ne(t===L0||t.isEmpty(),"priority of unexpected type.");Ne(t===L0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x1;class Rn{static set __childrenNodeConstructor(e){x1=e}static get __childrenNodeConstructor(){return x1}constructor(e,n=Rn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),IA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pt(e)?this:ut(e)===".priority"?this.priorityNode_:Rn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Rn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ut(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Ne(i!==".priority"||ia(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Rn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ht(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+CA(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=oA(this.value_):e+=this.value_,this.lazyHash_=rA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rn.__childrenNodeConstructor?-1:(Ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=Rn.VALUE_TYPE_ORDER.indexOf(n),c=Rn.VALUE_TYPE_ORDER.indexOf(i);return Ne(o>=0,"Unknown leaf type: "+n),Ne(c>=0,"Unknown leaf type: "+i),o===c?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Rn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MA,DA;function vL(t){MA=t}function TL(t){DA=t}class SL extends rf{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),c=i.compareTo(o);return c===0?to(e.name,n.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return dt.MIN}maxPost(){return new dt(Xa,new Rn("[PRIORITY-POST]",DA))}makePost(e,n){const i=MA(e);return new dt(n,new Rn("[PRIORITY-POST]",i))}toString(){return".priority"}}const sn=new SL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=Math.log(2);class NL{constructor(e){const n=c=>parseInt(Math.log(c)/AL,10),i=c=>parseInt(Array(c+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ch=function(t,e,n,i){t.sort(e);const o=function(f,p){const E=p-f;let y,b;if(E===0)return null;if(E===1)return y=t[f],b=n?n(y):y,new In(b,y.node,In.BLACK,null,null);{const T=parseInt(E/2,10)+f,N=o(f,T),R=o(T+1,p);return y=t[T],b=n?n(y):y,new In(b,y.node,In.BLACK,N,R)}},c=function(f){let p=null,E=null,y=t.length;const b=function(N,R){const I=y-N,O=y;y-=N;const $=o(I+1,O),U=t[I],K=n?n(U):U;T(new In(K,U.node,R,null,$))},T=function(N){p?(p.left=N,p=N):(E=N,p=N)};for(let N=0;N<f.count;++N){const R=f.nextBitIsOne(),I=Math.pow(2,f.count-(N+1));R?b(I,In.BLACK):(b(I,In.BLACK),b(I,In.RED))}return E},d=new NL(t.length),h=c(d);return new ds(i||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm;const qo={};class er{static get Default(){return Ne(qo&&sn,"ChildrenNode.ts has not been loaded"),Bm=Bm||new er({".priority":qo},{".priority":sn}),Bm}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=hl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ds?n:null}hasIndex(e){return Di(this.indexSet_,e.toString())}addIndex(e,n){Ne(e!==al,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const c=n.getIterator(dt.Wrap);let d=c.getNext();for(;d;)o=o||e.isDefinedOn(d.node),i.push(d),d=c.getNext();let h;o?h=Ch(i,e.getCompare()):h=qo;const f=e.toString(),p={...this.indexSet_};p[f]=e;const E={...this.indexes_};return E[f]=h,new er(E,p)}addToIndexes(e,n){const i=Nh(this.indexes_,(o,c)=>{const d=hl(this.indexSet_,c);if(Ne(d,"Missing index implementation for "+c),o===qo)if(d.isDefinedOn(e.node)){const h=[],f=n.getIterator(dt.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&h.push(p),p=f.getNext();return h.push(e),Ch(h,d.getCompare())}else return qo;else{const h=n.get(e.name);let f=o;return h&&(f=f.remove(new dt(e.name,h))),f.insert(e,e.node)}});return new er(i,this.indexSet_)}removeFromIndexes(e,n){const i=Nh(this.indexes_,o=>{if(o===qo)return o;{const c=n.get(e.name);return c?o.remove(new dt(e.name,c)):o}});return new er(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;class Ze{static get EMPTY_NODE(){return Lc||(Lc=new Ze(new ds(Ug),null,er.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&IA(this.priorityNode_),this.children_.isEmpty()&&Ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lc}updatePriority(e){return this.children_.isEmpty()?this:new Ze(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Lc:n}}getChild(e){const n=ut(e);return n===null?this:this.getImmediateChild(n).getChild(Ht(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new dt(e,n);let o,c;n.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),c=this.indexMap_.addToIndexes(i,this.children_));const d=o.isEmpty()?Lc:this.priorityNode_;return new Ze(o,d,c)}}updateChild(e,n){const i=ut(e);if(i===null)return n;{Ne(ut(e)!==".priority"||ia(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Ht(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,c=!0;if(this.forEachChild(sn,(d,h)=>{n[d]=h.val(e),i++,c&&Ze.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!e&&c&&o<2*i){const d=[];for(const h in n)d[h]=n[h];return d}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+CA(this.getPriority().val())+":"),this.forEachChild(sn,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":rA(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const c=o.getPredecessorKey(new dt(e,n));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new dt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new dt(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,dt.Wrap);let c=o.peek();for(;c!=null&&n.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,dt.Wrap);let c=o.peek();for(;c!=null&&n.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wu?-1:0}withIndex(e){if(e===al||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ze(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===al||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(sn),o=n.getIterator(sn);let c=i.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=i.getNext(),d=o.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===al?null:this.indexMap_.get(e.toString())}}Ze.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _L extends Ze{constructor(){super(new ds(Ug),Ze.EMPTY_NODE,er.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ze.EMPTY_NODE}isEmpty(){return!1}}const wu=new _L;Object.defineProperties(dt,{MIN:{value:new dt(pl,Ze.EMPTY_NODE)},MAX:{value:new dt(Xa,wu)}});RA.__EMPTY_NODE=Ze.EMPTY_NODE;Rn.__childrenNodeConstructor=Ze;bL(wu);TL(wu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=!0;function Tn(t,e=null){if(t===null)return Ze.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Rn(n,Tn(e))}if(!(t instanceof Array)&&wL){const n=[];let i=!1;if(Hn(t,(d,h)=>{if(d.substring(0,1)!=="."){const f=Tn(h);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),n.push(new dt(d,f)))}}),n.length===0)return Ze.EMPTY_NODE;const c=Ch(n,yL,d=>d.name,Ug);if(i){const d=Ch(n,sn.getCompare());return new Ze(c,Tn(e),new er({".priority":d},{".priority":sn}))}else return new Ze(c,Tn(e),er.Default)}else{let n=Ze.EMPTY_NODE;return Hn(t,(i,o)=>{if(Di(t,i)&&i.substring(0,1)!=="."){const c=Tn(o);(c.isLeafNode()||!c.isEmpty())&&(n=n.updateImmediateChild(i,c))}}),n.updatePriority(Tn(e))}}vL(Tn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL extends rf{constructor(e){super(),this.indexPath_=e,Ne(!pt(e)&&ut(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),c=i.compareTo(o);return c===0?to(e.name,n.name):c}makePost(e,n){const i=Tn(e),o=Ze.EMPTY_NODE.updateChild(this.indexPath_,i);return new dt(n,o)}maxPost(){const e=Ze.EMPTY_NODE.updateChild(this.indexPath_,wu);return new dt(Xa,e)}toString(){return lu(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL extends rf{compare(e,n){const i=e.node.compareTo(n.node);return i===0?to(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return dt.MIN}maxPost(){return dt.MAX}makePost(e,n){const i=Tn(e);return new dt(n,i)}toString(){return".value"}}const IL=new CL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){return{type:"value",snapshotNode:t}}function ml(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function cu(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function uu(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ML(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.index_=e}updateChild(e,n,i,o,c,d){Ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(o).equals(i.getChild(o))&&h.isEmpty()===i.isEmpty()||(d!=null&&(i.isEmpty()?e.hasChild(n)?d.trackChildChange(cu(n,h)):Ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(ml(n,i)):d.trackChildChange(uu(n,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(sn,(o,c)=>{n.hasChild(o)||i.trackChildChange(cu(o,c))}),n.isLeafNode()||n.forEachChild(sn,(o,c)=>{if(e.hasChild(o)){const d=e.getImmediateChild(o);d.equals(c)||i.trackChildChange(uu(o,c,d))}else i.trackChildChange(ml(o,c))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ze.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.indexedFilter_=new Hg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=du.getStartPost_(e),this.endPost_=du.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,c,d){return this.matches(new dt(n,i))||(i=Ze.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,c,d)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Ze.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(Ze.EMPTY_NODE);const c=this;return n.forEachChild(sn,(d,h)=>{c.matches(new dt(d,h))||(o=o.updateImmediateChild(d,Ze.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new du(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,c,d){return this.rangedFilter_.matches(new dt(n,i))||(i=Ze.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,c,d):this.fullLimitUpdateChild_(e,n,i,c,d)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=Ze.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=Ze.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const h=c.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(Ze.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let d=0;for(;c.hasNext();){const h=c.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:o=o.updateImmediateChild(h.name,Ze.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,c){let d;if(this.reverse_){const y=this.index_.getCompare();d=(b,T)=>y(T,b)}else d=this.index_.getCompare();const h=e;Ne(h.numChildren()===this.limit_,"");const f=new dt(n,i),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(f);if(h.hasChild(n)){const y=h.getImmediateChild(n);let b=o.getChildAfterChild(this.index_,p,this.reverse_);for(;b!=null&&(b.name===n||h.hasChild(b.name));)b=o.getChildAfterChild(this.index_,b,this.reverse_);const T=b==null?1:d(b,f);if(E&&!i.isEmpty()&&T>=0)return c!=null&&c.trackChildChange(uu(n,i,y)),h.updateImmediateChild(n,i);{c!=null&&c.trackChildChange(cu(n,y));const R=h.updateImmediateChild(n,Ze.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(c!=null&&c.trackChildChange(ml(b.name,b.node)),R.updateImmediateChild(b.name,b.node)):R}}else return i.isEmpty()?e:E&&d(p,f)>=0?(c!=null&&(c.trackChildChange(cu(p.name,p.node)),c.trackChildChange(ml(n,i))),h.updateImmediateChild(n,i).updateImmediateChild(p.name,Ze.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pl}hasEnd(){return this.endSet_}getIndexEndValue(){return Ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sn}copy(){const e=new af;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function LL(t){return t.loadsAllData()?new Hg(t.getIndex()):t.hasLimit()?new DL(t):new du(t)}function y1(t){const e={};if(t.isDefault())return e;let n;if(t.index_===sn?n="$priority":t.index_===IL?n="$value":t.index_===al?n="$key":(Ne(t.index_ instanceof RL,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Sn(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Sn(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Sn(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Sn(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Sn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function b1(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==sn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends AA{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=_u("p:rest:"),this.listens_={}}listen(e,n,i,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const d=Ih.getListenId_(e,i),h={};this.listens_[d]=h;const f=y1(e._queryParams);this.restRequest_(c+".json",f,(p,E)=>{let y=E;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(c,y,!1,i),hl(this.listens_,d)===h){let b;p?p===401?b="permission_denied":b="rest_error:"+p:b="ok",o(b,null)}})}unlisten(e,n){const i=Ih.getListenId_(e,n);delete this.listens_[i]}get(e){const n=y1(e._queryParams),i=e._path.toString(),o=new Su;return this.restRequest_(i+".json",n,(c,d)=>{let h=d;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(i,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(n.auth=o.accessToken),c&&c.token&&(n.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wl(n);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=ru(h.responseText)}catch{es("Failed to parse JSON response for "+d+": "+h.responseText)}i(null,f)}else h.status!==401&&h.status!==404&&es("Got unsuccessful REST response for "+d+" Status: "+h.status),i(h.status);i=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.rootNode_=Ze.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(){return{value:null,children:new Map}}function OA(t,e,n){if(pt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ut(e);t.children.has(i)||t.children.set(i,Mh());const o=t.children.get(i);e=Ht(e),OA(o,e,n)}}function O0(t,e,n){t.value!==null?n(e,t.value):kL(t,(i,o)=>{const c=new jt(e.toString()+"/"+i);O0(o,c,n)})}function kL(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Hn(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=10*1e3,FL=30*1e3,PL=300*1e3;class UL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jL(e);const i=v1+(FL-v1)*Math.random();Wc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Hn(e,(o,c)=>{c>0&&Di(this.statsToReport_,o)&&(n[o]=c,i=!0)}),i&&this.server_.reportStats(n),Wc(this.reportStats_.bind(this),Math.floor(Math.random()*2*PL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(di||(di={}));function Bg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Gg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=di.ACK_USER_WRITE,this.source=Bg()}operationForChild(e){if(pt(this.path)){if(this.affectedTree.value!=null)return Ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new jt(e));return new Dh(Nt(),n,this.revert)}}else return Ne(ut(this.path)===e,"operationForChild called for unrelated child."),new Dh(Ht(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.source=e,this.path=n,this.type=di.LISTEN_COMPLETE}operationForChild(e){return pt(this.path)?new hu(this.source,Nt()):new hu(this.source,Ht(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=di.OVERWRITE}operationForChild(e){return pt(this.path)?new Za(this.source,Nt(),this.snap.getImmediateChild(e)):new Za(this.source,Ht(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=di.MERGE}operationForChild(e){if(pt(this.path)){const n=this.children.subtree(new jt(e));return n.isEmpty()?null:n.value?new Za(this.source,Nt(),n.value):new gl(this.source,Nt(),n)}else return Ne(ut(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gl(this.source,Ht(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pt(e))return this.isFullyInitialized()&&!this.filtered_;const n=ut(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function BL(t,e,n,i){const o=[],c=[];return e.forEach(d=>{d.type==="child_changed"&&t.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(ML(d.childName,d.snapshotNode))}),Oc(t,o,"child_removed",e,i,n),Oc(t,o,"child_added",e,i,n),Oc(t,o,"child_moved",c,i,n),Oc(t,o,"child_changed",e,i,n),Oc(t,o,"value",e,i,n),o}function Oc(t,e,n,i,o,c){const d=i.filter(h=>h.type===n);d.sort((h,f)=>zL(t,h,f)),d.forEach(h=>{const f=GL(t,h,c);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(f,t.query_))})})}function GL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function zL(t,e,n){if(e.childName==null||n.childName==null)throw Nl("Should only compare child_ events.");const i=new dt(e.childName,e.snapshotNode),o=new dt(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t,e){return{eventCache:t,serverCache:e}}function Yc(t,e,n,i){return of(new ra(e,n,i),t.serverCache)}function kA(t,e,n,i){return of(t.eventCache,new ra(e,n,i))}function Lh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Qa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm;const VL=()=>(Gm||(Gm=new ds(RD)),Gm);class Ut{static fromObject(e){let n=new Ut(null);return Hn(e,(i,o)=>{n=n.set(new jt(i),o)}),n}constructor(e,n=VL()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Nt(),value:this.value};if(pt(e))return null;{const i=ut(e),o=this.children.get(i);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Ht(e),n);return c!=null?{path:nn(new jt(i),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pt(e))return this;{const n=ut(e),i=this.children.get(n);return i!==null?i.subtree(Ht(e)):new Ut(null)}}set(e,n){if(pt(e))return new Ut(n,this.children);{const i=ut(e),c=(this.children.get(i)||new Ut(null)).set(Ht(e),n),d=this.children.insert(i,c);return new Ut(this.value,d)}}remove(e){if(pt(e))return this.children.isEmpty()?new Ut(null):new Ut(null,this.children);{const n=ut(e),i=this.children.get(n);if(i){const o=i.remove(Ht(e));let c;return o.isEmpty()?c=this.children.remove(n):c=this.children.insert(n,o),this.value===null&&c.isEmpty()?new Ut(null):new Ut(this.value,c)}else return this}}get(e){if(pt(e))return this.value;{const n=ut(e),i=this.children.get(n);return i?i.get(Ht(e)):null}}setTree(e,n){if(pt(e))return n;{const i=ut(e),c=(this.children.get(i)||new Ut(null)).setTree(Ht(e),n);let d;return c.isEmpty()?d=this.children.remove(i):d=this.children.insert(i,c),new Ut(this.value,d)}}fold(e){return this.fold_(Nt(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,c)=>{i[o]=c.fold_(nn(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Nt(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(pt(e))return null;{const c=ut(e),d=this.children.get(c);return d?d.findOnPath_(Ht(e),nn(n,c),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Nt(),n)}foreachOnPath_(e,n,i){if(pt(e))return this;{this.value&&i(n,this.value);const o=ut(e),c=this.children.get(o);return c?c.foreachOnPath_(Ht(e),nn(n,o),i):new Ut(null)}}foreach(e){this.foreach_(Nt(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(nn(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.writeTree_=e}static empty(){return new fi(new Ut(null))}}function qc(t,e,n){if(pt(e))return new fi(new Ut(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let c=i.value;const d=Qn(o,e);return c=c.updateChild(d,n),new fi(t.writeTree_.set(o,c))}else{const o=new Ut(n),c=t.writeTree_.setTree(e,o);return new fi(c)}}}function k0(t,e,n){let i=t;return Hn(n,(o,c)=>{i=qc(i,nn(e,o),c)}),i}function T1(t,e){if(pt(e))return fi.empty();{const n=t.writeTree_.setTree(e,new Ut(null));return new fi(n)}}function j0(t,e){return no(t,e)!=null}function no(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Qn(n.path,e)):null}function S1(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(sn,(i,o)=>{e.push(new dt(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new dt(i,o.value))}),e}function na(t,e){if(pt(e))return t;{const n=no(t,e);return n!=null?new fi(new Ut(n)):new fi(t.writeTree_.subtree(e))}}function F0(t){return t.writeTree_.isEmpty()}function El(t,e){return jA(Nt(),t.writeTree_,e)}function jA(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(Ne(c.value!==null,"Priority writes must always be leaf nodes"),i=c.value):n=jA(nn(t,o),c,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(nn(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t,e){return HA(e,t)}function KL(t,e,n,i,o){Ne(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=qc(t.visibleWrites,e,n)),t.lastWriteId=i}function WL(t,e,n,i){Ne(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=k0(t.visibleWrites,e,n),t.lastWriteId=i}function YL(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function qL(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);Ne(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,c=!1,d=t.allWrites.length-1;for(;o&&d>=0;){const h=t.allWrites[d];h.visible&&(d>=n&&$L(h,i.path)?o=!1:Ws(i.path,h.path)&&(c=!0)),d--}if(o){if(c)return XL(t),!0;if(i.snap)t.visibleWrites=T1(t.visibleWrites,i.path);else{const h=i.children;Hn(h,f=>{t.visibleWrites=T1(t.visibleWrites,nn(i.path,f))})}return!0}else return!1}function $L(t,e){if(t.snap)return Ws(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ws(nn(t.path,n),e))return!0;return!1}function XL(t){t.visibleWrites=FA(t.allWrites,ZL,Nt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ZL(t){return t.visible}function FA(t,e,n){let i=fi.empty();for(let o=0;o<t.length;++o){const c=t[o];if(e(c)){const d=c.path;let h;if(c.snap)Ws(n,d)?(h=Qn(n,d),i=qc(i,h,c.snap)):Ws(d,n)&&(h=Qn(d,n),i=qc(i,Nt(),c.snap.getChild(h)));else if(c.children){if(Ws(n,d))h=Qn(n,d),i=k0(i,h,c.children);else if(Ws(d,n))if(h=Qn(d,n),pt(h))i=k0(i,Nt(),c.children);else{const f=hl(c.children,ut(h));if(f){const p=f.getChild(Ht(h));i=qc(i,Nt(),p)}}}else throw Nl("WriteRecord should have .snap or .children")}}return i}function PA(t,e,n,i,o){if(!i&&!o){const c=no(t.visibleWrites,e);if(c!=null)return c;{const d=na(t.visibleWrites,e);if(F0(d))return n;if(n==null&&!j0(d,Nt()))return null;{const h=n||Ze.EMPTY_NODE;return El(d,h)}}}else{const c=na(t.visibleWrites,e);if(!o&&F0(c))return n;if(!o&&n==null&&!j0(c,Nt()))return null;{const d=function(p){return(p.visible||o)&&(!i||!~i.indexOf(p.writeId))&&(Ws(p.path,e)||Ws(e,p.path))},h=FA(t.allWrites,d,e),f=n||Ze.EMPTY_NODE;return El(h,f)}}}function QL(t,e,n){let i=Ze.EMPTY_NODE;const o=no(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(sn,(c,d)=>{i=i.updateImmediateChild(c,d)}),i;if(n){const c=na(t.visibleWrites,e);return n.forEachChild(sn,(d,h)=>{const f=El(na(c,new jt(d)),h);i=i.updateImmediateChild(d,f)}),S1(c).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}else{const c=na(t.visibleWrites,e);return S1(c).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}}function JL(t,e,n,i,o){Ne(i||o,"Either existingEventSnap or existingServerSnap must exist");const c=nn(e,n);if(j0(t.visibleWrites,c))return null;{const d=na(t.visibleWrites,c);return F0(d)?o.getChild(n):El(d,o.getChild(n))}}function eO(t,e,n,i){const o=nn(e,n),c=no(t.visibleWrites,o);if(c!=null)return c;if(i.isCompleteForChild(n)){const d=na(t.visibleWrites,o);return El(d,i.getNode().getImmediateChild(n))}else return null}function tO(t,e){return no(t.visibleWrites,e)}function nO(t,e,n,i,o,c,d){let h;const f=na(t.visibleWrites,e),p=no(f,Nt());if(p!=null)h=p;else if(n!=null)h=El(f,n);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const E=[],y=d.getCompare(),b=c?h.getReverseIteratorFrom(i,d):h.getIteratorFrom(i,d);let T=b.getNext();for(;T&&E.length<o;)y(T,i)!==0&&E.push(T),T=b.getNext();return E}else return[]}function sO(){return{visibleWrites:fi.empty(),allWrites:[],lastWriteId:-1}}function Oh(t,e,n,i){return PA(t.writeTree,t.treePath,e,n,i)}function Vg(t,e){return QL(t.writeTree,t.treePath,e)}function A1(t,e,n,i){return JL(t.writeTree,t.treePath,e,n,i)}function kh(t,e){return tO(t.writeTree,nn(t.treePath,e))}function iO(t,e,n,i,o,c){return nO(t.writeTree,t.treePath,e,n,i,o,c)}function Kg(t,e,n){return eO(t.writeTree,t.treePath,e,n)}function UA(t,e){return HA(nn(t.treePath,e),t.writeTree)}function HA(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ne(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const c=o.type;if(n==="child_added"&&c==="child_removed")this.changeMap.set(i,uu(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&c==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&c==="child_changed")this.changeMap.set(i,cu(i,o.oldSnap));else if(n==="child_changed"&&c==="child_added")this.changeMap.set(i,ml(i,e.snapshotNode));else if(n==="child_changed"&&c==="child_changed")this.changeMap.set(i,uu(i,e.snapshotNode,o.oldSnap));else throw Nl("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const BA=new aO;class Wg{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ra(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Kg(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qa(this.viewCache_),c=iO(this.writes_,o,n,1,i,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){return{filter:t}}function lO(t,e){Ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function cO(t,e,n,i,o){const c=new rO;let d,h;if(n.type===di.OVERWRITE){const p=n;p.source.fromUser?d=P0(t,e,p.path,p.snap,i,o,c):(Ne(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!pt(p.path),d=jh(t,e,p.path,p.snap,i,o,h,c))}else if(n.type===di.MERGE){const p=n;p.source.fromUser?d=dO(t,e,p.path,p.children,i,o,c):(Ne(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),d=U0(t,e,p.path,p.children,i,o,h,c))}else if(n.type===di.ACK_USER_WRITE){const p=n;p.revert?d=pO(t,e,p.path,i,o,c):d=hO(t,e,p.path,p.affectedTree,i,o,c)}else if(n.type===di.LISTEN_COMPLETE)d=fO(t,e,n.path,i,c);else throw Nl("Unknown operation type: "+n.type);const f=c.getChanges();return uO(e,d,f),{viewCache:d,changes:f}}function uO(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=Lh(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&n.push(LA(Lh(e)))}}function GA(t,e,n,i,o,c){const d=e.eventCache;if(kh(i,n)!=null)return e;{let h,f;if(pt(n))if(Ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Qa(e),E=p instanceof Ze?p:Ze.EMPTY_NODE,y=Vg(i,E);h=t.filter.updateFullNode(e.eventCache.getNode(),y,c)}else{const p=Oh(i,Qa(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,c)}else{const p=ut(n);if(p===".priority"){Ne(ia(n)===1,"Can't have a priority with additional path components");const E=d.getNode();f=e.serverCache.getNode();const y=A1(i,n,E,f);y!=null?h=t.filter.updatePriority(E,y):h=d.getNode()}else{const E=Ht(n);let y;if(d.isCompleteForChild(p)){f=e.serverCache.getNode();const b=A1(i,n,d.getNode(),f);b!=null?y=d.getNode().getImmediateChild(p).updateChild(E,b):y=d.getNode().getImmediateChild(p)}else y=Kg(i,p,e.serverCache);y!=null?h=t.filter.updateChild(d.getNode(),p,y,E,o,c):h=d.getNode()}}return Yc(e,h,d.isFullyInitialized()||pt(n),t.filter.filtersNodes())}}function jh(t,e,n,i,o,c,d,h){const f=e.serverCache;let p;const E=d?t.filter:t.filter.getIndexedFilter();if(pt(n))p=E.updateFullNode(f.getNode(),i,null);else if(E.filtersNodes()&&!f.isFiltered()){const T=f.getNode().updateChild(n,i);p=E.updateFullNode(f.getNode(),T,null)}else{const T=ut(n);if(!f.isCompleteForPath(n)&&ia(n)>1)return e;const N=Ht(n),I=f.getNode().getImmediateChild(T).updateChild(N,i);T===".priority"?p=E.updatePriority(f.getNode(),I):p=E.updateChild(f.getNode(),T,I,N,BA,null)}const y=kA(e,p,f.isFullyInitialized()||pt(n),E.filtersNodes()),b=new Wg(o,y,c);return GA(t,y,n,o,b,h)}function P0(t,e,n,i,o,c,d){const h=e.eventCache;let f,p;const E=new Wg(o,e,c);if(pt(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,d),f=Yc(e,p,!0,t.filter.filtersNodes());else{const y=ut(n);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),i),f=Yc(e,p,h.isFullyInitialized(),h.isFiltered());else{const b=Ht(n),T=h.getNode().getImmediateChild(y);let N;if(pt(b))N=i;else{const R=E.getCompleteChild(y);R!=null?jg(b)===".priority"&&R.getChild(_A(b)).isEmpty()?N=R:N=R.updateChild(b,i):N=Ze.EMPTY_NODE}if(T.equals(N))f=e;else{const R=t.filter.updateChild(h.getNode(),y,N,b,E,d);f=Yc(e,R,h.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function N1(t,e){return t.eventCache.isCompleteForChild(e)}function dO(t,e,n,i,o,c,d){let h=e;return i.foreach((f,p)=>{const E=nn(n,f);N1(e,ut(E))&&(h=P0(t,h,E,p,o,c,d))}),i.foreach((f,p)=>{const E=nn(n,f);N1(e,ut(E))||(h=P0(t,h,E,p,o,c,d))}),h}function _1(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function U0(t,e,n,i,o,c,d,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;pt(n)?p=i:p=new Ut(null).setTree(n,i);const E=e.serverCache.getNode();return p.children.inorderTraversal((y,b)=>{if(E.hasChild(y)){const T=e.serverCache.getNode().getImmediateChild(y),N=_1(t,T,b);f=jh(t,f,new jt(y),N,o,c,d,h)}}),p.children.inorderTraversal((y,b)=>{const T=!e.serverCache.isCompleteForChild(y)&&b.value===null;if(!E.hasChild(y)&&!T){const N=e.serverCache.getNode().getImmediateChild(y),R=_1(t,N,b);f=jh(t,f,new jt(y),R,o,c,d,h)}}),f}function hO(t,e,n,i,o,c,d){if(kh(o,n)!=null)return e;const h=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(pt(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return jh(t,e,n,f.getNode().getChild(n),o,c,h,d);if(pt(n)){let p=new Ut(null);return f.getNode().forEachChild(al,(E,y)=>{p=p.set(new jt(E),y)}),U0(t,e,n,p,o,c,h,d)}else return e}else{let p=new Ut(null);return i.foreach((E,y)=>{const b=nn(n,E);f.isCompleteForPath(b)&&(p=p.set(E,f.getNode().getChild(b)))}),U0(t,e,n,p,o,c,h,d)}}function fO(t,e,n,i,o){const c=e.serverCache,d=kA(e,c.getNode(),c.isFullyInitialized()||pt(n),c.isFiltered());return GA(t,d,n,i,BA,o)}function pO(t,e,n,i,o,c){let d;if(kh(i,n)!=null)return e;{const h=new Wg(i,e,o),f=e.eventCache.getNode();let p;if(pt(n)||ut(n)===".priority"){let E;if(e.serverCache.isFullyInitialized())E=Oh(i,Qa(e));else{const y=e.serverCache.getNode();Ne(y instanceof Ze,"serverChildren would be complete if leaf node"),E=Vg(i,y)}E=E,p=t.filter.updateFullNode(f,E,c)}else{const E=ut(n);let y=Kg(i,E,e.serverCache);y==null&&e.serverCache.isCompleteForChild(E)&&(y=f.getImmediateChild(E)),y!=null?p=t.filter.updateChild(f,E,y,Ht(n),h,c):e.eventCache.getNode().hasChild(E)?p=t.filter.updateChild(f,E,Ze.EMPTY_NODE,Ht(n),h,c):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=Oh(i,Qa(e)),d.isLeafNode()&&(p=t.filter.updateFullNode(p,d,c)))}return d=e.serverCache.isFullyInitialized()||kh(i,Nt())!=null,Yc(e,p,d,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new Hg(i.getIndex()),c=LL(i);this.processor_=oO(c);const d=n.serverCache,h=n.eventCache,f=o.updateFullNode(Ze.EMPTY_NODE,d.getNode(),null),p=c.updateFullNode(Ze.EMPTY_NODE,h.getNode(),null),E=new ra(f,d.isFullyInitialized(),o.filtersNodes()),y=new ra(p,h.isFullyInitialized(),c.filtersNodes());this.viewCache_=of(y,E),this.eventGenerator_=new HL(this.query_)}get query(){return this.query_}}function gO(t){return t.viewCache_.serverCache.getNode()}function EO(t){return Lh(t.viewCache_)}function xO(t,e){const n=Qa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pt(e)&&!n.getImmediateChild(ut(e)).isEmpty())?n.getChild(e):null}function w1(t){return t.eventRegistrations_.length===0}function yO(t,e){t.eventRegistrations_.push(e)}function R1(t,e,n){const i=[];if(n){Ne(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(n,o);d&&i.push(d)})}if(e){let o=[];for(let c=0;c<t.eventRegistrations_.length;++c){const d=t.eventRegistrations_[c];if(!d.matches(e))o.push(d);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(c+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function C1(t,e,n,i){e.type===di.MERGE&&e.source.queryId!==null&&(Ne(Qa(t.viewCache_),"We should always have a full cache before handling merges"),Ne(Lh(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,c=cO(t.processor_,o,e,n,i);return lO(t.processor_,c.viewCache),Ne(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,zA(t,c.changes,c.viewCache.eventCache.getNode(),null)}function bO(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(sn,(c,d)=>{i.push(ml(c,d))}),n.isFullyInitialized()&&i.push(LA(n.getNode())),zA(t,i,n.getNode(),e)}function zA(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return BL(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh;class VA{constructor(){this.views=new Map}}function vO(t){Ne(!Fh,"__referenceConstructor has already been defined"),Fh=t}function TO(){return Ne(Fh,"Reference.ts has not been loaded"),Fh}function SO(t){return t.views.size===0}function Yg(t,e,n,i){const o=e.source.queryId;if(o!==null){const c=t.views.get(o);return Ne(c!=null,"SyncTree gave us an op for an invalid query."),C1(c,e,n,i)}else{let c=[];for(const d of t.views.values())c=c.concat(C1(d,e,n,i));return c}}function KA(t,e,n,i,o){const c=e._queryIdentifier,d=t.views.get(c);if(!d){let h=Oh(n,o?i:null),f=!1;h?f=!0:i instanceof Ze?(h=Vg(n,i),f=!1):(h=Ze.EMPTY_NODE,f=!1);const p=of(new ra(h,f,!1),new ra(i,o,!1));return new mO(e,p)}return d}function AO(t,e,n,i,o,c){const d=KA(t,e,i,o,c);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,d),yO(d,n),bO(d,n)}function NO(t,e,n,i){const o=e._queryIdentifier,c=[];let d=[];const h=aa(t);if(o==="default")for(const[f,p]of t.views.entries())d=d.concat(R1(p,n,i)),w1(p)&&(t.views.delete(f),p.query._queryParams.loadsAllData()||c.push(p.query));else{const f=t.views.get(o);f&&(d=d.concat(R1(f,n,i)),w1(f)&&(t.views.delete(o),f.query._queryParams.loadsAllData()||c.push(f.query)))}return h&&!aa(t)&&c.push(new(TO())(e._repo,e._path)),{removed:c,events:d}}function WA(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function sa(t,e){let n=null;for(const i of t.views.values())n=n||xO(i,e);return n}function YA(t,e){if(e._queryParams.loadsAllData())return cf(t);{const i=e._queryIdentifier;return t.views.get(i)}}function qA(t,e){return YA(t,e)!=null}function aa(t){return cf(t)!=null}function cf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph;function _O(t){Ne(!Ph,"__referenceConstructor has already been defined"),Ph=t}function wO(){return Ne(Ph,"Reference.ts has not been loaded"),Ph}let RO=1;class I1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ut(null),this.pendingWriteTree_=sO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $A(t,e,n,i,o){return KL(t.pendingWriteTree_,e,n,i,o),o?Il(t,new Za(Bg(),e,n)):[]}function CO(t,e,n,i){WL(t.pendingWriteTree_,e,n,i);const o=Ut.fromObject(n);return Il(t,new gl(Bg(),e,o))}function Zr(t,e,n=!1){const i=YL(t.pendingWriteTree_,e);if(qL(t.pendingWriteTree_,e)){let c=new Ut(null);return i.snap!=null?c=c.set(Nt(),!0):Hn(i.children,d=>{c=c.set(new jt(d),!0)}),Il(t,new Dh(i.path,c,n))}else return[]}function Ru(t,e,n){return Il(t,new Za(Gg(),e,n))}function IO(t,e,n){const i=Ut.fromObject(n);return Il(t,new gl(Gg(),e,i))}function MO(t,e){return Il(t,new hu(Gg(),e))}function DO(t,e,n){const i=$g(t,n);if(i){const o=Xg(i),c=o.path,d=o.queryId,h=Qn(c,e),f=new hu(zg(d),h);return Zg(t,c,f)}else return[]}function Uh(t,e,n,i,o=!1){const c=e._path,d=t.syncPointTree_.get(c);let h=[];if(d&&(e._queryIdentifier==="default"||qA(d,e))){const f=NO(d,e,n,i);SO(d)&&(t.syncPointTree_=t.syncPointTree_.remove(c));const p=f.removed;if(h=f.events,!o){const E=p.findIndex(b=>b._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(c,(b,T)=>aa(T));if(E&&!y){const b=t.syncPointTree_.subtree(c);if(!b.isEmpty()){const T=kO(b);for(let N=0;N<T.length;++N){const R=T[N],I=R.query,O=JA(t,R);t.listenProvider_.startListening($c(I),fu(t,I),O.hashFn,O.onComplete)}}}!y&&p.length>0&&!i&&(E?t.listenProvider_.stopListening($c(e),null):p.forEach(b=>{const T=t.queryToTagMap.get(uf(b));t.listenProvider_.stopListening($c(b),T)}))}jO(t,p)}return h}function XA(t,e,n,i){const o=$g(t,i);if(o!=null){const c=Xg(o),d=c.path,h=c.queryId,f=Qn(d,e),p=new Za(zg(h),f,n);return Zg(t,d,p)}else return[]}function LO(t,e,n,i){const o=$g(t,i);if(o){const c=Xg(o),d=c.path,h=c.queryId,f=Qn(d,e),p=Ut.fromObject(n),E=new gl(zg(h),f,p);return Zg(t,d,E)}else return[]}function H0(t,e,n,i=!1){const o=e._path;let c=null,d=!1;t.syncPointTree_.foreachOnPath(o,(b,T)=>{const N=Qn(b,o);c=c||sa(T,N),d=d||aa(T)});let h=t.syncPointTree_.get(o);h?(d=d||aa(h),c=c||sa(h,Nt())):(h=new VA,t.syncPointTree_=t.syncPointTree_.set(o,h));let f;c!=null?f=!0:(f=!1,c=Ze.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((T,N)=>{const R=sa(N,Nt());R&&(c=c.updateImmediateChild(T,R))}));const p=qA(h,e);if(!p&&!e._queryParams.loadsAllData()){const b=uf(e);Ne(!t.queryToTagMap.has(b),"View does not exist, but we have a tag");const T=FO();t.queryToTagMap.set(b,T),t.tagToQueryMap.set(T,b)}const E=lf(t.pendingWriteTree_,o);let y=AO(h,e,n,E,c,f);if(!p&&!d&&!i){const b=YA(h,e);y=y.concat(PO(t,e,b))}return y}function qg(t,e,n){const o=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(e,(d,h)=>{const f=Qn(d,e),p=sa(h,f);if(p)return p});return PA(o,e,c,n,!0)}function OO(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(p,E)=>{const y=Qn(p,n);i=i||sa(E,y)});let o=t.syncPointTree_.get(n);o?i=i||sa(o,Nt()):(o=new VA,t.syncPointTree_=t.syncPointTree_.set(n,o));const c=i!=null,d=c?new ra(i,!0,!1):null,h=lf(t.pendingWriteTree_,e._path),f=KA(o,e,h,c?d.getNode():Ze.EMPTY_NODE,c);return EO(f)}function Il(t,e){return ZA(e,t.syncPointTree_,null,lf(t.pendingWriteTree_,Nt()))}function ZA(t,e,n,i){if(pt(t.path))return QA(t,e,n,i);{const o=e.get(Nt());n==null&&o!=null&&(n=sa(o,Nt()));let c=[];const d=ut(t.path),h=t.operationForChild(d),f=e.children.get(d);if(f&&h){const p=n?n.getImmediateChild(d):null,E=UA(i,d);c=c.concat(ZA(h,f,p,E))}return o&&(c=c.concat(Yg(o,t,i,n))),c}}function QA(t,e,n,i){const o=e.get(Nt());n==null&&o!=null&&(n=sa(o,Nt()));let c=[];return e.children.inorderTraversal((d,h)=>{const f=n?n.getImmediateChild(d):null,p=UA(i,d),E=t.operationForChild(d);E&&(c=c.concat(QA(E,h,f,p)))}),o&&(c=c.concat(Yg(o,t,i,n))),c}function JA(t,e){const n=e.query,i=fu(t,n);return{hashFn:()=>(gO(e)||Ze.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?DO(t,n._path,i):MO(t,n._path);{const c=MD(o,n);return Uh(t,n,null,c)}}}}function fu(t,e){const n=uf(e);return t.queryToTagMap.get(n)}function uf(t){return t._path.toString()+"$"+t._queryIdentifier}function $g(t,e){return t.tagToQueryMap.get(e)}function Xg(t){const e=t.indexOf("$");return Ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new jt(t.substr(0,e))}}function Zg(t,e,n){const i=t.syncPointTree_.get(e);Ne(i,"Missing sync point for query tag that we're tracking");const o=lf(t.pendingWriteTree_,e);return Yg(i,n,o,null)}function kO(t){return t.fold((e,n,i)=>{if(n&&aa(n))return[cf(n)];{let o=[];return n&&(o=WA(n)),Hn(i,(c,d)=>{o=o.concat(d)}),o}})}function $c(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(wO())(t._repo,t._path):t}function jO(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=uf(i),c=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(c)}}}function FO(){return RO++}function PO(t,e,n){const i=e._path,o=fu(t,e),c=JA(t,n),d=t.listenProvider_.startListening($c(e),o,c.hashFn,c.onComplete),h=t.syncPointTree_.subtree(i);if(o)Ne(!aa(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((p,E,y)=>{if(!pt(p)&&E&&aa(E))return[cf(E).query];{let b=[];return E&&(b=b.concat(WA(E).map(T=>T.query))),Hn(y,(T,N)=>{b=b.concat(N)}),b}});for(let p=0;p<f.length;++p){const E=f[p];t.listenProvider_.stopListening($c(E),fu(t,E))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Qg(n)}node(){return this.node_}}class Jg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nn(this.path_,e);return new Jg(this.syncTree_,n)}node(){return qg(this.syncTree_,this.path_)}}const UO=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},M1=function(t,e,n){if(!t||typeof t!="object")return t;if(Ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return HO(t[".sv"],e,n);if(typeof t[".sv"]=="object")return BO(t[".sv"],e);Ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},HO=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ne(!1,"Unexpected server value: "+t)}},BO=function(t,e,n){t.hasOwnProperty("increment")||Ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&Ne(!1,"Unexpected increment value: "+i);const o=e.node();if(Ne(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const d=o.getValue();return typeof d!="number"?i:d+i},eN=function(t,e,n,i){return eE(e,new Jg(n,t),i)},tN=function(t,e,n){return eE(t,new Qg(e),n)};function eE(t,e,n){const i=t.getPriority().val(),o=M1(i,e.getImmediateChild(".priority"),n);let c;if(t.isLeafNode()){const d=t,h=M1(d.getValue(),e,n);return h!==d.getValue()||o!==d.getPriority().val()?new Rn(h,Tn(o)):t}else{const d=t;return c=d,o!==d.getPriority().val()&&(c=c.updatePriority(new Rn(o))),d.forEachChild(sn,(h,f)=>{const p=eE(f,e.getImmediateChild(h),n);p!==f&&(c=c.updateImmediateChild(h,p))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function nE(t,e){let n=e instanceof jt?e:new jt(e),i=t,o=ut(n);for(;o!==null;){const c=hl(i.node.children,o)||{children:{},childCount:0};i=new tE(o,i,c),n=Ht(n),o=ut(n)}return i}function Ml(t){return t.node.value}function nN(t,e){t.node.value=e,B0(t)}function sN(t){return t.node.childCount>0}function GO(t){return Ml(t)===void 0&&!sN(t)}function df(t,e){Hn(t.node.children,(n,i)=>{e(new tE(n,t,i))})}function iN(t,e,n,i){n&&e(t),df(t,o=>{iN(o,e,!0)})}function zO(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Cu(t){return new jt(t.parent===null?t.name:Cu(t.parent)+"/"+t.name)}function B0(t){t.parent!==null&&VO(t.parent,t.name,t)}function VO(t,e,n){const i=GO(n),o=Di(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,B0(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,B0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=/[\[\].#$\/\u0000-\u001F\u007F]/,WO=/[\[\].#$\u0000-\u001F\u007F]/,zm=10*1024*1024,sE=function(t){return typeof t=="string"&&t.length!==0&&!KO.test(t)},rN=function(t){return typeof t=="string"&&t.length!==0&&!WO.test(t)},YO=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rN(t)},qO=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Mg(t)||t&&typeof t=="object"&&Di(t,".sv")},$O=function(t,e,n,i){hf(nf(t,"value"),e,n)},hf=function(t,e,n){const i=n instanceof jt?new dL(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Pa(i));if(typeof e=="function")throw new Error(t+"contains a function "+Pa(i)+" with contents = "+e.toString());if(Mg(e))throw new Error(t+"contains "+e.toString()+" "+Pa(i));if(typeof e=="string"&&e.length>zm/3&&sf(e)>zm)throw new Error(t+"contains a string greater than "+zm+" utf8 bytes "+Pa(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(Hn(e,(d,h)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!sE(d)))throw new Error(t+" contains an invalid key ("+d+") "+Pa(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hL(i,d),hf(t,h,i),fL(i)}),o&&c)throw new Error(t+' contains ".value" child '+Pa(i)+" in addition to actual children.")}},XO=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const c=lu(i);for(let d=0;d<c.length;d++)if(!(c[d]===".priority"&&d===c.length-1)){if(!sE(c[d]))throw new Error(t+"contains an invalid key ("+c[d]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(uL);let o=null;for(n=0;n<e.length;n++){if(i=e[n],o!==null&&Ws(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},ZO=function(t,e,n,i){const o=nf(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const c=[];Hn(e,(d,h)=>{const f=new jt(d);if(hf(o,h,nn(n,f)),jg(f)===".priority"&&!qO(h))throw new Error(o+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(f)}),XO(o,c)},iE=function(t,e,n,i){if(!rN(n))throw new Error(nf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},QO=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),iE(t,e,n)},rE=function(t,e){if(ut(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},JO=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!sE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!YO(n))throw new Error(nf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ff(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],c=o.getPath();n!==null&&!Fg(c,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:c}),n.events.push(o)}n&&t.eventLists_.push(n)}function aN(t,e,n){ff(t,n),oN(t,i=>Fg(i,e))}function $s(t,e,n){ff(t,n),oN(t,i=>Ws(i,e)||Ws(e,i))}function oN(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const c=o.path;e(c)?(tk(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function tk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Kc&&Un("event: "+n.toString()),Cl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="repo_interrupt",sk=25;class ik{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ek,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mh(),this.transactionQueueTree_=new tE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rk(t,e,n){if(t.stats_=Og(t.repoInfo_),t.forceRestClient_||kD())t.server_=new Ih(t.repoInfo_,(i,o,c,d)=>{D1(t,i,o,c,d)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>L1(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Sn(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new sr(t.repoInfo_,e,(i,o,c,d)=>{D1(t,i,o,c,d)},i=>{L1(t,i)},i=>{ok(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=HD(t.repoInfo_,()=>new UL(t.stats_,t.server_)),t.infoData_=new OL,t.infoSyncTree_=new I1({startListening:(i,o,c,d)=>{let h=[];const f=t.infoData_.getNode(i._path);return f.isEmpty()||(h=Ru(t.infoSyncTree_,i._path,f),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),aE(t,"connected",!1),t.serverSyncTree_=new I1({startListening:(i,o,c,d)=>(t.server_.listen(i,c,o,(h,f)=>{const p=d(h,f);$s(t.eventQueue_,i._path,p)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function ak(t){const n=t.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function pf(t){return UO({timestamp:ak(t)})}function D1(t,e,n,i,o){t.dataUpdateCount++;const c=new jt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let d=[];if(o)if(i){const f=Nh(n,p=>Tn(p));d=LO(t.serverSyncTree_,c,f,o)}else{const f=Tn(n);d=XA(t.serverSyncTree_,c,f,o)}else if(i){const f=Nh(n,p=>Tn(p));d=IO(t.serverSyncTree_,c,f)}else{const f=Tn(n);d=Ru(t.serverSyncTree_,c,f)}let h=c;d.length>0&&(h=xl(t,c)),$s(t.eventQueue_,h,d)}function L1(t,e){aE(t,"connected",e),e===!1&&dk(t)}function ok(t,e){Hn(e,(n,i)=>{aE(t,n,i)})}function aE(t,e,n){const i=new jt("/.info/"+e),o=Tn(n);t.infoData_.updateSnapshot(i,o);const c=Ru(t.infoSyncTree_,i,o);$s(t.eventQueue_,i,c)}function oE(t){return t.nextWriteId_++}function lk(t,e,n){const i=OO(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(o=>{const c=Tn(o).withIndex(e._queryParams.getIndex());H0(t.serverSyncTree_,e,n,!0);let d;if(e._queryParams.loadsAllData())d=Ru(t.serverSyncTree_,e._path,c);else{const h=fu(t.serverSyncTree_,e);d=XA(t.serverSyncTree_,e._path,c,h)}return $s(t.eventQueue_,e._path,d),Uh(t.serverSyncTree_,e,n,null,!0),c},o=>(Iu(t,"get for query "+Sn(e)+" failed: "+o),Promise.reject(new Error(o))))}function ck(t,e,n,i,o){Iu(t,"set",{path:e.toString(),value:n,priority:i});const c=pf(t),d=Tn(n,i),h=qg(t.serverSyncTree_,e),f=tN(d,h,c),p=oE(t),E=$A(t.serverSyncTree_,e,f,p,!0);ff(t.eventQueue_,E),t.server_.put(e.toString(),d.val(!0),(b,T)=>{const N=b==="ok";N||es("set at "+e+" failed: "+b);const R=Zr(t.serverSyncTree_,p,!N);$s(t.eventQueue_,e,R),z0(t,o,b,T)});const y=cE(t,e);xl(t,y),$s(t.eventQueue_,y,[])}function uk(t,e,n,i){Iu(t,"update",{path:e.toString(),value:n});let o=!0;const c=pf(t),d={};if(Hn(n,(h,f)=>{o=!1,d[h]=eN(nn(e,h),Tn(f),t.serverSyncTree_,c)}),o)Un("update() called with empty data.  Don't do anything."),z0(t,i,"ok",void 0);else{const h=oE(t),f=CO(t.serverSyncTree_,e,d,h);ff(t.eventQueue_,f),t.server_.merge(e.toString(),n,(p,E)=>{const y=p==="ok";y||es("update at "+e+" failed: "+p);const b=Zr(t.serverSyncTree_,h,!y),T=b.length>0?xl(t,e):e;$s(t.eventQueue_,T,b),z0(t,i,p,E)}),Hn(n,p=>{const E=cE(t,nn(e,p));xl(t,E)}),$s(t.eventQueue_,e,[])}}function dk(t){Iu(t,"onDisconnectEvents");const e=pf(t),n=Mh();O0(t.onDisconnect_,Nt(),(o,c)=>{const d=eN(o,c,t.serverSyncTree_,e);OA(n,o,d)});let i=[];O0(n,Nt(),(o,c)=>{i=i.concat(Ru(t.serverSyncTree_,o,c));const d=cE(t,o);xl(t,d)}),t.onDisconnect_=Mh(),$s(t.eventQueue_,Nt(),i)}function hk(t,e,n){let i;ut(e._path)===".info"?i=H0(t.infoSyncTree_,e,n):i=H0(t.serverSyncTree_,e,n),aN(t.eventQueue_,e._path,i)}function G0(t,e,n){let i;ut(e._path)===".info"?i=Uh(t.infoSyncTree_,e,n):i=Uh(t.serverSyncTree_,e,n),aN(t.eventQueue_,e._path,i)}function fk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(nk)}function Iu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Un(n,...e)}function z0(t,e,n,i){e&&Cl(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let c=o;i&&(c+=": "+i);const d=new Error(c);d.code=o,e(d)}})}function lN(t,e,n){return qg(t.serverSyncTree_,e,n)||Ze.EMPTY_NODE}function lE(t,e=t.transactionQueueTree_){if(e||mf(t,e),Ml(e)){const n=uN(t,e);Ne(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&pk(t,Cu(e),n)}else sN(e)&&df(e,n=>{lE(t,n)})}function pk(t,e,n){const i=n.map(p=>p.currentWriteId),o=lN(t,e,i);let c=o;const d=o.hash();for(let p=0;p<n.length;p++){const E=n[p];Ne(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const y=Qn(e,E.path);c=c.updateChild(y,E.currentOutputSnapshotRaw)}const h=c.val(!0),f=e;t.server_.put(f.toString(),h,p=>{Iu(t,"transaction put response",{path:f.toString(),status:p});let E=[];if(p==="ok"){const y=[];for(let b=0;b<n.length;b++)n[b].status=2,E=E.concat(Zr(t.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&y.push(()=>n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)),n[b].unwatcher();mf(t,nE(t.transactionQueueTree_,e)),lE(t,t.transactionQueueTree_),$s(t.eventQueue_,e,E);for(let b=0;b<y.length;b++)Cl(y[b])}else{if(p==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{es("transaction at "+f.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}xl(t,e)}},d)}function xl(t,e){const n=cN(t,e),i=Cu(n),o=uN(t,n);return mk(t,o,i),i}function mk(t,e,n){if(e.length===0)return;const i=[];let o=[];const d=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const f=e[h],p=Qn(n,f.path);let E=!1,y;if(Ne(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)E=!0,y=f.abortReason,o=o.concat(Zr(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=sk)E=!0,y="maxretry",o=o.concat(Zr(t.serverSyncTree_,f.currentWriteId,!0));else{const b=lN(t,f.path,d);f.currentInputSnapshot=b;const T=e[h].update(b.val());if(T!==void 0){hf("transaction failed: Data returned ",T,f.path);let N=Tn(T);typeof T=="object"&&T!=null&&Di(T,".priority")||(N=N.updatePriority(b.getPriority()));const I=f.currentWriteId,O=pf(t),$=tN(N,b,O);f.currentOutputSnapshotRaw=N,f.currentOutputSnapshotResolved=$,f.currentWriteId=oE(t),d.splice(d.indexOf(I),1),o=o.concat($A(t.serverSyncTree_,f.path,$,f.currentWriteId,f.applyLocally)),o=o.concat(Zr(t.serverSyncTree_,I,!0))}else E=!0,y="nodata",o=o.concat(Zr(t.serverSyncTree_,f.currentWriteId,!0))}$s(t.eventQueue_,n,o),o=[],E&&(e[h].status=2,(function(b){setTimeout(b,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?i.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):i.push(()=>e[h].onComplete(new Error(y),!1,null))))}mf(t,t.transactionQueueTree_);for(let h=0;h<i.length;h++)Cl(i[h]);lE(t,t.transactionQueueTree_)}function cN(t,e){let n,i=t.transactionQueueTree_;for(n=ut(e);n!==null&&Ml(i)===void 0;)i=nE(i,n),e=Ht(e),n=ut(e);return i}function uN(t,e){const n=[];return dN(t,e,n),n.sort((i,o)=>i.order-o.order),n}function dN(t,e,n){const i=Ml(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);df(e,o=>{dN(t,o,n)})}function mf(t,e){const n=Ml(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,nN(e,n.length>0?n:void 0)}df(e,i=>{mf(t,i)})}function cE(t,e){const n=Cu(cN(t,e)),i=nE(t.transactionQueueTree_,e);return zO(i,o=>{Vm(t,o)}),Vm(t,i),iN(i,o=>{Vm(t,o)}),n}function Vm(t,e){const n=Ml(e);if(n){const i=[];let o=[],c=-1;for(let d=0;d<n.length;d++)n[d].status===3||(n[d].status===1?(Ne(c===d-1,"All SENT items should be at beginning of queue."),c=d,n[d].status=3,n[d].abortReason="set"):(Ne(n[d].status===0,"Unexpected transaction status in abort"),n[d].unwatcher(),o=o.concat(Zr(t.serverSyncTree_,n[d].currentWriteId,!0)),n[d].onComplete&&i.push(n[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?nN(e,void 0):n.length=c+1,$s(t.eventQueue_,Cu(e),o);for(let d=0;d<i.length;d++)Cl(i[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function Ek(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):es(`Invalid query segment '${n}' in query '${t}'`)}return e}const O1=function(t,e){const n=xk(t),i=n.namespace;n.domain==="firebase.com"&&or(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&or("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_D();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new EA(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new jt(n.pathString)}},xk=function(t){let e="",n="",i="",o="",c="",d=!0,h="https",f=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let E=t.indexOf("/");E===-1&&(E=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(E,y)),E<y&&(o=gk(t.substring(E,y)));const b=Ek(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(d=h==="https"||h==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const T=e.slice(0,p);if(T.toLowerCase()==="localhost")n="localhost";else if(T.split(".").length<=2)n=T;else{const N=e.indexOf(".");i=e.substring(0,N).toLowerCase(),n=e.substring(N+1),c=i}"ns"in b&&(c=b.ns)}return{host:e,port:f,domain:n,subdomain:i,secure:d,scheme:h,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Sn(this.snapshot.exportVal())}}class bk{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return pt(this._path)?null:jg(this._path)}get ref(){return new Li(this._repo,this._path)}get _queryIdentifier(){const e=b1(this._queryParams),n=Dg(e);return n==="{}"?"default":n}get _queryObject(){return b1(this._queryParams)}isEqual(e){if(e=Xs(e),!(e instanceof gf))return!1;const n=this._repo===e._repo,i=Fg(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+cL(this._path)}}class Li extends gf{constructor(e,n){super(e,n,new af,!1)}get parent(){const e=_A(this._path);return e===null?null:new Li(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class yl{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new jt(e),i=Hh(this.ref,e);return new yl(this._node.getChild(n),i,sn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new yl(o,Hh(this.ref,i),sn)))}hasChild(e){const n=new jt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function At(t,e){return t=Xs(t),t._checkNotDeleted("ref"),e!==void 0?Hh(t._root,e):t._root}function Hh(t,e){return t=Xs(t),ut(t._path)===null?QO("child","path",e):iE("child","path",e),new Li(t._repo,nn(t._path,e))}function vk(t){return rE("remove",t._path),Dn(t,null)}function Dn(t,e){t=Xs(t),rE("set",t._path),$O("set",e,t._path);const n=new Su;return ck(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Mu(t,e){ZO("update",e,t._path);const n=new Su;return uk(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Dl(t){t=Xs(t);const e=new hN(()=>{}),n=new Ef(e);return lk(t._repo,t,n).then(i=>new yl(i,new Li(t._repo,t._path),t._queryParams.getIndex()))}class Ef{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new yk("value",this,new yl(e.snapshotNode,new Li(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new bk(this,e,n):null}matches(e){return e instanceof Ef?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Tk(t,e,n,i,o){let c;if(typeof i=="object"&&(c=void 0,o=i),typeof i=="function"&&(c=i),o&&o.onlyOnce){const f=n,p=(E,y)=>{G0(t._repo,t,h),f(E,y)};p.userCallback=n.userCallback,p.context=n.context,n=p}const d=new hN(n,c||void 0),h=new Ef(d);return hk(t._repo,t,h),()=>G0(t._repo,t,h)}function oa(t,e,n,i){return Tk(t,"value",e,n,i)}function Ja(t,e,n){G0(t._repo,t,null)}vO(Li);_O(Li);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="FIREBASE_DATABASE_EMULATOR_HOST",V0={};let Ak=!1;function Nk(t,e,n,i){const o=e.lastIndexOf(":"),c=e.substring(0,o),d=_l(c);t.repoInfo_=new EA(e,d,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function fN(t,e,n,i,o){let c=i||t.options.databaseURL;c===void 0&&(t.options.projectId||or("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Un("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let d=O1(c,o),h=d.repoInfo,f;typeof process<"u"&&n1&&(f=n1[Sk]),f?(c=`http://${f}?ns=${h.namespace}`,d=O1(c,o),h=d.repoInfo):d.repoInfo.secure;const p=new FD(t.name,t.options,e);JO("Invalid Firebase Database URL",d),pt(d.path)||or("Database URL must point to the root of a Firebase Database (not including a child path).");const E=wk(h,t,p,new jD(t,n));return new pN(E,t)}function _k(t,e){const n=V0[e];(!n||n[t.key]!==t)&&or(`Database ${e}(${t.repoInfo_}) has already been deleted.`),fk(t),delete n[t.key]}function wk(t,e,n,i){let o=V0[e.name];o||(o={},V0[e.name]=o);let c=o[t.toURLString()];return c&&or("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new ik(t,Ak,n,i),o[t.toURLString()]=c,c}class pN{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Li(this._repo,Nt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_k(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&or("Cannot call "+e+" on a deleted database.")}}function uE(t=JS(),e){const n=Ig(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Y2("database");i&&mN(n,...i)}return n}function mN(t,e,n,i={}){t=Xs(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,c=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&qa(i,c.repoInfo_.emulatorOptions))return;or("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(c.repoInfo_.nodeAdmin)i.mockUserToken&&or('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new uh(uh.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:q2(i.mockUserToken,t.app.options.projectId);d=new uh(h)}_l(e)&&(WS(e),YS("Database",!0)),Nk(c,o,i,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){sA(Rl),fl(new $a("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return fN(i,o,c,n)},"PUBLIC").setMultipleInstances(!0)),ta(s1,i1,t),ta(s1,i1,"esm2020")}sr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};sr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Rk();const Pc=Object.freeze(Object.defineProperty({__proto__:null,DataSnapshot:yl,Database:pN,_QueryImpl:gf,_QueryParams:af,_ReferenceImpl:Li,_repoManagerDatabaseFromApp:fN,_setSDKVersion:sA,_validatePathString:iE,_validateWritablePath:rE,child:Hh,connectDatabaseEmulator:mN,get:Dl,getDatabase:uE,off:Ja,onValue:oa,ref:At,remove:vk,set:Dn,update:Mu},Symbol.toStringTag,{value:"Module"})),Qd=["#06FFA5","#FF006E","#FFBE0B","#8338EC","#0096FF","#FF7F00"],k1=[Tu,Cn,a2,jI,Xn,rr],j1=({isOpen:t,onClose:e,entries:n,t:i,downloadUrl:o,currentVersion:c,latestVersion:d,onDownload:h})=>{const f=n[0],p=window.Capacitor!==void 0,E=c&&d&&c!==d;return l.jsx(Pt,{isOpen:t,onClose:e,title:i.UPDATES.WHATS_NEW,children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 mx-auto flex items-center justify-center mb-3",style:{background:"#8338EC",border:"3px solid #000",boxShadow:"4px 4px 0px #000",transform:"rotate(-3deg)"},children:l.jsx(Cn,{size:32,style:{color:"#FFF"}})}),l.jsxs("h2",{className:"text-xl font-black uppercase mb-1",style:{color:"#000",transform:"skewX(-2deg)"},children:["LexiMix ",f==null?void 0:f.version]}),l.jsx("p",{className:"font-black text-xs tracking-widest uppercase",style:{color:"#8338EC"},children:i.UPDATES.NOTES})]}),l.jsx("div",{className:"space-y-4 max-h-[40vh] overflow-y-auto pr-1",children:n.map((y,b)=>{const T=Qd[b%Qd.length],N=b===0;return l.jsxs("div",{className:"p-4 relative overflow-hidden",style:{background:"var(--color-surface)",border:"3px solid #000",boxShadow:N?"6px 6px 0px #000":"4px 4px 0px #999",transform:N?"scale(1.02)":"scale(1)"},children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 border-b-2 border-black",style:{background:T}}),N&&l.jsx("div",{className:"absolute top-3 right-3 opacity-20",children:l.jsx(Cn,{size:24,style:{color:"#000"}})}),l.jsxs("div",{className:"flex justify-between items-center mb-3 mt-2",children:[l.jsxs("span",{className:"font-black text-sm px-2 py-0.5 border-2 border-black",style:{background:T,color:"#000",transform:"skewX(-5deg)"},children:["v",y.version]}),l.jsx("span",{className:"text-xs font-black uppercase",style:{color:"#666"},children:y.date})]}),l.jsx("ul",{className:"space-y-2",children:y.changes.map((R,I)=>{const O=k1[I%k1.length],$=Qd[(b+I)%Qd.length];return l.jsxs("li",{className:"flex items-start gap-3 text-sm",children:[l.jsx("div",{className:"mt-0.5 w-6 h-6 flex-shrink-0 flex items-center justify-center border-2 border-black",style:{background:$,color:"#000"},children:l.jsx(O,{size:14,strokeWidth:3})}),l.jsx("span",{className:"font-bold leading-tight",style:{color:"#000"},children:R})]},I)})})]},y.version)})}),E&&p&&o&&h&&l.jsxs("button",{onClick:h,className:"w-full py-3 font-black uppercase text-sm flex items-center justify-center gap-2 transition-all active:translate-y-1",style:{background:"#06FFA5",color:"#000",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx(ch,{size:18}),i.UPDATES.DOWNLOAD]}),l.jsxs("button",{onClick:e,className:"w-full py-3 font-black uppercase text-sm flex items-center justify-center gap-2 transition-all active:translate-y-1",style:{background:"#8338EC",color:"#FFF",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx(rr,{size:18}),i.UPDATES.COOL]})]})})},Ck=({message:t})=>l.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/95 backdrop-blur-xl animate-in fade-in duration-300",children:l.jsxs("div",{className:"glass-panel p-8 rounded-3xl max-w-md mx-4 text-center space-y-6 border-yellow-500/30 shadow-[0_0_50px_rgba(234,179,8,0.2)]",children:[l.jsx("div",{className:"w-24 h-24 mx-auto bg-yellow-500/20 rounded-full flex items-center justify-center border-2 border-yellow-500 animate-pulse-slow",children:l.jsx(k2,{size:48,className:"text-yellow-500"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-wider",children:"Wartungsarbeiten"}),l.jsx("p",{className:"text-gray-300 leading-relaxed",children:t||"Wir fhren gerade wichtige Updates durch, um dein Spielerlebnis zu verbessern. LexiMix ist bald wieder da!"})]}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-yellow-500/80 bg-yellow-500/10 p-3 rounded-xl",children:[l.jsx(Qr,{size:16}),l.jsx("span",{children:"Bitte versuche es spter noch einmal."})]})]})}),Uc="3.5.2",Ik=[{level:10,name:"Space Explorer",id:"space_explorer",dicebear:"/assets/season/avatar_space_explorer.png",desc:"Cosmic wanderer"},{level:20,name:"Cyberpunk Warrior",id:"cyberpunk_warrior",dicebear:"/assets/season/avatar_cyberpunk_warrior.png",desc:"Neon fighter"},{level:30,name:"Fantasy Wizard",id:"fantasy_wizard",dicebear:"/assets/season/avatar_fantasy_wizard.png",desc:"Arcane master"},{level:40,name:"Ocean Guardian",id:"ocean_guardian",dicebear:"/assets/season/avatar_space_explorer.png",desc:"Deep sea protector"},{level:50,name:"Mountain Sage",id:"mountain_sage",dicebear:"/assets/season/avatar_fantasy_wizard.png",desc:"Ancient wisdom"},{level:60,name:"Forest Spirit",id:"forest_spirit",dicebear:"/assets/season/avatar_fantasy_wizard.png",desc:"Nature voice"},{level:70,name:"Desert Nomad",id:"desert_nomad",dicebear:"/assets/season/avatar_cyberpunk_warrior.png",desc:"Sand walker"},{level:80,name:"Arctic Hunter",id:"arctic_hunter",dicebear:"/assets/season/avatar_cyberpunk_warrior.png",desc:"Ice stalker"},{level:90,name:"Lava Titan",id:"lava_titan",dicebear:"/assets/season/avatar_mecha_kong.png",desc:"Molten fury"},{level:100,name:"Storm Caller",id:"storm_caller",dicebear:"/assets/season/avatar_space_explorer.png",desc:"Lightning master"}],Mk=[{level:10,name:"Nano Scout",id:"nano_banana_pro_1",dicebear:"/assets/season/avatar_nano_scout.png",desc:"Recon Unit"},{level:20,name:"Cyber Banana",id:"nano_banana_pro_2",dicebear:"/assets/season/avatar_nano_scout.png",desc:"Enhanced organic"},{level:30,name:"Neon Ape",id:"nano_banana_pro_3",dicebear:"/assets/season/avatar_nano_scout.png",desc:"City dweller"},{level:40,name:"Glitch Monkey",id:"nano_banana_pro_4",dicebear:"/assets/season/avatar_nano_scout.png",desc:"System error"},{level:50,name:"Mecha Kong",id:"nano_banana_pro_5",dicebear:"/assets/season/avatar_mecha_kong.png",desc:"Heavy hitter"},{level:60,name:"Circuit Simian",id:"nano_banana_pro_6",dicebear:"/assets/season/avatar_mecha_kong.png",desc:"Network flow"},{level:70,name:"Data Chimp",id:"nano_banana_pro_7",dicebear:"/assets/season/avatar_mecha_kong.png",desc:"Info broker"},{level:80,name:"Void Primate",id:"nano_banana_pro_8",dicebear:"/assets/season/avatar_mecha_kong.png",desc:"Dark sector"},{level:90,name:"Quantum Gorilla",id:"nano_banana_pro_9",dicebear:"/assets/season/avatar_mecha_kong.png",desc:"Reality bender"},{level:100,name:"Nano Banana God",id:"nano_banana_pro_10",dicebear:"/assets/season/avatar_mecha_kong.png",desc:"Ascended"}],Km=[{id:1,name:"Genesis",theme:"space",startDate:Date.parse("2025-11-24T00:00:00Z"),endDate:Date.parse("2025-12-31T00:00:00Z"),colors:{primary:"#d946ef",secondary:"#a855f7",accent:"#3b82f6",bgDark:"#0f172a",bgCard:"#1e293b"},avatars:Ik},{id:2,name:"Neon Uprising",theme:"cyberpunk",startDate:Date.parse("2026-01-01T00:00:00Z"),endDate:Date.parse("2026-03-31T23:59:59Z"),colors:{primary:"#00ff9f",secondary:"#ff00ff",accent:"#00d4ff",bgDark:"#0a0e1a",bgCard:"#1a1f3a"},avatars:Mk}],Xc=()=>{const t=Date.now();return Km.find(n=>t>=n.startDate&&t<=n.endDate)||Km[Km.length-1]};x.BEGINNER+"",x.LEARNER+"",x.SKILLED+"",x.EXPERT+"",x.MASTER+"";x.BEGINNER+"",x.LEARNER+"",x.SKILLED+"",x.EXPERT+"",x.MASTER+"";const ir={[pe.EN]:{ONBOARDING:{WELCOME:"WELCOME",SELECT_LANG:"SELECT LANGUAGE",NAME_TITLE:"IDENTIFY YOURSELF",NAME_PLACEHOLDER:"Enter Name",AGE_TITLE:"VERIFY AGE",AGE_PLACEHOLDER:"Enter Age",CONTINUE:"CONTINUE",START:"INITIALIZE SYSTEM",ERR_NAME:"Max 20 characters",ERR_AGE:"Invalid age (1-120)"},AUTH:{login:"LOGIN",register:"REGISTER",username:"USERNAME",password:"PASSWORD",confirmPassword:"CONFIRM PASSWORD",captcha:"CAPTCHA",result:"Result",loading:"LOADING...",resetEmailSent:"EMAIL SENT",checkEmail:"Check your inbox.",backToLogin:"BACK TO LOGIN",resetPassword:"RESET PASSWORD",forgotPassword:"Forgot Password?",sendResetEmail:"SEND RESET EMAIL",age:"AGE",minAge:"Minimum age: 12 years"},HOME:{PLAYER:"Puzzle Pal",SEASON_LEVEL:"Season Level",TAGLINE:"Smart Fun",LANG_BTN:"DEUTSCH",PLAY:"PLAY",COINS:"Coins",PREMIUM_REQUIRED_TITLE:"Premium Required",PREMIUM_REQUIRED_LOCKED:"Challenge Mode Locked",PREMIUM_REQUIRED_DESC:"This mode is exclusive to premium members. Get the Season Pass to unlock daily challenges and exclusive rewards!",PREMIUM_REQUIRED_GO:"Go to Season Pass",PREMIUM_REQUIRED_LATER:"Maybe later",VOUCHER_TITLE:" Redeem Voucher",VOUCHER_HEADING:"Enter Voucher Code",VOUCHER_DESC:"Enter your voucher code to receive coins",VOUCHER_PLACEHOLDER:"VOUCHER123",VOUCHER_CANCEL:"Cancel",VOUCHER_REDEEM:"Redeem",VOUCHER_REDEEMED:" Redeemed"},MODES:{CLASSIC:{title:"CLASSIC",desc:"The Standard"},SPEEDRUN:{title:"SPEEDRUN",desc:"Race against time"},CHAIN:{title:"CHAIN",desc:"Link words"},CATEGORY:{title:"TOPICS",desc:"Context based"},SUDOKU:{title:"LETTER SUDOKU",desc:"Logic (A-I)"},CHALLENGE:{title:"CHALLENGE",desc:"Premium Challenges"},RIDDLE:{title:"RIDDLES",desc:"Word Puzzles"},LETTER_MAU_MAU:{title:"KARTENSCHMIEDE",desc:"Premium Card Forge"},SKAT_MAU_MAU:{title:"MAU MAU",desc:"Classic Card Game"},CHESS:{title:"CHESS",desc:"Classic Strategy Game"},CHECKERS:{title:"CHECKERS",desc:"Classic Board Game"},NINE_MENS_MORRIS:{title:"NINE MEN'S MORRIS",desc:"Strategy Mill Game"},RUMMY:{title:"RUMMY",desc:"Classic Card Game"},LOCKED:{title:"LOCKED",desc:"Coming Soon"}},MAU_MAU:{TITLE:"KARTENSCHMIEDE",YOUR_TURN:"Your Turn",OPPONENT_TURN:"Opponent's Turn",CARDS:"cards",DRAW_PILE:"Draw Pile",CURRENT_CARD:"Current Card",YOUR_HAND:"Your Hand",PLAY_CARD:"Play Card",DRAW_CARD:"Draw Card",SAY_MAU:"Say Mau!",CHOOSE_CATEGORY:"Choose a Category",CANCEL:"Cancel",AI_THINKING:"AI is thinking...",CARD_PLAYED:"played",DREW_CARD:"Drew a card.",GAME_STARTED:"Game started! You go",CHESS:"Chess",SUDOKU:"Sudoku",FIRST:"first",SECOND:"second",WINS:"wins!",WISHED:"Wished",MAU:"Mau!",CATEGORIES:{VOWEL:"Vowels",COMMON:"Common",MEDIUM:"Medium",RARE:"Rare"},SELECT_DIFFICULTY:"Select Difficulty",EASY:"Easy",MEDIUM:"Medium",HARD:"Hard"},CHESS:{TITLE:"CHESS",YOUR_TURN:"Your Turn",OPPONENT_TURN:"Opponent's Turn",CHECKMATE:"Checkmate!",STALEMATE:"Stalemate!",DRAW:"Draw!",CHECK:"Check!",GAME_OVER:"Game Over",WIN:"You Win!",LOSS:"You Lose!",WAITING_OPPONENT:"Waiting for opponent...",PLAY_AGAIN:"Play Again",EXIT:"Exit",WHITE:"White",BLACK:"Black"},CHECKERS:{TITLE:"CHECKERS",YOUR_TURN:"Your Turn",OPPONENT_TURN:"Opponent's Turn",WIN:"You Win!",LOSS:"You Lose!",KING:"King",JUMP:"Jump!",HINT:"Hint"},NINE_MENS_MORRIS:{TITLE:"NINE MEN'S MORRIS",YOUR_TURN:"Your Turn",OPPONENT_TURN:"Opponent's Turn",WIN:"You Win!",LOSS:"You Lose!",MILL:"Mill!",REMOVE_PIECE:"Remove opponent's piece!",PLACING_PHASE:"Placing Phase",MOVING_PHASE:"Moving Phase"},RUMMY:{TITLE:"RUMMY",YOUR_TURN:"Your Turn",OPPONENT_TURN:"Opponent's Turn",WIN:"You Win!",LOSS:"You Lose!",DRAW_CARD:"Draw Card",DISCARD:"Discard",MELD:"Meld",SET:"Set",RUN:"Run"},SEASON:{TITLE:"SEASON I: GENESIS",SUBTITLE:"BATTLE PASS",PREMIUM_ACTIVE:"PREMIUM ACTIVE",FREE_ACTIVE:"FREE PASS ACTIVE",GET_PREMIUM:"GET PREMIUM",PREMIUM_DESC:"Unlock exclusive skins, faster hints, and golden name color.",UNLOCK_BTN:"UNLOCK $4.99",LEVEL:"LVL",COINS:"Coins",RARE_ITEM:"Rare Item",DAYS_LEFT:"DAYS LEFT",REDEEM_CODE:"REDEEM CODE",CODE_PLACEHOLDER:"Enter Activation Code",INVALID_CODE:"Invalid Code",PREMIUM_REQUIRED:"Season Pass Required!",PREMIUM_OPTIONS:"PREMIUM PASS OPTIONS",VIEW_BENEFITS:"VIEW PREMIUM BENEFITS"},LEVELS:{BACK:"BACK",TIERS:["BEGINNER","LEARNER","SKILLED","EXPERT","MASTER"]},GAME:{HINT_TITLE:"HINT",UNLOCK_HINT:"UNLOCK HINT",SUDOKU_TITLE:"SUDOKU",CLASSIC_TITLE:"CLASSIC",SUDOKU_DESC:"Fill the grid",SPEEDRUN_DESC:"Time Remaining",WIN_TITLE:"VICTORY",WIN_DESC:"Level Cleared!",XP_GAINED:"XP GAINED",COINS_GAINED:"COINS",NEXT_BTN:"NEXT LEVEL",PASS_BTN:"VIEW PASS",HINT_MODAL_TITLE:"UNLOCK HINT",AD_SIM:`AD SPACE
(Simulation)`,WATCHING:"WATCHING...",CLAIM:"CLAIM HINT",REWARD:"REWARD READY",HINT_COST_PREFIX:"+",HINT_COST_SUFFIX:"s Wait Time",INFO_BAR:"letters. Green = Correct.",ENTER_GUESS:"ENTER GUESS",LOST_TITLE:"MISSION FAILED",LOST_DESC:"GAME OVER",TARGET_ID:"TARGET IDENTIFIED",MENU:"MENU",RETRY:"RETRY",LEVEL_UP:"LEVEL UP"},CHAIN_GAME:{TITLE:"CHAIN REACTION",INSTRUCTIONS:"Complete as many word chains as you can before time runs out!",TIME_LABEL:"60 Seconds",TIME_DESC:"Time adds up for correct answers",COMBO_LABEL:"Combo Streak",COMBO_DESC:"Higher combos = more points",START_BTN:"Start Game",BACK_BTN:"Back to Menu",GAME_OVER:"GAME OVER",FINAL_SCORE:"Final Score",PLAY_AGAIN:"PLAY AGAIN",EXIT:"EXIT",HINT_DESC:"Type the word that completes the compound word!",KEYBOARD_HINT:"TAP SCREEN TO TYPE",COMBO_TEXT:"COMBO!",REVEAL_LETTER:"Reveal Letter",REVEAL_WORD:"Reveal Word",NEED_HELP:"Need Help?"},TUTORIAL:{HEADER:"HOW TO PLAY",BACK:"BACK",START:"START GAME"},PROFILE:{TITLE:"PLAYER PROFILE",SAVE:"SAVE CHANGES",NAME:"NAME",AGE:"AGE",AVATAR:"SELECT AVATAR",DELETE_PROFILE:"DELETE PROFILE",AVATAR_HINT:"Click avatar to cycle through your owned collection",USERNAME:"USERNAME",CURRENT:"CURRENT",NEW_USER_PLACEHOLDER:"New Username",COST:"COST",CHANGE:"CHANGE",AVATAR_PREVIEW:"AVATAR PREVIEW",CHOOSE_AVATAR:"CHOOSE AVATAR",LOCKED:"LOCKED",AGE_MSG:"Age cannot be changed later.",STATS:"STATS",DELETE_ACCOUNT:"Delete Account",DELETE_WARNING:"Are you sure?",DELETE_INFO:"Your progress, coins and all data will be permanently deleted.",CONFIRM_MSG:"Type 'DELETE' to confirm:",CONFIRM_PLACEHOLDER:"DELETE",CANCEL:"Cancel",CONFIRM_DELETE:"Yes, delete account"},SHOP:{TITLE:"BLACK MARKET",CURRENCY_SECTION:"COIN PACKS",AVATAR_SECTION:"AVATAR TERMINAL",BUY:"BUY",OWNED:"OWNED",EQUIP:"EQUIP",EQUIPPED:"EQUIPPED",INSUFFICIENT:"NOT ENOUGH COINS",SUCCESS:"PURCHASED"},UPDATES:{REQUIRED_TITLE:"UPDATE REQUIRED",REQUIRED_DESC:"Your version of LexiMix is outdated. You must update to continue playing.",INSTALLED:"INSTALLED",REQUIRED:"REQUIRED",UPDATE_NOW:"UPDATE NOW",WHATS_NEW:"What's new?",SECURITY:"SECURITY UPDATE",AVAILABLE_TITLE:"UPDATE AVAILABLE",NEW_VERSION:"New Version v",AVAILABLE_DESC_APP:"A new APK version is available. Download it for the latest features!",AVAILABLE_DESC_WEB:"LexiMix has been updated. Reload the app.",DOWNLOAD:"DOWNLOAD",RELOAD:"RELOAD",COOL:"AWESOME!",NOTES:"UPDATE NOTES"}},[pe.DE]:{ONBOARDING:{WELCOME:"WILLKOMMEN",SELECT_LANG:"SPRACHE WHLEN",NAME_TITLE:"IDENTIFIZIERUNG",NAME_PLACEHOLDER:"Name eingeben",AGE_TITLE:"ALTER VERIFIZIEREN",AGE_PLACEHOLDER:"Alter eingeben",CONTINUE:"WEITER",START:"SYSTEM INITIALISIEREN",ERR_NAME:"Max 20 Zeichen",ERR_AGE:"Ungltiges Alter (1-120)"},AUTH:{login:"ANMELDEN",register:"REGISTRIEREN",username:"BENUTZERNAME",password:"PASSWORT",confirmPassword:"PASSWORT WIEDERHOLEN",captcha:"SICHERHEITSFRAGE",result:"Ergebnis",loading:"LDT...",resetEmailSent:"E-MAIL GESENDET",checkEmail:"Prfe dein Postfach.",backToLogin:"ZURCK ZUM LOGIN",resetPassword:"PASSWORT ZURCKSETZEN",forgotPassword:"Passwort vergessen?",sendResetEmail:"RESET E-MAIL SENDEN",age:"ALTER",minAge:"Mindestalter: 12 Jahre"},HOME:{PLAYER:"Rtselfreund",SEASON_LEVEL:"Saison Stufe",TAGLINE:"Spielspa mit Kpfchen",LANG_BTN:"ENGLISH",PLAY:"SPIELEN",COINS:"Mnzen",PREMIUM_REQUIRED_TITLE:"Premium Erforderlich",PREMIUM_REQUIRED_LOCKED:"Challenge Mode Gesperrt",PREMIUM_REQUIRED_DESC:"Dieser Modus ist exklusiv fr Premium-Mitglieder. Hole dir den Season Pass, um tgliche Herausforderungen und exklusive Belohnungen freizuschalten!",PREMIUM_REQUIRED_GO:"Zum Season Pass",PREMIUM_REQUIRED_LATER:"Vielleicht spter",VOUCHER_TITLE:" Gutschein Einlsen",VOUCHER_HEADING:"Gutscheincode eingeben",VOUCHER_DESC:"Gib deinen Gutscheincode ein um Mnzen zu erhalten",VOUCHER_PLACEHOLDER:"GUTSCHEIN123",VOUCHER_CANCEL:"Abbrechen",VOUCHER_REDEEM:"Einlsen",VOUCHER_REDEEMED:" Eingelst"},MODES:{CLASSIC:{title:"KLASSISCH",desc:"Der Standard"},SPEEDRUN:{title:"ZEITRENNEN",desc:"Gegen die Zeit"},CHAIN:{title:"WORTKETTE",desc:"Verbinde Worte"},CATEGORY:{title:"THEMEN",desc:"Kontext-Rtsel"},SUDOKU:{title:"Buchstaben Sudoku",desc:"Logik (A-I)"},CHALLENGE:{title:"CHALLENGE",desc:"Premium Herausforderungen"},RIDDLE:{title:"RTSEL",desc:"Wortrtsel"},LETTER_MAU_MAU:{title:"KARTENSCHMIEDE",desc:"Premium Kartenschmiede"},SKAT_MAU_MAU:{title:"MAU MAU",desc:"Klassisches Kartenspiel"},CHESS:{title:"SCHACH",desc:"Klassisches Strategiespiel"},CHECKERS:{title:"DAME",desc:"Klassisches Brettspiel"},NINE_MENS_MORRIS:{title:"MHLE",desc:"Strategie-Brettspiel"},RUMMY:{title:"ROMM",desc:"Klassisches Kartenspiel"},LOCKED:{title:"BALD",desc:"Demnchst"}},MAU_MAU:{TITLE:"KARTENSCHMIEDE",YOUR_TURN:"Dein Zug",OPPONENT_TURN:"Gegner am Zug",CARDS:"Karten",DRAW_PILE:"Stapel",CURRENT_CARD:"Aktuelle Karte",YOUR_HAND:"Deine Hand",PLAY_CARD:"Karte Spielen",DRAW_CARD:"Karte Ziehen",SAY_MAU:"Mau!",CHOOSE_CATEGORY:"Kategorie whlen",CANCEL:"Abbrechen",AI_THINKING:"KI denkt nach...",CARD_PLAYED:"hat gespielt",DREW_CARD:"Karte gezogen.",GAME_STARTED:"Spiel gestartet! Du bist",FIRST:"zuerst",SECOND:"zweiter",WINS:"gewinnt!",WISHED:"Gewnscht",MAU:"Mau!",CATEGORIES:{VOWEL:"Vokale",COMMON:"Hufig",MEDIUM:"Mittel",RARE:"Selten"},SELECT_DIFFICULTY:"Schwierigkeit whlen",EASY:"Leicht",MEDIUM:"Mittel",HARD:"Schwer"},CHESS:{TITLE:"SCHACH",YOUR_TURN:"Du bist am Zug",OPPONENT_TURN:"Gegner ist am Zug",CHECKMATE:"Schachmatt!",STALEMATE:"Patt!",DRAW:"Remis!",CHESS:"Schach",CHECK:"Schach!",GAME_OVER:"Spiel Vorbei",WIN:"Du hast gewonnen!",LOSS:"Du hast verloren!",WAITING_OPPONENT:"Warte auf Gegner...",PLAY_AGAIN:"Nochmal Spielen",EXIT:"Beenden",WHITE:"Wei",BLACK:"Schwarz"},CHECKERS:{TITLE:"DAME",YOUR_TURN:"Du bist am Zug",OPPONENT_TURN:"Gegner ist am Zug",WIN:"Du hast gewonnen!",LOSS:"Du hast verloren!",KING:"Dame",JUMP:"Sprung!",HINT:"Hinweis"},NINE_MENS_MORRIS:{TITLE:"MHLE",YOUR_TURN:"Du bist am Zug",OPPONENT_TURN:"Gegner ist am Zug",WIN:"Du hast gewonnen!",LOSS:"Du hast verloren!",MILL:"Mhle!",REMOVE_PIECE:"Gegnerischen Stein entfernen!",PLACING_PHASE:"Setzphase",MOVING_PHASE:"Ziehphase"},RUMMY:{TITLE:"ROMM",YOUR_TURN:"Du bist am Zug",OPPONENT_TURN:"Gegner ist am Zug",WIN:"Du hast gewonnen!",LOSS:"Du hast verloren!",DRAW_CARD:"Karte ziehen",DISCARD:"Abwerfen",MELD:"Ablegen",SET:"Satz",RUN:"Reihe"},SEASON:{TITLE:"SAISON I: GENESIS",SUBTITLE:"BATTLE PASS",PREMIUM_ACTIVE:"PREMIUM AKTIV",FREE_ACTIVE:"GRATIS PASS AKTIV",GET_PREMIUM:"PREMIUM HOLEN",PREMIUM_DESC:"Exklusive Skins, schnellere Hinweise und goldener Name.",UNLOCK_BTN:"FREISCHALTEN 4,99",LEVEL:"STUFE",COINS:"Mnzen",RARE_ITEM:"Seltenes Item",DAYS_LEFT:"TAGE BRIG",REDEEM_CODE:"CODE EINLSEN",CODE_PLACEHOLDER:"Gutscheincode eingeben",INVALID_CODE:"Ungltiger Code",PREMIUM_REQUIRED:"Season Pass erforderlich!",PREMIUM_OPTIONS:"PREMIUM PASS OPTIONEN",VIEW_BENEFITS:"PREMIUM VORTEILE ANSEHEN"},LEVELS:{BACK:"ZURCK",TIERS:["ANFNGER","FORTGESCHRITTEN","ERFAHREN","EXPERTE","MEISTER"]},GAME:{HINT_TITLE:"HINWEIS",UNLOCK_HINT:"HINWEIS FREISCHALTEN",SUDOKU_TITLE:"SUDOKU",CLASSIC_TITLE:"KLASSISCH",SUDOKU_DESC:"Flle das Gitter",SPEEDRUN_DESC:"Verbleibende Zeit",WIN_TITLE:"SIEG",WIN_DESC:"Level abgeschlossen!",XP_GAINED:"XP GEWONNEN",COINS_GAINED:"MNZEN",NEXT_BTN:"NCHSTER LEVEL",PASS_BTN:"PASS ANSEHEN",HINT_MODAL_TITLE:"HINWEIS FREISCHALTEN",AD_SIM:`WERBEBEREICH
(Simulation)`,WATCHING:"SCHAUEN...",CLAIM:"HINWEIS HOLEN",REWARD:"BELOHNUNG BEREIT",HINT_COST_PREFIX:"+",HINT_COST_SUFFIX:"s Wartezeit",INFO_BAR:"Buchstaben. Grn = Richtig.",ENTER_GUESS:"LSUNG EINGEBEN",LOST_TITLE:"MISSION FEHLGESCHLAGEN",LOST_DESC:"SPIEL VORBEI",TARGET_ID:"ZIELWORT IDENTIFIZIERT",MENU:"MEN",RETRY:"NOCHMAL",LEVEL_UP:"LEVEL AUFSTIEG"},CHAIN_GAME:{TITLE:"KETTENREAKTION",INSTRUCTIONS:"Vervollstndige so viele Wortketten wie mglich, bevor die Zeit abluft!",TIME_LABEL:"60 Sekunden",TIME_DESC:"Zeitbonus fr richtige Antworten",COMBO_LABEL:"Combo-Serie",COMBO_DESC:"Hhere Combos = mehr Punkte",START_BTN:"Spiel Starten",BACK_BTN:"Zurck zum Men",GAME_OVER:"SPIEL VORBEI",FINAL_SCORE:"Endpunktzahl",PLAY_AGAIN:"NOCHMAL SPIELEN",EXIT:"BEENDEN",HINT_DESC:"Tippe das Wort ein, das das zusammengesetzte Wort vervollstndigt!",KEYBOARD_HINT:"TIPPEN ZUM SCHREIBEN",COMBO_TEXT:"COMBO!",REVEAL_LETTER:"Buchstabe aufdecken",REVEAL_WORD:"Wort aufdecken",NEED_HELP:"Hilfe bentigt?"},TUTORIAL:{HEADER:"SPIELANLEITUNG",BACK:"ZURCK",START:"SPIEL STARTEN"},PROFILE:{TITLE:"SPIELER PROFIL",SAVE:"SPEICHERN",NAME:"NAME",AGE:"ALTER",AVATAR:"AVATAR WHLEN",DELETE_PROFILE:"PROFIL LSCHEN",AVATAR_HINT:"Klicke auf den Avatar um durch deine Sammlung zu wechseln",USERNAME:"BENUTZERNAME",CURRENT:"AKTUELL",NEW_USER_PLACEHOLDER:"Neuer Benutzername",COST:"KOSTEN",CHANGE:"NDERN",AVATAR_PREVIEW:"AVATAR VORSCHAU",CHOOSE_AVATAR:"AVATAR WHLEN",LOCKED:"FIXIERT",AGE_MSG:"Das Alter kann nachtrglich nicht gendert werden.",STATS:"STATISTIKEN",DELETE_ACCOUNT:"Account lschen",DELETE_WARNING:"Bist du sicher?",DELETE_INFO:"Dein Fortschritt, Mnzen und alle Daten werden unwiderruflich gelscht.",CONFIRM_MSG:"Tippe 'LSCHEN' zur Besttigung:",CONFIRM_PLACEHOLDER:"LSCHEN",CANCEL:"Abbrechen",CONFIRM_DELETE:"Ja, Account lschen"},SHOP:{TITLE:"Marktplatz",CURRENCY_SECTION:"MNZPAKETE",AVATAR_SECTION:"AVATAR TERMINAL",BUY:"KAUFEN",OWNED:"BESITZ",EQUIP:"AUSRSTEN",EQUIPPED:"AUSGERSTET",INSUFFICIENT:"NICHT GENUG MNZEN",SUCCESS:"GEKAUFT"},UPDATES:{REQUIRED_TITLE:"Update Erforderlich",REQUIRED_DESC:"Deine Version von LexiMix ist veraltet. Du musst aktualisieren, um weiterzuspielen.",INSTALLED:"INSTALLIERT",REQUIRED:"BENTIGT",UPDATE_NOW:"JETZT AKTUALISIEREN",WHATS_NEW:"Was ist neu?",SECURITY:"SICHERHEITS-UPDATE",AVAILABLE_TITLE:"Update Verfgbar",NEW_VERSION:"Neue Version v",AVAILABLE_DESC_APP:"Eine neue APK-Version ist verfgbar. Lade sie herunter fr die neuesten Features!",AVAILABLE_DESC_WEB:"LexiMix wurde aktualisiert. Lade die App neu.",DOWNLOAD:"HERUNTERLADEN",RELOAD:"NEU LADEN",COOL:"NICE!",NOTES:"UPDATE NOTES"}},[pe.ES]:{ONBOARDING:{WELCOME:"BIENVENIDO",SELECT_LANG:"SELECCIONAR IDIOMA",NAME_TITLE:"IDENTIFCATE",NAME_PLACEHOLDER:"Ingresar nombre",AGE_TITLE:"VERIFICAR EDAD",AGE_PLACEHOLDER:"Ingresar edad",CONTINUE:"CONTINUAR",START:"INICIAR SISTEMA",ERR_NAME:"Mx 20 caracteres",ERR_AGE:"Edad invlida (1-120)"},AUTH:{login:"INICIAR SESIN",register:"REGISTRARSE",username:"USUARIO",password:"CONTRASEA",confirmPassword:"CONFIRMAR CONTRASEA",captcha:"CAPTCHA",result:"Resultado",loading:"CARGANDO...",resetEmailSent:"CORREO ENVIADO",checkEmail:"Revisa tu bandeja de entrada.",backToLogin:"VOLVER AL LOGIN",resetPassword:"RESTABLECER CONTRASEA",forgotPassword:"Olvidaste tu contrasea?",sendResetEmail:"ENVIAR CORREO",age:"EDAD",minAge:"Edad mnima: 12 aos"},HOME:{PLAYER:"Jugador",SEASON_LEVEL:"Nivel de Temporada",TAGLINE:"Diversin Inteligente",LANG_BTN:"ESPAOL",PLAY:"JUGAR",COINS:"Monedas",PREMIUM_REQUIRED_TITLE:"Premium Requerido",PREMIUM_REQUIRED_LOCKED:"Modo Desafo Bloqueado",PREMIUM_REQUIRED_DESC:"Este modo es exclusivo para miembros premium. Obtn el Pase de Temporada para desbloquear desafos diarios y recompensas exclusivas!",PREMIUM_REQUIRED_GO:"Ir al Pase de Temporada",PREMIUM_REQUIRED_LATER:"Quizs ms tarde",VOUCHER_TITLE:" Canjear Cupn",VOUCHER_HEADING:"Ingresar Cdigo de Cupn",VOUCHER_DESC:"Ingresa tu cdigo de cupn para recibir monedas",VOUCHER_PLACEHOLDER:"CUPON123",VOUCHER_CANCEL:"Cancelar",VOUCHER_REDEEM:"Canjear",VOUCHER_REDEEMED:" Canjeado"},MODES:{CLASSIC:{title:"CLSICO",desc:"El Estndar"},SPEEDRUN:{title:"CONTRARRELOJ",desc:"Carrera contra el tiempo"},CHAIN:{title:"CADENA",desc:"Enlaza palabras"},CATEGORY:{title:"TEMAS",desc:"Basado en contexto"},SUDOKU:{title:"SUDOKU DE LETRAS",desc:"Lgica (A-I)"},CHALLENGE:{title:"DESAFO",desc:"Retos Premium"},RIDDLE:{title:"ACERTIJOS",desc:"Rompecabezas"},LETTER_MAU_MAU:{title:"KARTENSCHMIEDE",desc:"Forja de Cartas Premium"},SKAT_MAU_MAU:{title:"MAU MAU",desc:"Juego de Cartas Clsico"},CHESS:{title:"AJEDREZ",desc:"Juego de Estrategia Clsico"},CHECKERS:{title:"DAMAS",desc:"Juego de Mesa Clsico"},NINE_MENS_MORRIS:{title:"MOLINO",desc:"Juego de Estrategia"},RUMMY:{title:"RUMMY",desc:"Juego de Cartas Clsico"},LOCKED:{title:"BLOQUEADO",desc:"Prximamente"}},MAU_MAU:{TITLE:"KARTENSCHMIEDE",YOUR_TURN:"Tu Turno",OPPONENT_TURN:"Turno del Oponente",CARDS:"cartas",DRAW_PILE:"Pila",CURRENT_CARD:"Carta Actual",YOUR_HAND:"Tu Mano",PLAY_CARD:"Jugar Carta",DRAW_CARD:"Tomar Carta",SAY_MAU:"Mau!",CHOOSE_CATEGORY:"Elige una Categora",CANCEL:"Cancelar",AI_THINKING:"IA est pensando...",CARD_PLAYED:"jug",DREW_CARD:"Tom una carta.",GAME_STARTED:"Juego iniciado! Vas",FIRST:"primero",SECOND:"segundo",WINS:"gana!",WISHED:"Deseado",MAU:"Mau!",CATEGORIES:{VOWEL:"Vocales",COMMON:"Comn",MEDIUM:"Medio",RARE:"Raro"},SELECT_DIFFICULTY:"Seleccionar Dificultad",EASY:"Fcil",MEDIUM:"Medio",HARD:"Difcil"},CHESS:{TITLE:"AJEDREZ",YOUR_TURN:"Tu Turno",OPPONENT_TURN:"Turno del Oponente",CHECKMATE:"Jaque Mate!",STALEMATE:"Ahogado!",DRAW:"Tablas!",CHECK:"Jaque!",GAME_OVER:"Juego Terminado",WIN:"Ganaste!",LOSS:"Perdiste!",WAITING_OPPONENT:"Esperando oponente...",PLAY_AGAIN:"Jugar de Nuevo",EXIT:"Salir",WHITE:"Blancas",BLACK:"Negras"},CHECKERS:{TITLE:"DAMAS",YOUR_TURN:"Tu Turno",OPPONENT_TURN:"Turno del Oponente",WIN:"Ganaste!",LOSS:"Perdiste!",KING:"Dama",JUMP:"Salto!",HINT:"Pista"},NINE_MENS_MORRIS:{TITLE:"MOLINO",YOUR_TURN:"Tu Turno",OPPONENT_TURN:"Turno del Oponente",WIN:"Ganaste!",LOSS:"Perdiste!",MILL:"Molino!",REMOVE_PIECE:"Quitar pieza del oponente!",PLACING_PHASE:"Fase de Colocacin",MOVING_PHASE:"Fase de Movimiento"},RUMMY:{TITLE:"RUMMY",YOUR_TURN:"Tu Turno",OPPONENT_TURN:"Turno del Oponente",WIN:"Ganaste!",LOSS:"Perdiste!",DRAW_CARD:"Robar Carta",DISCARD:"Descartar",MELD:"Combinar",SET:"Grupo",RUN:"Escalera"},SEASON:{TITLE:"TEMPORADA I: GNESIS",SUBTITLE:"PASE DE BATALLA",PREMIUM_ACTIVE:"PREMIUM ACTIVO",FREE_ACTIVE:"PASE GRATIS ACTIVO",GET_PREMIUM:"OBTENER PREMIUM",PREMIUM_DESC:"Desbloquea skins exclusivos, pistas ms rpidas y nombre dorado.",UNLOCK_BTN:"DESBLOQUEAR 4,99",LEVEL:"NIVEL",COINS:"Monedas",RARE_ITEM:"Objeto Raro",DAYS_LEFT:"DAS RESTANTES",REDEEM_CODE:"CANJEAR CDIGO",CODE_PLACEHOLDER:"Ingresar Cdigo",INVALID_CODE:"Cdigo Invlido",PREMIUM_REQUIRED:"Pase de Temporada Requerido!",PREMIUM_OPTIONS:"OPCIONES PASE PREMIUM",VIEW_BENEFITS:"VER BENEFICIOS PREMIUM"},LEVELS:{BACK:"VOLVER",TIERS:["PRINCIPIANTE","APRENDIZ","HABILIDOSO","EXPERTO","MAESTRO"]},GAME:{HINT_TITLE:"PISTA",UNLOCK_HINT:"DESBLOQUEAR PISTA",SUDOKU_TITLE:"SUDOKU",CLASSIC_TITLE:"CLSICO",SUDOKU_DESC:"Rellena la cuadrcula",SPEEDRUN_DESC:"Tiempo Restante",WIN_TITLE:"VICTORIA",WIN_DESC:"Nivel Completado!",XP_GAINED:"XP GANADA",COINS_GAINED:"MONEDAS",NEXT_BTN:"SIGUIENTE NIVEL",PASS_BTN:"VER PASE",HINT_MODAL_TITLE:"DESBLOQUEAR PISTA",AD_SIM:`ESPACIO PUBLICITARIO
(Simulacin)`,WATCHING:"VIENDO...",CLAIM:"RECLAMAR PISTA",REWARD:"RECOMPENSA LISTA",HINT_COST_PREFIX:"+",HINT_COST_SUFFIX:"s Tiempo de Espera",INFO_BAR:"letras. Verde = Correcto.",ENTER_GUESS:"INGRESAR",LOST_TITLE:"MISIN FALLIDA",LOST_DESC:"JUEGO TERMINADO",TARGET_ID:"OBJETIVO IDENTIFICADO",MENU:"MEN",RETRY:"REINTENTAR",LEVEL_UP:"SUBIDA DE NIVEL"},CHAIN_GAME:{TITLE:"REACCIN EN CADENA",INSTRUCTIONS:"Completa tantas cadenas de palabras como puedas antes de que se acabe el tiempo!",TIME_LABEL:"60 Segundos",TIME_DESC:"Tiempo extra por respuestas correctas",COMBO_LABEL:"Racha de Combo",COMBO_DESC:"Combos ms altos = ms puntos",START_BTN:"Iniciar Juego",BACK_BTN:"Volver al Men",GAME_OVER:"JUEGO TERMINADO",FINAL_SCORE:"Puntuacin Final",PLAY_AGAIN:"JUGAR DE NUEVO",EXIT:"SALIR",HINT_DESC:"Escribe la palabra que completa la palabra compuesta!",KEYBOARD_HINT:"TOCA LA PANTALLA PARA ESCRIBIR",COMBO_TEXT:"COMBO!",REVEAL_LETTER:"Revelar Letra",REVEAL_WORD:"Revelar Palabra",NEED_HELP:"Necesitas Ayuda?"},TUTORIAL:{HEADER:"CMO JUGAR",BACK:"VOLVER",START:"INICIAR JUEGO"},PROFILE:{TITLE:"PERFIL DE JUGADOR",SAVE:"GUARDAR CAMBIOS",NAME:"NOMBRE",AGE:"EDAD",AVATAR:"SELECCIONAR AVATAR",DELETE_PROFILE:"BORRAR PERFIL",AVATAR_HINT:"Haz clic en el avatar para ver tu coleccin",USERNAME:"NOMBRE DE USUARIO",CURRENT:"ACTUAL",NEW_USER_PLACEHOLDER:"Nuevo nombre de usuario",COST:"COSTE",CHANGE:"CAMBIAR",AVATAR_PREVIEW:"VISTA PREVIA",CHOOSE_AVATAR:"ELEGIR AVATAR",LOCKED:"BLOQUEADO",AGE_MSG:"La edad no se puede cambiar despus.",STATS:"ESTADSTICAS",DELETE_ACCOUNT:"Borrar cuenta",DELETE_WARNING:"Ests seguro?",DELETE_INFO:"Tu progreso, monedas y todos los datos se eliminarn permanentemente.",CONFIRM_MSG:"Escribe 'BORRAR' para confirmar:",CONFIRM_PLACEHOLDER:"BORRAR",CANCEL:"Cancelar",CONFIRM_DELETE:"S, borrar cuenta"},SHOP:{TITLE:"MERCADO NEGRO",CURRENCY_SECTION:"PACKS DE MONEDAS",AVATAR_SECTION:"TERMINAL DE AVATARES",BUY:"COMPRAR",OWNED:"EN PROPIEDAD",EQUIP:"EQUIPAR",EQUIPPED:"EQUIPADO",INSUFFICIENT:"MONEDAS INSUFICIENTES",SUCCESS:"COMPRADO"},UPDATES:{REQUIRED_TITLE:"ACTUALIZACIN REQUERIDA",REQUIRED_DESC:"Tu versin de LexiMix est obsoleta. Debes actualizar para seguir jugando.",INSTALLED:"INSTALADO",REQUIRED:"REQUERIDO",UPDATE_NOW:"ACTUALIZAR AHORA",WHATS_NEW:"Qu hay de nuevo?",SECURITY:"ACTUALIZACIN DE SEGURIDAD",AVAILABLE_TITLE:"ACTUALIZACIN DISPONIBLE",NEW_VERSION:"Nueva Versin v",AVAILABLE_DESC_APP:"Nueva versin APK disponible. Descrgala para las ltimas novedades!",AVAILABLE_DESC_WEB:"LexiMix se ha actualizado. Recarga la app.",DOWNLOAD:"DESCARGAR",RELOAD:"RECARGAR",COOL:"GENIAL!",NOTES:"NOTAS DE ACTUALIZACIN"}}},Dk=[{word:"APPLE",hint:"A popular red or green fruit.",tier:x.BEGINNER},{word:"HOUSE",hint:"A building for human habitation.",tier:x.BEGINNER},{word:"WATER",hint:"Essential liquid for life.",tier:x.BEGINNER},{word:"BREAD",hint:"Baked dough food staple.",tier:x.BEGINNER},{word:"NIGHT",hint:"The time when it is dark.",tier:x.BEGINNER},{word:"HAPPY",hint:"Feeling or showing pleasure.",tier:x.BEGINNER},{word:"GREEN",hint:"Color of grass and leaves.",tier:x.BEGINNER},{word:"MUSIC",hint:"Vocal or instrumental sounds.",tier:x.BEGINNER},{word:"PHONE",hint:"Device used for calling.",tier:x.BEGINNER},{word:"SMILE",hint:"Facial expression of joy.",tier:x.BEGINNER},{word:"CHAIR",hint:"Seat with a back.",tier:x.BEGINNER},{word:"TABLE",hint:"Furniture with a flat top.",tier:x.BEGINNER},{word:"LIGHT",hint:"Makes things visible.",tier:x.BEGINNER},{word:"RIVER",hint:"Large natural stream of water.",tier:x.BEGINNER},{word:"MONEY",hint:"Medium of exchange.",tier:x.BEGINNER},{word:"PAPER",hint:"Material for writing on.",tier:x.BEGINNER},{word:"CLOCK",hint:"Instrument to measure time.",tier:x.BEGINNER},{word:"HEART",hint:"Organ that pumps blood.",tier:x.BEGINNER},{word:"DREAM",hint:"Thoughts during sleep.",tier:x.BEGINNER},{word:"BEACH",hint:"Sandy shore by the sea.",tier:x.BEGINNER},{word:"CLOUD",hint:"White mass in the sky.",tier:x.BEGINNER},{word:"GRASS",hint:"Green ground cover.",tier:x.BEGINNER},{word:"SPOON",hint:"Utensil for eating soup.",tier:x.BEGINNER},{word:"TRAIN",hint:"Railway vehicle.",tier:x.BEGINNER},{word:"WORLD",hint:"The earth and all life.",tier:x.BEGINNER},{word:"PARTY",hint:"Social gathering.",tier:x.BEGINNER},{word:"PIZZA",hint:"Italian dish with cheese.",tier:x.BEGINNER},{word:"SHOES",hint:"Footwear.",tier:x.BEGINNER},{word:"TRUCK",hint:"Large vehicle for cargo.",tier:x.BEGINNER},{word:"WATCH",hint:"Small clock worn on wrist.",tier:x.BEGINNER},{word:"SPACE",hint:"Area beyond earth.",tier:x.BEGINNER},{word:"NURSE",hint:"Person who cares for sick.",tier:x.BEGINNER},{word:"STORE",hint:"Place to buy things.",tier:x.BEGINNER},{word:"TIGER",hint:"Large striped cat.",tier:x.BEGINNER},{word:"ZEBRA",hint:"Striped African horse.",tier:x.BEGINNER},{word:"LEMON",hint:"Sour yellow fruit.",tier:x.BEGINNER},{word:"MANGO",hint:"Tropical sweet fruit.",tier:x.BEGINNER},{word:"BERRY",hint:"Small juicy fruit.",tier:x.BEGINNER},{word:"SHEEP",hint:"Woolly farm animal.",tier:x.BEGINNER},{word:"HORSE",hint:"Large riding animal.",tier:x.BEGINNER},{word:"MOUSE",hint:"Small rodent or device.",tier:x.BEGINNER},{word:"SNAKE",hint:"Legless reptile.",tier:x.BEGINNER},{word:"WHALE",hint:"Large marine mammal.",tier:x.BEGINNER},{word:"SHARK",hint:"Predatory fish.",tier:x.BEGINNER},{word:"EAGLE",hint:"Large bird of prey.",tier:x.BEGINNER},{word:"ROBOT",hint:"Automated machine.",tier:x.BEGINNER},{word:"GHOST",hint:"Spirit of the dead.",tier:x.BEGINNER},{word:"MAGIC",hint:"Supernatural power.",tier:x.BEGINNER},{word:"QUEEN",hint:"Female ruler.",tier:x.BEGINNER},{word:"KINGS",hint:"Male rulers.",tier:x.BEGINNER},{word:"PLANET",hint:"Celestial body orbiting a star.",tier:x.LEARNER},{word:"GARDEN",hint:"Plot of ground for plants.",tier:x.LEARNER},{word:"DOCTOR",hint:"Person who treats the sick.",tier:x.LEARNER},{word:"MARKET",hint:"Place where goods are sold.",tier:x.LEARNER},{word:"WINDOW",hint:"Opening in a wall for light.",tier:x.LEARNER},{word:"TRAVEL",hint:"Go from one place to another.",tier:x.LEARNER},{word:"SUMMER",hint:"The warmest season.",tier:x.LEARNER},{word:"FRIEND",hint:"Person you know and like.",tier:x.LEARNER},{word:"SCHOOL",hint:"Institution for educating.",tier:x.LEARNER},{word:"ANIMAL",hint:"Living organism that moves.",tier:x.LEARNER},{word:"FOREST",hint:"Large area covered with trees.",tier:x.LEARNER},{word:"ISLAND",hint:"Land surrounded by water.",tier:x.LEARNER},{word:"DESERT",hint:"Dry, sandy region.",tier:x.LEARNER},{word:"OCEAN",hint:"Vast body of salt water.",tier:x.LEARNER},{word:"VALLEY",hint:"Low land between hills.",tier:x.LEARNER},{word:"BRIDGE",hint:"Structure over water.",tier:x.LEARNER},{word:"CASTLE",hint:"Large fortified building.",tier:x.LEARNER},{word:"OFFICE",hint:"Place for business work.",tier:x.LEARNER},{word:"STREET",hint:"Public road in a city.",tier:x.LEARNER},{word:"WINTER",hint:"Coldest season.",tier:x.LEARNER},{word:"SPRING",hint:"Season of rebirth.",tier:x.LEARNER},{word:"AUTUMN",hint:"Season of falling leaves.",tier:x.LEARNER},{word:"DINNER",hint:"Main meal of the day.",tier:x.LEARNER},{word:"FAMILY",hint:"Parents and children.",tier:x.LEARNER},{word:"PERSON",hint:"A human being.",tier:x.LEARNER},{word:"FARMER",hint:"Person who grows crops.",tier:x.LEARNER},{word:"DRIVER",hint:"Person who operates a car.",tier:x.LEARNER},{word:"ARTIST",hint:"Person who creates art.",tier:x.LEARNER},{word:"WRITER",hint:"Person who writes books.",tier:x.LEARNER},{word:"PLAYER",hint:"Participant in a game.",tier:x.LEARNER},{word:"LEADER",hint:"Person who commands.",tier:x.LEARNER},{word:"WINNER",hint:"Person who wins.",tier:x.LEARNER},{word:"SECOND",hint:"Unit of time.",tier:x.LEARNER},{word:"MINUTE",hint:"Sixty seconds.",tier:x.LEARNER},{word:"NUMBER",hint:"Arithmetical value.",tier:x.LEARNER},{word:"LETTER",hint:"Character of alphabet.",tier:x.LEARNER},{word:"SYMBOL",hint:"Mark or character.",tier:x.LEARNER},{word:"REASON",hint:"Cause or explanation.",tier:x.LEARNER},{word:"RESULT",hint:"Outcome of an action.",tier:x.LEARNER},{word:"ANSWER",hint:"Response to a question.",tier:x.LEARNER},{word:"DANGER",hint:"Possibility of harm.",tier:x.LEARNER},{word:"SAFETY",hint:"Condition of being safe.",tier:x.LEARNER},{word:"HEALTH",hint:"State of being well.",tier:x.LEARNER},{word:"WEALTH",hint:"Abundance of money.",tier:x.LEARNER},{word:"GROWTH",hint:"Process of growing.",tier:x.LEARNER},{word:"CHANGE",hint:"Make different.",tier:x.LEARNER},{word:"CHANCE",hint:"Possibility of something happening.",tier:x.LEARNER},{word:"CHOICE",hint:"Act of selecting.",tier:x.LEARNER},{word:"VOICE",hint:"Sound from the mouth.",tier:x.LEARNER},{word:"NOISE",hint:"Unpleasant sound.",tier:x.LEARNER},{word:"GALAXY",hint:"System of millions of stars.",tier:x.SKILLED},{word:"ENERGY",hint:"Power derived from resources.",tier:x.SKILLED},{word:"SYSTEM",hint:"Set of connected things.",tier:x.SKILLED},{word:"THEORY",hint:"System of ideas to explain.",tier:x.SKILLED},{word:"MEMORY",hint:"Faculty of encoding info.",tier:x.SKILLED},{word:"FUTURE",hint:"Time that is yet to come.",tier:x.SKILLED},{word:"NATURE",hint:"Physical world and life.",tier:x.SKILLED},{word:"DESIGN",hint:"Plan or drawing of object.",tier:x.SKILLED},{word:"SOURCE",hint:"Place where something starts.",tier:x.SKILLED},{word:"PUBLIC",hint:"Concerning the people.",tier:x.SKILLED},{word:"ACTION",hint:"Process of doing something.",tier:x.SKILLED},{word:"METHOD",hint:"Procedure for accomplishing.",tier:x.SKILLED},{word:"POLICY",hint:"Course of action adopted.",tier:x.SKILLED},{word:"SERIES",hint:"Number of things in order.",tier:x.SKILLED},{word:"STATUS",hint:"Social or professional standing.",tier:x.SKILLED},{word:"VISION",hint:"Faculty or state of being able to see.",tier:x.SKILLED},{word:"VOLUME",hint:"Amount of space occupied.",tier:x.SKILLED},{word:"ACCESS",hint:"Means of approaching.",tier:x.SKILLED},{word:"ADVICE",hint:"Guidance or recommendations.",tier:x.SKILLED},{word:"AMOUNT",hint:"Quantity of something.",tier:x.SKILLED},{word:"ATTACK",hint:"Aggressive action.",tier:x.SKILLED},{word:"AUTHOR",hint:"Writer of a book.",tier:x.SKILLED},{word:"BASKET",hint:"Container used to hold or carry.",tier:x.SKILLED},{word:"BUDGET",hint:"Estimate of income and expenditure.",tier:x.SKILLED},{word:"BUTTON",hint:"Small disc to fasten clothes.",tier:x.SKILLED},{word:"CAMERA",hint:"Device for taking photos.",tier:x.SKILLED},{word:"CANYON",hint:"Deep gorge.",tier:x.SKILLED},{word:"CAREER",hint:"Occupation undertaken for life.",tier:x.SKILLED},{word:"CENTER",hint:"Middle point.",tier:x.SKILLED},{word:"CLIENT",hint:"Person using services.",tier:x.SKILLED},{word:"CLIMATE",hint:"Weather conditions.",tier:x.SKILLED},{word:"COFFEE",hint:"Hot drink from beans.",tier:x.SKILLED},{word:"COLUMN",hint:"Upright pillar.",tier:x.SKILLED},{word:"COMMON",hint:"Occurring often.",tier:x.SKILLED},{word:"COUNTY",hint:"Territorial division.",tier:x.SKILLED},{word:"COUPLE",hint:"Two people or things.",tier:x.SKILLED},{word:"COURSE",hint:"Direction or route.",tier:x.SKILLED},{word:"CREDIT",hint:"Ability to obtain goods.",tier:x.SKILLED},{word:"CUSTOM",hint:"Traditional way of behaving.",tier:x.SKILLED},{word:"DAMAGE",hint:"Physical harm.",tier:x.SKILLED},{word:"DEBATE",hint:"Formal discussion.",tier:x.SKILLED},{word:"DEGREE",hint:"Unit of measurement.",tier:x.SKILLED},{word:"DEVICE",hint:"Thing made for a purpose.",tier:x.SKILLED},{word:"DIET",hint:"Kinds of food eaten.",tier:x.SKILLED},{word:"DIRECT",hint:"Extending in a straight line.",tier:x.SKILLED},{word:"DOUBLE",hint:"Consisting of two parts.",tier:x.SKILLED},{word:"EDITOR",hint:"Person who edits.",tier:x.SKILLED},{word:"EFFECT",hint:"Change that is a result.",tier:x.SKILLED},{word:"EFFORT",hint:"Vigorous or determined attempt.",tier:x.SKILLED},{word:"ENGINE",hint:"Machine with moving parts.",tier:x.SKILLED},{word:"QUANTUM",hint:"Physics of discrete energy.",tier:x.EXPERT},{word:"PHYSICS",hint:"Study of matter and energy.",tier:x.EXPERT},{word:"BIOLOGY",hint:"Study of living organisms.",tier:x.EXPERT},{word:"CULTURE",hint:"Arts and social institutions.",tier:x.EXPERT},{word:"JUSTICE",hint:"Just behavior or treatment.",tier:x.EXPERT},{word:"LIBERTY",hint:"State of being free.",tier:x.EXPERT},{word:"ECONOMY",hint:"Wealth and resources of a region.",tier:x.EXPERT},{word:"SOCIETY",hint:"Aggregate of people living together.",tier:x.EXPERT},{word:"HISTORY",hint:"Study of past events.",tier:x.EXPERT},{word:"COMPLEX",hint:"Consisting of many parts.",tier:x.EXPERT},{word:"ACIDITY",hint:"Level of acid.",tier:x.EXPERT},{word:"ADDRESS",hint:"Particulars of place.",tier:x.EXPERT},{word:"AIRPORT",hint:"Complex for aircraft.",tier:x.EXPERT},{word:"ANALYST",hint:"Person who analyzes.",tier:x.EXPERT},{word:"ANXIETY",hint:"Feeling of worry.",tier:x.EXPERT},{word:"ARCHIVE",hint:"Collection of historical records.",tier:x.EXPERT},{word:"ARTICLE",hint:"Piece of writing.",tier:x.EXPERT},{word:"ASSAULT",hint:"Physical attack.",tier:x.EXPERT},{word:"AUCTION",hint:"Public sale.",tier:x.EXPERT},{word:"BALANCE",hint:"Even distribution of weight.",tier:x.EXPERT},{word:"BATTERY",hint:"Container for power.",tier:x.EXPERT},{word:"BLANKET",hint:"Large piece of woolen material.",tier:x.EXPERT},{word:"CABINET",hint:"Cupboard with shelves.",tier:x.EXPERT},{word:"CAPTAIN",hint:"Person in command.",tier:x.EXPERT},{word:"CENTURY",hint:"Period of one hundred years.",tier:x.EXPERT},{word:"CHAMBER",hint:"Large room.",tier:x.EXPERT},{word:"CHARITY",hint:"Voluntary giving of help.",tier:x.EXPERT},{word:"CHICKEN",hint:"Domestic fowl.",tier:x.EXPERT},{word:"CIRCUIT",hint:"Roughly circular line.",tier:x.EXPERT},{word:"CLASSES",hint:"Groups of students.",tier:x.EXPERT},{word:"CLUSTER",hint:"Group of similar things.",tier:x.EXPERT},{word:"COLLEGE",hint:"Educational institution.",tier:x.EXPERT},{word:"COMFORT",hint:"State of physical ease.",tier:x.EXPERT},{word:"COMMAND",hint:"Give an authoritative order.",tier:x.EXPERT},{word:"COMPANY",hint:"Commercial business.",tier:x.EXPERT},{word:"CONCEPT",hint:"Abstract idea.",tier:x.EXPERT},{word:"CONCERN",hint:"Anxiety; worry.",tier:x.EXPERT},{word:"CONCERT",hint:"Musical performance.",tier:x.EXPERT},{word:"CONDUCT",hint:"Manner in which person behaves.",tier:x.EXPERT},{word:"CONFIRM",hint:"Establish the truth.",tier:x.EXPERT},{word:"CONNECT",hint:"Bring together.",tier:x.EXPERT},{word:"CONSENT",hint:"Permission for something.",tier:x.EXPERT},{word:"CONSIST",hint:"Be composed or made up of.",tier:x.EXPERT},{word:"CONTACT",hint:"State of physical touching.",tier:x.EXPERT},{word:"CONTAIN",hint:"Have or hold within.",tier:x.EXPERT},{word:"CONTENT",hint:"State of satisfaction.",tier:x.EXPERT},{word:"CONTEST",hint:"Event where people compete.",tier:x.EXPERT},{word:"CONTEXT",hint:"Circumstances of an event.",tier:x.EXPERT},{word:"CONTROL",hint:"Power to influence.",tier:x.EXPERT},{word:"CONVERT",hint:"Change into different form.",tier:x.EXPERT},{word:"ZEPHYR",hint:"A soft gentle breeze.",tier:x.MASTER},{word:"QUARTZ",hint:"Hard mineral of silica.",tier:x.MASTER},{word:"VORTEX",hint:"Mass of whirling fluid.",tier:x.MASTER},{word:"CRYPTIC",hint:"Having a meaning that is mysterious.",tier:x.MASTER},{word:"JINXED",hint:"Bring bad luck to.",tier:x.MASTER},{word:"SPHINX",hint:"Mythical creature with riddles.",tier:x.MASTER},{word:"RHYTHM",hint:"Strong, regular repeated pattern.",tier:x.MASTER},{word:"OXYGEN",hint:"Life-supporting gas.",tier:x.MASTER},{word:"UNIQUE",hint:"Being the only one of its kind.",tier:x.MASTER},{word:"ZENITH",hint:"The time at which something is most powerful.",tier:x.MASTER},{word:"ABSOLUTE",hint:"Not qualified or diminished.",tier:x.MASTER},{word:"ABSTRACT",hint:"Existing in thought.",tier:x.MASTER},{word:"ACADEMIC",hint:"Relating to education.",tier:x.MASTER},{word:"ACCIDENT",hint:"Unfortunate incident.",tier:x.MASTER},{word:"ACCURACY",hint:"Quality of being correct.",tier:x.MASTER},{word:"ACTIVITY",hint:"Condition in which things are happening.",tier:x.MASTER},{word:"ADJACENT",hint:"Next to or adjoining.",tier:x.MASTER},{word:"ADVOCATE",hint:"Person who publicly supports.",tier:x.MASTER},{word:"AIRCRAFT",hint:"Machine capable of flight.",tier:x.MASTER},{word:"ALLIANCE",hint:"Union formed for mutual benefit.",tier:x.MASTER},{word:"ALUMINUM",hint:"Light silvery-gray metal.",tier:x.MASTER},{word:"AMBITION",hint:"Strong desire to do.",tier:x.MASTER},{word:"ANALYSIS",hint:"Detailed examination.",tier:x.MASTER},{word:"ANCESTOR",hint:"Person from whom one is descended.",tier:x.MASTER},{word:"ANYWHERE",hint:"In or to any place.",tier:x.MASTER},{word:"APPARENT",hint:"Clearly visible or understood.",tier:x.MASTER},{word:"APPENDIX",hint:"Supplementary material.",tier:x.MASTER},{word:"APPROACH",hint:"Come near or nearer to.",tier:x.MASTER},{word:"APPROVAL",hint:"Action of approving.",tier:x.MASTER},{word:"ARGUMENT",hint:"Exchange of diverging views.",tier:x.MASTER},{word:"ARTISTIC",hint:"Having natural creative skill.",tier:x.MASTER},{word:"ASSEMBLY",hint:"Group of people gathered.",tier:x.MASTER},{word:"ATHLETIC",hint:"Physically strong, fit.",tier:x.MASTER},{word:"ATTITUDE",hint:"Settled way of thinking.",tier:x.MASTER},{word:"ATTORNEY",hint:"Person appointed to act for another.",tier:x.MASTER},{word:"AUDIENCE",hint:"Assembled spectators.",tier:x.MASTER},{word:"BACKWARD",hint:"Directed behind.",tier:x.MASTER},{word:"BACTERIA",hint:"Microscopic organisms.",tier:x.MASTER},{word:"BASEBALL",hint:"Ball game played with bat.",tier:x.MASTER},{word:"BASEMENT",hint:"Floor of a building below ground.",tier:x.MASTER},{word:"BATHROOM",hint:"Room with toilet and bath.",tier:x.MASTER},{word:"BECOMING",hint:"Process of coming to be.",tier:x.MASTER},{word:"BEHAVIOR",hint:"Way in which one acts.",tier:x.MASTER},{word:"BIRTHDAY",hint:"Anniversary of birth.",tier:x.MASTER},{word:"BOUNDARY",hint:"Line that marks limits.",tier:x.MASTER},{word:"BUILDING",hint:"Structure with roof and walls.",tier:x.MASTER},{word:"BUSINESS",hint:"Person's regular occupation.",tier:x.MASTER},{word:"CALENDAR",hint:"Chart showing days.",tier:x.MASTER},{word:"CAMPAIGN",hint:"Series of military operations.",tier:x.MASTER},{word:"CAPACITY",hint:"Maximum amount that can be contained.",tier:x.MASTER}],Lk=[{word:"APFEL",hint:"Ein beliebtes Kernobst.",tier:x.BEGINNER},{word:"HAUS",hint:"Gebude zum Wohnen.",tier:x.BEGINNER},{word:"KATZE",hint:"Beliebtes Haustier.",tier:x.BEGINNER},{word:"BLUME",hint:"Pflanze mit Blten.",tier:x.BEGINNER},{word:"SONNE",hint:"Stern unseres Systems.",tier:x.BEGINNER},{word:"MILCH",hint:"Weie Flssigkeit.",tier:x.BEGINNER},{word:"STUHL",hint:"Mbel zum Sitzen.",tier:x.BEGINNER},{word:"TISCH",hint:"Mbel mit Platte.",tier:x.BEGINNER},{word:"VOGEL",hint:"Tier mit Federn.",tier:x.BEGINNER},{word:"FARBE",hint:"Eigenschaft des Lichts.",tier:x.BEGINNER},{word:"BAUM",hint:"Groe Pflanze mit Stamm.",tier:x.BEGINNER},{word:"BUCH",hint:"Seiten zum Lesen.",tier:x.BEGINNER},{word:"BROT",hint:"Gebackenes Nahrungsmittel.",tier:x.BEGINNER},{word:"FISCH",hint:"Tier im Wasser.",tier:x.BEGINNER},{word:"GELD",hint:"Zahlungsmittel.",tier:x.BEGINNER},{word:"GLAS",hint:"Durchsichtiges Material.",tier:x.BEGINNER},{word:"GRAS",hint:"Grne Pflanze am Boden.",tier:x.BEGINNER},{word:"HAND",hint:"Krperteil zum Greifen.",tier:x.BEGINNER},{word:"HERZ",hint:"Organ fr Blutkreislauf.",tier:x.BEGINNER},{word:"HUND",hint:"Bester Freund des Menschen.",tier:x.BEGINNER},{word:"INSEL",hint:"Land im Wasser.",tier:x.BEGINNER},{word:"KIND",hint:"Junger Mensch.",tier:x.BEGINNER},{word:"KOPF",hint:"Oberster Krperteil.",tier:x.BEGINNER},{word:"LAMPE",hint:"Spendet Licht.",tier:x.BEGINNER},{word:"LICHT",hint:"Gegenteil von Dunkelheit.",tier:x.BEGINNER},{word:"LIED",hint:"Gesungenes Musikstck.",tier:x.BEGINNER},{word:"MAUS",hint:"Kleines Nagetier.",tier:x.BEGINNER},{word:"MOND",hint:"Trabant der Erde.",tier:x.BEGINNER},{word:"NACHT",hint:"Zeit der Dunkelheit.",tier:x.BEGINNER},{word:"NASE",hint:"Riechorgan.",tier:x.BEGINNER},{word:"OBST",hint:"Frchte zum Essen.",tier:x.BEGINNER},{word:"OFEN",hint:"Gert zum Backen.",tier:x.BEGINNER},{word:"PARK",hint:"Grnanlage in der Stadt.",tier:x.BEGINNER},{word:"PFERD",hint:"Reittier.",tier:x.BEGINNER},{word:"PILZ",hint:"Wchst im Wald.",tier:x.BEGINNER},{word:"RING",hint:"Schmuck fr den Finger.",tier:x.BEGINNER},{word:"ROSE",hint:"Blume mit Dornen.",tier:x.BEGINNER},{word:"SALZ",hint:"Gewrz, wei.",tier:x.BEGINNER},{word:"SCHUH",hint:"Kleidung fr den Fu.",tier:x.BEGINNER},{word:"SEIFE",hint:"Zum Waschen.",tier:x.BEGINNER},{word:"SOFA",hint:"Bequemes Sitzmbel.",tier:x.BEGINNER},{word:"STADT",hint:"Groe Siedlung.",tier:x.BEGINNER},{word:"STERN",hint:"Leuchtet am Nachthimmel.",tier:x.BEGINNER},{word:"TAG",hint:"Zeit des Lichts.",tier:x.BEGINNER},{word:"TANTE",hint:"Schwester der Mutter.",tier:x.BEGINNER},{word:"UHR",hint:"Zeigt die Zeit an.",tier:x.BEGINNER},{word:"VATER",hint:"Mnnliches Elternteil.",tier:x.BEGINNER},{word:"WALD",hint:"Viele Bume.",tier:x.BEGINNER},{word:"WAND",hint:"Teil eines Raumes.",tier:x.BEGINNER},{word:"WEG",hint:"Pfad zum Gehen.",tier:x.BEGINNER},{word:"SCHULE",hint:"Ort zum Lernen.",tier:x.LEARNER},{word:"STRASSE",hint:"Weg fr Fahrzeuge.",tier:x.LEARNER},{word:"FREUND",hint:"Nahestehende Person.",tier:x.LEARNER},{word:"URLAUB",hint:"Freie Zeit zur Erholung.",tier:x.LEARNER},{word:"WINTER",hint:"Die klteste Jahreszeit.",tier:x.LEARNER},{word:"GARTEN",hint:"Kultiviertes Stck Land.",tier:x.LEARNER},{word:"ZIMMER",hint:"Raum in einem Haus.",tier:x.LEARNER},{word:"WASSER",hint:"Klare Flssigkeit H2O.",tier:x.LEARNER},{word:"HIMMEL",hint:"Gewlbe ber der Erde.",tier:x.LEARNER},{word:"BRUDER",hint:"Mnnliches Geschwister.",tier:x.LEARNER},{word:"ABEND",hint:"Ende des Tages.",tier:x.LEARNER},{word:"AMPEL",hint:"Verkehrszeichen mit Licht.",tier:x.LEARNER},{word:"ANGST",hint:"Gefhl der Bedrohung.",tier:x.LEARNER},{word:"ARBEIT",hint:"Ttigkeit gegen Lohn.",tier:x.LEARNER},{word:"AUGEN",hint:"Sehorgane.",tier:x.LEARNER},{word:"AUTO",hint:"Kraftfahrzeug.",tier:x.LEARNER},{word:"BADEN",hint:"Im Wasser waschen.",tier:x.LEARNER},{word:"BANANE",hint:"Gelbe, krumme Frucht.",tier:x.LEARNER},{word:"BERUF",hint:"Erlernte Ttigkeit.",tier:x.LEARNER},{word:"BILD",hint:"Gemlde oder Foto.",tier:x.LEARNER},{word:"BLATT",hint:"Teil einer Pflanze.",tier:x.LEARNER},{word:"BLAU",hint:"Farbe des Himmels.",tier:x.LEARNER},{word:"BRIEF",hint:"Schriftliche Nachricht.",tier:x.LEARNER},{word:"BRILLE",hint:"Sehhilfe.",tier:x.LEARNER},{word:"DACH",hint:"Oberster Teil des Hauses.",tier:x.LEARNER},{word:"DANKE",hint:"Wort des Dankes.",tier:x.LEARNER},{word:"DATUM",hint:"Kalenderangabe.",tier:x.LEARNER},{word:"DAUER",hint:"Zeitspanne.",tier:x.LEARNER},{word:"DECKE",hint:"Wrmt im Bett.",tier:x.LEARNER},{word:"DORF",hint:"Kleine Siedlung.",tier:x.LEARNER},{word:"DURST",hint:"Verlangen zu trinken.",tier:x.LEARNER},{word:"ELTERN",hint:"Vater und Mutter.",tier:x.LEARNER},{word:"ENDE",hint:"Schluss von etwas.",tier:x.LEARNER},{word:"ERDE",hint:"Unser Planet.",tier:x.LEARNER},{word:"ESSEN",hint:"Nahrung aufnehmen.",tier:x.LEARNER},{word:"EULE",hint:"Nachtaktiver Vogel.",tier:x.LEARNER},{word:"FAHRT",hint:"Reise mit Fahrzeug.",tier:x.LEARNER},{word:"FALL",hint:"Sturz nach unten.",tier:x.LEARNER},{word:"FEUER",hint:"Hei und leuchtend.",tier:x.LEARNER},{word:"FILM",hint:"Bewegte Bilder.",tier:x.LEARNER},{word:"FLUSS",hint:"Flieendes Gewsser.",tier:x.LEARNER},{word:"FRAGE",hint:"Verlangt eine Antwort.",tier:x.LEARNER},{word:"FRAU",hint:"Weiblicher Mensch.",tier:x.LEARNER},{word:"GABEL",hint:"Besteck zum Aufspieen.",tier:x.LEARNER},{word:"GAST",hint:"Besucher.",tier:x.LEARNER},{word:"GEBEN",hint:"Jemandem etwas reichen.",tier:x.LEARNER},{word:"GEHEN",hint:"Sich zu Fu bewegen.",tier:x.LEARNER},{word:"GRUEN",hint:"Farbe der Hoffnung.",tier:x.LEARNER},{word:"HAARE",hint:"Wachsen auf dem Kopf.",tier:x.LEARNER},{word:"HALLO",hint:"Gruwort.",tier:x.LEARNER},{word:"ENERGIE",hint:"Fhigkeit, Arbeit zu verrichten.",tier:x.SKILLED},{word:"SYSTEM",hint:"Geordnetes Ganzes.",tier:x.SKILLED},{word:"PLANET",hint:"Himmelskrper im Orbit.",tier:x.SKILLED},{word:"KULTUR",hint:"Gesamtheit der geistigen Gter.",tier:x.SKILLED},{word:"GESETZ",hint:"Rechtliche Vorschrift.",tier:x.SKILLED},{word:"WISSEN",hint:"Kenntnis von Fakten.",tier:x.SKILLED},{word:"GLUECK",hint:"Zustand der Zufriedenheit.",tier:x.SKILLED},{word:"TRAUM",hint:"Erlebnis im Schlaf.",tier:x.SKILLED},{word:"MUSIK",hint:"Kunst der Tne.",tier:x.SKILLED},{word:"NATUR",hint:"Alles nicht vom Menschen Geschaffene.",tier:x.SKILLED},{word:"ABLAUF",hint:"Reihenfolge von Ereignissen.",tier:x.SKILLED},{word:"ABSATZ",hint:"Teil eines Textes.",tier:x.SKILLED},{word:"ABSICHT",hint:"Gewolltes Ziel.",tier:x.SKILLED},{word:"ACHTUNG",hint:"Respekt oder Vorsicht.",tier:x.SKILLED},{word:"AKTION",hint:"Handlung oder Tat.",tier:x.SKILLED},{word:"ALLTAG",hint:"Gewohnter Tagesablauf.",tier:x.SKILLED},{word:"ANFANG",hint:"Beginn von etwas.",tier:x.SKILLED},{word:"ANGEBOT",hint:"Vorschlag zum Kauf.",tier:x.SKILLED},{word:"ANLAGE",hint:"Investition oder Park.",tier:x.SKILLED},{word:"ANRUF",hint:"Telefonat.",tier:x.SKILLED},{word:"ANSATZ",hint:"Herangehensweise.",tier:x.SKILLED},{word:"ANWALT",hint:"Rechtsbeistand.",tier:x.SKILLED},{word:"ANZAHL",hint:"Menge.",tier:x.SKILLED},{word:"ARBEIT",hint:"Berufliche Ttigkeit.",tier:x.SKILLED},{word:"ARMUT",hint:"Mangel an Geld.",tier:x.SKILLED},{word:"ARTIKEL",hint:"Wortart oder Zeitungsbericht.",tier:x.SKILLED},{word:"AUFBAU",hint:"Struktur oder Konstruktion.",tier:x.SKILLED},{word:"AUFGABE",hint:"Zu erledigende Arbeit.",tier:x.SKILLED},{word:"AUFTRAG",hint:"Bestellung einer Leistung.",tier:x.SKILLED},{word:"AUSGABE",hint:"Kosten oder Edition.",tier:x.SKILLED},{word:"AUSSAGE",hint:"Behauptung oder Statement.",tier:x.SKILLED},{word:"AUSWAHL",hint:"Selektion.",tier:x.SKILLED},{word:"BAHNHOF",hint:"Station fr Zge.",tier:x.SKILLED},{word:"BANKER",hint:"Arbeitet mit Geld.",tier:x.SKILLED},{word:"BAUER",hint:"Landwirt.",tier:x.SKILLED},{word:"BEAMTE",hint:"Staatsdiener.",tier:x.SKILLED},{word:"BEDARF",hint:"Notwendigkeit.",tier:x.SKILLED},{word:"BEGINN",hint:"Start.",tier:x.SKILLED},{word:"BEGRIFF",hint:"Wort oder Konzept.",tier:x.SKILLED},{word:"BEITRAG",hint:"Spende oder Artikel.",tier:x.SKILLED},{word:"BERICHT",hint:"Schilderung von Ereignissen.",tier:x.SKILLED},{word:"BETRAG",hint:"Geldsumme.",tier:x.SKILLED},{word:"BETRIEB",hint:"Firma oder Unternehmen.",tier:x.SKILLED},{word:"BEWEIS",hint:"Beleg fr Wahrheit.",tier:x.SKILLED},{word:"BILANZ",hint:"Gegenberstellung von Werten.",tier:x.SKILLED},{word:"BILDUNG",hint:"Schulung und Wissen.",tier:x.SKILLED},{word:"BINDUNG",hint:"Zusammenhalt.",tier:x.SKILLED},{word:"BITTE",hint:"Hfliches Ersuchen.",tier:x.SKILLED},{word:"BLICK",hint:"Augenaufschlag.",tier:x.SKILLED},{word:"BODEN",hint:"Untergrund.",tier:x.SKILLED},{word:"FREIHEIT",hint:"Zustand der Unabhngigkeit.",tier:x.EXPERT},{word:"GERECHT",hint:"Fair und unparteiisch.",tier:x.EXPERT},{word:"BIOLOGIE",hint:"Lehre vom Leben.",tier:x.EXPERT},{word:"THEORIE",hint:"Wissenschaftliches Modell.",tier:x.EXPERT},{word:"ZUKUNFT",hint:"Die kommende Zeit.",tier:x.EXPERT},{word:"PROZESS",hint:"Ablauf oder Vorgang.",tier:x.EXPERT},{word:"STRUKTUR",hint:"Innerer Aufbau.",tier:x.EXPERT},{word:"KONZEPT",hint:"Plan oder Entwurf.",tier:x.EXPERT},{word:"POLITIK",hint:"Staatskunst.",tier:x.EXPERT},{word:"WIRTSCHAFT",hint:"konomisches System.",tier:x.EXPERT},{word:"ABKOMMEN",hint:"Vertrag oder Vereinbarung.",tier:x.EXPERT},{word:"ABSCHIED",hint:"Trennung von Personen.",tier:x.EXPERT},{word:"ABSCHLUSS",hint:"Ende oder Examen.",tier:x.EXPERT},{word:"ABSTAND",hint:"Distanz.",tier:x.EXPERT},{word:"ABTEILUNG",hint:"Sektor einer Firma.",tier:x.EXPERT},{word:"ADRESSE",hint:"Wohnortangabe.",tier:x.EXPERT},{word:"AGENTUR",hint:"Dienstleistungsfirma.",tier:x.EXPERT},{word:"AKTIVITAET",hint:"Ttigkeit.",tier:x.EXPERT},{word:"ALKOHOL",hint:"Berauschende Flssigkeit.",tier:x.EXPERT},{word:"ALLIANZ",hint:"Bndnis.",tier:x.EXPERT},{word:"ANALYSE",hint:"Untersuchung.",tier:x.EXPERT},{word:"ANBIETER",hint:"Verkufer einer Leistung.",tier:x.EXPERT},{word:"ANGEBOT",hint:"Offerte.",tier:x.EXPERT},{word:"ANGRIFF",hint:"Attacke.",tier:x.EXPERT},{word:"ANHANG",hint:"Beigefgtes Dokument.",tier:x.EXPERT},{word:"ANLASS",hint:"Grund oder Gelegenheit.",tier:x.EXPERT},{word:"ANMELDUNG",hint:"Registrierung.",tier:x.EXPERT},{word:"ANSPRUCH",hint:"Forderung oder Recht.",tier:x.EXPERT},{word:"ANSTALT",hint:"Institution.",tier:x.EXPERT},{word:"ANTEIL",hint:"Part oder Stck.",tier:x.EXPERT},{word:"ANTRAG",hint:"Gesuch.",tier:x.EXPERT},{word:"ANTWORT",hint:"Reaktion auf Frage.",tier:x.EXPERT},{word:"ANZEIGE",hint:"Inserat oder Meldung.",tier:x.EXPERT},{word:"APOTHEKE",hint:"Verkauft Medikamente.",tier:x.EXPERT},{word:"APPARAT",hint:"Gert oder Maschine.",tier:x.EXPERT},{word:"ARGUMENT",hint:"Beweisgrund.",tier:x.EXPERT},{word:"ASPEKT",hint:"Gesichtspunkt.",tier:x.EXPERT},{word:"ATEMZUG",hint:"Luftholen.",tier:x.EXPERT},{word:"AUFGABE",hint:"Mission.",tier:x.EXPERT},{word:"AUFLAGE",hint:"Anzahl gedruckter Exemplare.",tier:x.EXPERT},{word:"AUFNAHME",hint:"Foto oder Empfang.",tier:x.EXPERT},{word:"AUFRUF",hint:"Appell.",tier:x.EXPERT},{word:"AUFSTIEG",hint:"Weg nach oben.",tier:x.EXPERT},{word:"AUFTRITT",hint:"Darbietung auf Bhne.",tier:x.EXPERT},{word:"AUFWAND",hint:"Einsatz von Mitteln.",tier:x.EXPERT},{word:"AUGENBLICK",hint:"Kurzer Moment.",tier:x.EXPERT},{word:"AUSDRUCK",hint:"Formulierung oder Print.",tier:x.EXPERT},{word:"AUSFLUG",hint:"Kurze Reise.",tier:x.EXPERT},{word:"AUSGANG",hint:"Weg nach drauen.",tier:x.EXPERT},{word:"AUSKUNFT",hint:"Information.",tier:x.EXPERT},{word:"PHYSIK",hint:"Lehre von Materie.",tier:x.MASTER},{word:"ZYKLUS",hint:"Kreislauf.",tier:x.MASTER},{word:"SPHAERE",hint:"Kugel oder Bereich.",tier:x.MASTER},{word:"MYSTIK",hint:"Geheimnisvolle Lehre.",tier:x.MASTER},{word:"RHYTHMUS",hint:"Gleichmige Wiederkehr.",tier:x.MASTER},{word:"QUARZ",hint:"Hufiges Mineral.",tier:x.MASTER},{word:"VORTEX",hint:"Wirbelstrmung.",tier:x.MASTER},{word:"ZENIT",hint:"Hchster Punkt.",tier:x.MASTER},{word:"UNIKAT",hint:"Einzigartiges Stck.",tier:x.MASTER},{word:"KOSMOS",hint:"Das Weltall.",tier:x.MASTER},{word:"ABENTEUER",hint:"Spannendes Erlebnis.",tier:x.MASTER},{word:"ABNEIGUNG",hint:"Widerwille.",tier:x.MASTER},{word:"ABSCHNITT",hint:"Teil eines Ganzen.",tier:x.MASTER},{word:"ABSOLVENT",hint:"Jemand der fertig studiert hat.",tier:x.MASTER},{word:"ABSTIEG",hint:"Weg nach unten.",tier:x.MASTER},{word:"ABTEILUNG",hint:"Sektion.",tier:x.MASTER},{word:"ABWECHSLUNG",hint:"Vernderung.",tier:x.MASTER},{word:"ABWESENHEIT",hint:"Nicht da sein.",tier:x.MASTER},{word:"ACHTUNG",hint:"Vorsicht.",tier:x.MASTER},{word:"AEHNLICHKEIT",hint:"Gleichheit in Merkmalen.",tier:x.MASTER},{word:"AENDERUNG",hint:"Modifikation.",tier:x.MASTER},{word:"AERGERNIS",hint:"Grund zur Verrgerung.",tier:x.MASTER},{word:"AGGRESSION",hint:"Angriffslust.",tier:x.MASTER},{word:"AKTIVITAET",hint:"Tatendrang.",tier:x.MASTER},{word:"AKTUALITAET",hint:"Neuheit.",tier:x.MASTER},{word:"AKZEPTANZ",hint:"Annahme.",tier:x.MASTER},{word:"ALBTRAUM",hint:"Schlechter Traum.",tier:x.MASTER},{word:"ALLERGIE",hint:"berempfindlichkeit.",tier:x.MASTER},{word:"ALLGEMEIN",hint:"Generell.",tier:x.MASTER},{word:"ALPHABET",hint:"Buchstabenfolge.",tier:x.MASTER},{word:"ALTERNATIVE",hint:"Andere Mglichkeit.",tier:x.MASTER},{word:"ALTERTUM",hint:"Antike Zeit.",tier:x.MASTER},{word:"AMBIENTE",hint:"Umgebung/Atmosphre.",tier:x.MASTER},{word:"AMBITION",hint:"Ehrgeiz.",tier:x.MASTER},{word:"AMBULANZ",hint:"Notfallaufnahme.",tier:x.MASTER},{word:"ANALYSE",hint:"Zerlegung.",tier:x.MASTER},{word:"ANATOMIE",hint:"Krperbaulehre.",tier:x.MASTER},{word:"ANBLICK",hint:"Ansicht.",tier:x.MASTER},{word:"ANDENKEN",hint:"Souvenir.",tier:x.MASTER},{word:"ANEKDOTE",hint:"Kurze Geschichte.",tier:x.MASTER},{word:"ANERKENNUNG",hint:"Lob oder Besttigung.",tier:x.MASTER},{word:"ANFORDERUNG",hint:"Voraussetzung.",tier:x.MASTER},{word:"ANGEHOERIGE",hint:"Verwandte.",tier:x.MASTER},{word:"ANGELEGENHEIT",hint:"Sache oder Ding.",tier:x.MASTER},{word:"ANGESTELLTE",hint:"Arbeitnehmer.",tier:x.MASTER},{word:"ANGEWOHNHEIT",hint:"Routine.",tier:x.MASTER},{word:"ANHAENGER",hint:"Fan oder Wagen.",tier:x.MASTER},{word:"ANLEITUNG",hint:"Instruktion.",tier:x.MASTER},{word:"ANLIEGEN",hint:"Wunsch oder Bitte.",tier:x.MASTER},{word:"ANMUTUNG",hint:"Eindruck.",tier:x.MASTER}],gN=[["RAIN","BOW"],["SUN","LIGHT"],["FIRE","WORK"],["SNOW","BALL"],["KEY","BOARD"],["TIME","OUT"],["DOOR","BELL"],["PAN","CAKE"],["CUP","CAKE"],["EAR","RING"],["BACK","PACK"],["BASE","BALL"],["BASKET","BALL"],["BED","ROOM"],["BIRTH","DAY"],["BLACK","BERRY"],["BLUE","BERRY"],["BOOK","SHELF"],["BUTTER","FLY"],["CAMP","FIRE"],["CANDLE","LIGHT"],["CARD","BOARD"],["CLASS","ROOM"],["COW","BOY"],["CROSS","WORD"],["DAY","LIGHT"],["DRAGON","FLY"],["EYE","BALL"],["EYE","LID"],["FARM","HOUSE"],["FIRE","MAN"],["FIRE","PLACE"],["FISH","BOWL"],["FOOT","BALL"],["FOOT","PRINT"],["GOLDFISH","BOWL"],["GRAND","FATHER"],["GRAND","MOTHER"],["GRASS","HOPPER"],["HAIR","CUT"],["HAND","BAG"],["HEAD","ACHE"],["HEAD","PHONE"],["HIGH","WAY"],["HOME","WORK"],["HONEY","BEE"],["HOT","DOG"],["HOUSE","WORK"],["ICE","CREAM"],["JELLY","FISH"],["LADY","BUG"],["LAP","TOP"],["LIFE","BOAT"],["LIGHT","HOUSE"],["MAIL","BOX"],["MILK","SHAKE"],["MOON","LIGHT"],["MOTOR","CYCLE"],["NECK","LACE"],["NEWS","PAPER"],["NIGHT","MARE"],["NOTE","BOOK"],["OVER","COAT"],["PAN","CAKE"],["PASS","PORT"],["PEA","NUT"],["PINE","APPLE"],["PLAY","GROUND"],["POLICE","MAN"],["POP","CORN"],["RAIN","COAT"],["RAIN","DROP"],["RIVER","BANK"],["ROCKET","SHIP"],["SAND","BOX"],["SEA","FOOD"],["SEA","SHELL"],["SHOELACE","KNOT"],["SIDE","WALK"],["SKATE","BOARD"],["SNOW","MAN"],["SOFT","WARE"],["SPACE","SHIP"],["STAR","FISH"],["STRAW","BERRY"],["SUN","FLOWER"],["SUN","GLASSES"],["SUPER","MAN"],["TABLE","CLOTH"],["TEA","POT"],["TOOTH","BRUSH"],["TOOTH","PASTE"],["WALL","PAPER"],["WATER","MELON"],["WEEK","END"]],EN=[["AUTO","BAHN"],["HAND","SCHUH"],["FLUG","ZEUG"],["KHL","SCHRANK"],["SCHREIB","TISCH"],["BAUM","HAUS"],["WASSER","FALL"],["REGEN","BOGEN"],["SONNEN","LICHT"],["FEUER","WEHR"],["ABEND","BROT"],["APFEL","SAFT"],["AUGEN","ARZT"],["BADE","WANNE"],["BAHN","HOF"],["BALL","SPIEL"],["BAU","STELLE"],["BERG","STEIGER"],["BETT","DECKE"],["BIER","GARTEN"],["BILDER","RAHMEN"],["BLUMEN","TOPF"],["BRIEF","KASTEN"],["BROT","ZEIT"],["BUCH","STABE"],["BRO","STUHL"],["BUS","HALTESTELLE"],["COMPUTER","SPIEL"],["DACH","BODEN"],["DAMPF","SCHIFF"],["DONNER","WETTER"],["DUSCH","GEL"],["EI","GELB"],["EIS","BR"],["ERD","BEERE"],["FAHR","RAD"],["FERN","SEHER"],["FEUER","ZEUG"],["FINGER","NAGEL"],["FISCH","STBCHEN"],["FLASCHEN","HALS"],["FUSS","BALL"],["GARTEN","ZAUN"],["GAST","HAUS"],["GELD","BEUTEL"],["GESCHENK","PAPIER"],["GLAS","SCHEIBE"],["GLH","BIRNE"],["GOLD","FISCH"],["GRAS","HALM"],["HAAR","BRSTE"],["HALS","KETTE"],["HAND","TUCH"],["HAUS","TR"],["HEIM","WEH"],["HERBST","LAUB"],["HIMBEER","SAFT"],["HOSEN","TASCHE"],["HUND","HTTE"],["KAFFEE","KANNE"],["KINDER","GARTEN"],["KINO","FILM"],["KLEIDER","SCHRANK"],["KOCH","TOPF"],["KOPF","HRER"],["KRANKEN","HAUS"],["KCHEN","TISCH"],["KUH","MILCH"],["LAND","KARTE"],["LAST","WAGEN"],["LEBENS","MITTEL"],["LEHR","ER"],["LICHT","SCHALTER"],["LIEDER","BUCH"],["LUFT","BALLON"],["MAUS","PAD"],["MEER","SCHWEINCHEN"],["MILCH","ZAHN"],["MITTAG","ESSEN"],["MOND","SCHEIN"],["MLL","EIMER"],["NACHT","HEMD"],["NAGEL","LACK"],["NASE","BR"],["OBST","SALAT"],["OHR","RING"],["PAPIER","KORB"],["PFANN","KUCHEN"],["PFERDE","SCHWANZ"],["PILZ","SUPPE"],["PIZZA","BCKER"],["POST","KARTE"],["PUPPEN","HAUS"],["REGEN","SCHIRM"],["REISE","KOFFER"],["RENN","AUTO"],["RUCKSACK","TOURIST"],["SAFT","GLAS"],["SALZ","STANGE"],["SAND","KASTEN"],["SCHAF","KSE"],["SCHIFF","FAHRT"],["SCHLAF","ZIMMER"],["SCHLSSEL","BUND"],["SCHNEE","MANN"],["SCHOKO","LADE"],["SCHUL","TASCHE"],["SCHWEINE","BRATEN"],["SEE","PFERDCHEN"],["SEIFEN","BLASE"],["SOMMER","FERIEN"],["SONNEN","BRILLE"],["SPIEL","PLATZ"],["SPORT","PLATZ"],["STADT","MITTE"],["STERN","SCHNUPPE"],["STRASSEN","BAHN"],["SUPPEN","LFFEL"],["TASCHEN","LAMPE"],["TEE","KANNE"],["TELEFON","BUCH"],["TENNIS","BALL"],["TEPPICH","BODEN"],["TIER","ARZT"],["TISCH","DECKE"],["TOMATEN","SAFT"],["TOR","WART"],["TRAUM","SCHIFF"],["TRINK","WASSER"],["TURN","SCHUH"],["UHR","ZEIT"],["URLAUBS","ZIEL"],["VATER","TAG"],["VOGEL","NEST"],["WAND","UHR"],["WASCH","MASCHINE"],["WASSER","HAHN"],["WEIHNACHTS","MANN"],["WEIN","GLAS"],["WELT","RAUM"],["WERK","ZEUG"],["WETTER","BERICHT"],["WINTER","MANTEL"],["WOHN","ZIMMER"],["WORT","SCHATZ"],["ZAHN","BRSTE"],["ZEIT","UNG"],["ZITRONEN","SAFT"],["ZOO","TIER"],["ZUCKER","WRFEL"]],Ok={SPACE:["MARS","MOON","STAR","SUN","ORBIT"],FOOD:["APPLE","BREAD","CAKE","PIZZA","SOUP"],TECH:["CODE","DATA","WIFI","BYTE","LINK"]},kk={WELTRAUM:["MOND","MARS","STERN","SONNE","KOMET"],ESSEN:["APFEL","BROT","KUCHEN","PIZZA","SUPPE"],TECHNIK:["CODE","DATEN","WLAN","LINK","CHIP"]},jk=[{word:"CASA",hint:"Lugar donde vives.",tier:x.BEGINNER},{word:"PERRO",hint:"Mejor amigo del hombre.",tier:x.BEGINNER},{word:"GATO",hint:"Felino domstico.",tier:x.BEGINNER},{word:"AGUA",hint:"Lquido vital.",tier:x.BEGINNER},{word:"PAN",hint:"Alimento bsico.",tier:x.BEGINNER},{word:"SOL",hint:"Estrella del sistema solar.",tier:x.BEGINNER},{word:"LUNA",hint:"Satlite de la Tierra.",tier:x.BEGINNER},{word:"FLOR",hint:"Parte colorida de una planta.",tier:x.BEGINNER},{word:"ROJO",hint:"Color de la sangre.",tier:x.BEGINNER},{word:"MANO",hint:"Parte del cuerpo con dedos.",tier:x.BEGINNER},{word:"PIE",hint:"Parte del cuerpo para caminar.",tier:x.BEGINNER},{word:"OJO",hint:"rgano de la vista.",tier:x.BEGINNER},{word:"MAR",hint:"Masa de agua salada.",tier:x.BEGINNER},{word:"SAL",hint:"Condimento blanco.",tier:x.BEGINNER},{word:"LUZ",hint:"Ilumina la oscuridad.",tier:x.BEGINNER},{word:"DIA",hint:"Tiempo de luz.",tier:x.BEGINNER},{word:"MES",hint:"Parte de un ao.",tier:x.BEGINNER},{word:"DOS",hint:"Nmero despus del uno.",tier:x.BEGINNER},{word:"TRES",hint:"Nmero despus del dos.",tier:x.BEGINNER},{word:"UNO",hint:"Primer nmero.",tier:x.BEGINNER},{word:"OLA",hint:"Movimiento del mar.",tier:x.BEGINNER},{word:"REY",hint:"Gobernante monrquico.",tier:x.BEGINNER},{word:"SUR",hint:"Punto cardinal.",tier:x.BEGINNER},{word:"LECHE",hint:"Bebida blanca.",tier:x.BEGINNER},{word:"MESA",hint:"Mueble con patas.",tier:x.BEGINNER},{word:"LIBRO",hint:"Conjunto de hojas escritas.",tier:x.LEARNER},{word:"SILLA",hint:"Asiento con respaldo.",tier:x.LEARNER},{word:"COCHE",hint:"Vehculo de cuatro ruedas.",tier:x.LEARNER},{word:"ARBOL",hint:"Planta grande con tronco.",tier:x.LEARNER},{word:"VERDE",hint:"Color de la hierba.",tier:x.LEARNER},{word:"PADRE",hint:"Progenitor masculino.",tier:x.LEARNER},{word:"MADRE",hint:"Progenitora femenina.",tier:x.LEARNER},{word:"PLAYA",hint:"Costa con arena.",tier:x.LEARNER},{word:"NOCHE",hint:"Tiempo de oscuridad.",tier:x.LEARNER},{word:"TARDE",hint:"Despus del medioda.",tier:x.LEARNER},{word:"MUNDO",hint:"Planeta Tierra.",tier:x.LEARNER},{word:"CIELO",hint:"Espacio sobre la tierra.",tier:x.LEARNER},{word:"VIAJE",hint:"Desplazamiento a otro lugar.",tier:x.LEARNER},{word:"CAMPO",hint:"Terreno fuera de la ciudad.",tier:x.LEARNER},{word:"CIUDAD",hint:"Poblacin grande.",tier:x.LEARNER},{word:"PAPEL",hint:"Material para escribir.",tier:x.LEARNER},{word:"LAPIZ",hint:"Utensilio para escribir.",tier:x.LEARNER},{word:"CLASE",hint:"Grupo de alumnos.",tier:x.LEARNER},{word:"AMIGO",hint:"Persona cercana.",tier:x.LEARNER},{word:"FELIZ",hint:"Estado de alegra.",tier:x.LEARNER},{word:"TRISTE",hint:"Estado de pena.",tier:x.LEARNER},{word:"JUEGO",hint:"Actividad divertida.",tier:x.LEARNER},{word:"CARTA",hint:"Mensaje escrito.",tier:x.LEARNER},{word:"QUESO",hint:"Alimento lcteo.",tier:x.LEARNER},{word:"RELOJ",hint:"Marca el tiempo.",tier:x.LEARNER},{word:"TIEMPO",hint:"Duracin de las cosas.",tier:x.SKILLED},{word:"DINERO",hint:"Moneda de cambio.",tier:x.SKILLED},{word:"CAMINO",hint:"Va para transitar.",tier:x.SKILLED},{word:"FUERZA",hint:"Capacidad fsica.",tier:x.SKILLED},{word:"MENTE",hint:"Facultad intelectual.",tier:x.SKILLED},{word:"SALUD",hint:"Estado de bienestar.",tier:x.SKILLED},{word:"COMIDA",hint:"Alimento.",tier:x.SKILLED},{word:"MUSICA",hint:"Arte de los sonidos.",tier:x.SKILLED},{word:"JARDIN",hint:"Terreno con plantas.",tier:x.SKILLED},{word:"DOCTOR",hint:"Mdico.",tier:x.SKILLED},{word:"ESCUELA",hint:"Lugar de enseanza.",tier:x.SKILLED},{word:"SEMANA",hint:"Siete das.",tier:x.SKILLED},{word:"FAMILIA",hint:"Grupo de parientes.",tier:x.SKILLED},{word:"CUERPO",hint:"Organismo vivo.",tier:x.SKILLED},{word:"SANGRE",hint:"Lquido rojo vital.",tier:x.SKILLED},{word:"TIERRA",hint:"Planeta o suelo.",tier:x.SKILLED},{word:"VIENTO",hint:"Aire en movimiento.",tier:x.SKILLED},{word:"LLUVIA",hint:"Agua que cae del cielo.",tier:x.SKILLED},{word:"NIEVE",hint:"Agua helada blanca.",tier:x.SKILLED},{word:"FUEGO",hint:"Combustin con llama.",tier:x.SKILLED},{word:"PIEDRA",hint:"Materia mineral dura.",tier:x.SKILLED},{word:"HIERRO",hint:"Metal fuerte.",tier:x.SKILLED},{word:"ORO",hint:"Metal precioso amarillo.",tier:x.SKILLED},{word:"PLATA",hint:"Metal precioso gris.",tier:x.SKILLED},{word:"METAL",hint:"Material conductor.",tier:x.SKILLED},{word:"ESPACIO",hint:"Lugar fuera de la atmsfera.",tier:x.EXPERT},{word:"PLANETA",hint:"Cuerpo celeste.",tier:x.EXPERT},{word:"ESTRELLA",hint:"Astro con luz propia.",tier:x.EXPERT},{word:"GALAXIA",hint:"Conjunto de estrellas.",tier:x.EXPERT},{word:"CIENCIA",hint:"Conocimiento sistemtico.",tier:x.EXPERT},{word:"HISTORIA",hint:"Estudio del pasado.",tier:x.EXPERT},{word:"CULTURA",hint:"Conjunto de saberes.",tier:x.EXPERT},{word:"SISTEMA",hint:"Conjunto de reglas.",tier:x.EXPERT},{word:"TEORIA",hint:"Hiptesis probada.",tier:x.EXPERT},{word:"ENERGIA",hint:"Capacidad de obrar.",tier:x.EXPERT},{word:"JUSTICIA",hint:"Dar a cada uno lo suyo.",tier:x.EXPERT},{word:"LIBERTAD",hint:"Facultad de obrar.",tier:x.EXPERT},{word:"DERECHO",hint:"Conjunto de leyes.",tier:x.EXPERT},{word:"MEMORIA",hint:"Facultad de recordar.",tier:x.EXPERT},{word:"FUTURO",hint:"Lo que vendr.",tier:x.EXPERT},{word:"PASADO",hint:"Lo que ya ocurri.",tier:x.EXPERT},{word:"ORIGEN",hint:"Principio o causa.",tier:x.EXPERT},{word:"DESTINO",hint:"Lo que est por suceder.",tier:x.EXPERT},{word:"ACCION",hint:"Acto o hecho.",tier:x.EXPERT},{word:"EFECTO",hint:"Resultado de una causa.",tier:x.EXPERT},{word:"CAUSA",hint:"Motivo o razn.",tier:x.EXPERT},{word:"MOTIVO",hint:"Causa o razn.",tier:x.EXPERT},{word:"RAZON",hint:"Facultad de pensar.",tier:x.EXPERT},{word:"VERDAD",hint:"Conformidad con la realidad.",tier:x.EXPERT},{word:"FALSO",hint:"Contrario a la verdad.",tier:x.EXPERT},{word:"ABSOLUTO",hint:"Sin lmites.",tier:x.MASTER},{word:"ABSTRACTO",hint:"No concreto.",tier:x.MASTER},{word:"ANALISIS",hint:"Examen detallado.",tier:x.MASTER},{word:"BIOLOGIA",hint:"Ciencia de la vida.",tier:x.MASTER},{word:"QUIMICA",hint:"Ciencia de la materia.",tier:x.MASTER},{word:"FISICA",hint:"Ciencia de la naturaleza.",tier:x.MASTER},{word:"POLITICA",hint:"Arte de gobernar.",tier:x.MASTER},{word:"ECONOMIA",hint:"Administracin de recursos.",tier:x.MASTER},{word:"SOCIEDAD",hint:"Conjunto de personas.",tier:x.MASTER},{word:"RELIGION",hint:"Creencia espiritual.",tier:x.MASTER},{word:"FILOSOFIA",hint:"Amor a la sabidura.",tier:x.MASTER},{word:"PSICOLOGIA",hint:"Estudio de la mente.",tier:x.MASTER},{word:"LITERATURA",hint:"Arte de la palabra.",tier:x.MASTER},{word:"MATEMATICA",hint:"Ciencia de los nmeros.",tier:x.MASTER},{word:"GEOGRAFIA",hint:"Descripcin de la Tierra.",tier:x.MASTER},{word:"TECNOLOGIA",hint:"Conjunto de tcnicas.",tier:x.MASTER},{word:"INFORMATICA",hint:"Procesamiento de datos.",tier:x.MASTER},{word:"INTELIGENCIA",hint:"Facultad de entender.",tier:x.MASTER},{word:"CONCIENCIA",hint:"Conocimiento de s mismo.",tier:x.MASTER},{word:"EXISTENCIA",hint:"Hecho de existir.",tier:x.MASTER}],xN=[["ARCO","IRIS"],["LUNA","LLENA"],["MEDIO","DIA"],["SALVA","VIDAS"],["GIRA","SOL"],["PINTA","LABIOS"],["CORTA","UAS"],["LAVA","PLATOS"],["BOCA","CALLE"],["VIDEO","JUEGO"]],Fk={ESPACIO:["LUNA","MARTE","SOL","ORBITA","ASTRO"],COMIDA:["PAN","SOPA","PIZZA","FRUTA","CARNE"],TECNOLOGIA:["WIFI","DATOS","RED","CHIP","LINK"]},Pk={[me.CLASSIC]:{[pe.EN]:{title:"CLASSIC MODE",text:"Guess the hidden word. You have 6 attempts. Green = correct letter and position. Yellow = correct letter, wrong position."},[pe.DE]:{title:"KLASSISCHER MODUS",text:"Errate das versteckte Wort. Du hast 6 Versuche. Grn = richtiger Buchstabe und Position. Gelb = richtiger Buchstabe, falsche Position."},[pe.ES]:{title:"MODO CLSICO",text:"Adivina la palabra oculta. Tienes 6 intentos. Verde = letra y posicin correctas. Amarillo = letra correcta, posicin incorrecta."}},[me.SPEEDRUN]:{[pe.EN]:{title:"SPEEDRUN MODE",text:"Same rules as Classic Mode, but you're racing against the clock! Complete as fast as possible."},[pe.DE]:{title:"ZEITRENNEN MODUS",text:"Gleiche Regeln wie Klassisch, aber gegen die Uhr! Schliee so schnell wie mglich ab."},[pe.ES]:{title:"MODO CONTRARRELOJ",text:"Mismas reglas que el Modo Clsico, pero contra el reloj! Completa lo ms rpido posible."}},[me.CHAIN]:{[pe.EN]:{title:"CHAIN MODE",text:"Each word must begin with the last letter of the previous word. Break the chain and you lose!"},[pe.DE]:{title:"WORTKETTEN MODUS",text:"Jedes Wort muss mit dem letzten Buchstaben des vorherigen Wortes beginnen. Breche die Kette und du verlierst!"},[pe.ES]:{title:"MODO CADENA",text:"Cada palabra debe comenzar con la ltima letra de la palabra anterior. Rompe la cadena y pierdes!"}},[me.CATEGORY]:{[pe.EN]:{title:"TOPIC MODE",text:"All words belong to a theme. Use the hint to guide your guesses!"},[pe.DE]:{title:"THEMEN MODUS",text:"Alle Wrter gehren zu einem Thema. Nutze den Hinweis um deine Rateversuche zu lenken!"},[pe.ES]:{title:"MODO TEMA",text:"Todas las palabras pertenecen a un tema. Usa la pista para guiar tus intentos!"}},[me.SUDOKU]:{[pe.EN]:{title:"LETTER SUDOKU",text:"Fill the 9x9 grid with letters A-I. Each row, column, and 3x3 box must contain each letter exactly once."},[pe.DE]:{title:"BUCHSTABEN SUDOKU",text:"Flle das 9x9 Gitter mit Buchstaben A-I. Jede Zeile, Spalte und 3x3 Box muss jeden Buchstaben genau einmal enthalten."},[pe.ES]:{title:"SUDOKU DE LETRAS",text:"Rellena la cuadrcula 9x9 con letras A-I. Cada fila, columna y caja 3x3 debe contener cada letra exactamente una vez."}},[me.CHALLENGE]:{[pe.EN]:{title:"CHALLENGE MODE",text:"Mixed challenges including word puzzles and math problems. Time is limited. Premium only."},[pe.DE]:{title:"CHALLENGE MODUS",text:"Gemischte Herausforderungen mit Wortrtseln und Matheaufgaben. Begrenzte Zeit. Nur Premium."},[pe.ES]:{title:"MODO DESAFO",text:"Desafos mixtos con rompecabezas y problemas matemticos. Tiempo limitado. Solo Premium."}},[me.RIDDLE]:{[pe.EN]:{title:"RIDDLE MODE",text:"Solve cryptic riddles to find the answer word. Think outside the box!"},[pe.DE]:{title:"RTSEL MODUS",text:"Lse kryptische Rtsel um das Lsungswort zu finden. Denke um die Ecke!"},[pe.ES]:{title:"MODO ACERTIJO",text:"Resuelve acertijos crpticos para encontrar la palabra. Piensa fuera de la caja!"}},[me.LETTER_MAU_MAU]:{[pe.EN]:{title:"LETTER MAU MAU",text:"Play cards by matching letters or categories. Use action cards strategically. First to empty their hand wins!"},[pe.DE]:{title:"BUCHSTABEN MAU MAU",text:"Spiele Karten durch passende Buchstaben oder Kategorien. Nutze Aktionskarten strategisch. Wer zuerst keine Karten hat, gewinnt!"},[pe.ES]:{title:"MAU MAU DE LETRAS",text:"Juega cartas emparejando letras o categoras. Usa cartas de accin estratgicamente. El primero en vaciar su mano gana!"}},[me.SKAT_MAU_MAU]:{[pe.EN]:{title:"SKAT MAU MAU",text:"Classic Mau Mau with 32 cards. Match suit or rank. 7=Draw 2, 8=Skip, Jack=Wish."},[pe.DE]:{title:"SKAT MAU MAU",text:"Klassisches Mau Mau mit 32 Karten. Bedienpflicht. 7=Zieh 2, 8=Aussetzen, Bube=Wnschen."},[pe.ES]:{title:"SKAT MAU MAU",text:"Mau Mau clsico con 32 cartas. 7=Tomar 2, 8=Saltar, Jota=Deseo."}},[me.CHESS]:{[pe.EN]:{title:"CHESS",text:"Classic Strategy Game. Checkmate your opponent's King to win. White moves first."},[pe.DE]:{title:"SCHACH",text:"Klassisches Strategiespiel. Setze den gegnerischen Knig Schachmatt. Wei zieht zuerst."},[pe.ES]:{title:"AJEDREZ",text:"Juego de Estrategia Clsico. Jaque mate al Rey oponente para ganar. Las blancas mueven primero."}},[me.CHECKERS]:{[pe.EN]:{title:"CHECKERS",text:"Classic board game. Jump over opponent pieces to capture. Reach the end to become a King!"},[pe.DE]:{title:"DAME",text:"Klassisches Brettspiel. berspringe gegnerische Steine um zu schlagen. Erreiche das Ende fr eine Dame!"},[pe.ES]:{title:"DAMAS",text:"Juego de mesa clsico. Salta sobre las piezas del oponente para capturar. Llega al final para ser Dama!"}},[me.NINE_MENS_MORRIS]:{[pe.EN]:{title:"NINE MEN'S MORRIS",text:"Form mills (3 in a row) to remove opponent pieces. Reduce enemy to 2 pieces to win!"},[pe.DE]:{title:"MHLE",text:"Bilde Mhlen (3 in einer Reihe) um gegnerische Steine zu entfernen. Reduziere den Gegner auf 2 Steine!"},[pe.ES]:{title:"MOLINO",text:"Forma molinos (3 en lnea) para quitar piezas. Reduce al enemigo a 2 piezas para ganar!"}},[me.RUMMY]:{[pe.EN]:{title:"RUMMY",text:"Form melds: Sets (same value) or Runs (consecutive same suit). Empty your hand to win!"},[pe.DE]:{title:"ROMM",text:"Bilde Kombinationen: Stze (gleicher Wert) oder Reihen (aufeinanderfolgende Farbe). Leere deine Hand!"},[pe.ES]:{title:"RUMMY",text:"Forma combinaciones: Grupos (mismo valor) o Escaleras (consecutivas del mismo palo). Vaca tu mano!"}}},us=["Felix","Aneka","Zack","Midnight","Shadow","Cyber","Neon","Glitch","Viper","Echo","Raven","Blade","Matrix","Nova","Rogue","Titan","Luna","Sol","Astra","Orion","Vega","Sirius","Altair","Draco","Phoenix","Griffin","Dragon","Hydra","Chimera","Sphinx","Golem","Wraith"],Uk=t=>(t.id,Array.from({length:100},(e,n)=>{const i=n+1;let o=null,c=null;const d=i%10;if(([1,3,6,9].includes(d)||i===50||i===100)&&(i%10===0?o={type:"coins",amount:500,name:"Big Coin Stash",icon:"coins_large"}:i%3===0?o={type:"coins",amount:100,name:"Coin Pouch",icon:"coins_small"}:o={type:"coins",amount:50,name:"Loose Change",icon:"coins_small"}),i%10===0){const h=t.avatars.find(f=>f.level===i);c={type:"avatar",name:(h==null?void 0:h.name)||"Mystery Avatar",desc:(h==null?void 0:h.desc)||"Exclusive Season Avatar",value:h==null?void 0:h.id,preview:`https://api.dicebear.com/9.x/bottts-neutral/svg?seed=${(h==null?void 0:h.dicebear)||"mystery"}`,icon:"avatar_legendary",rarity:"legendary"}}else if(i%10===5)c={type:"avatar",name:`Agent #${i}`,desc:"Exclusive Agent Avatar",value:`avatar_${i}`,preview:`https://api.dicebear.com/9.x/bottts-neutral/svg?seed=agent${i}`,icon:"avatar_epic",rarity:"epic"};else if(i%3===0){const h=[{id:"glow",name:"Glow",desc:"Pulsing magical border"},{id:"fire",name:"Fire",desc:"Rotating fire gradient"},{id:"ice",name:"Ice",desc:"Shimmering icy border"},{id:"neon",name:"Neon",desc:"Flickering neon effect"},{id:"sparkle",name:"Sparkle",desc:"Gold sparkle border"},{id:"flame_burst",name:"Flame Burst",desc:"Animated flames"},{id:"frost_aura",name:"Frost Aura",desc:"Icy particles"},{id:"lightning_arc",name:"Lightning",desc:"Electric sparks"},{id:"water_ripple",name:"Water Ripple",desc:"Flowing water"},{id:"galaxy_swirl",name:"Galaxy Swirl",desc:"Rotating galaxy"},{id:"star_field",name:"Star Field",desc:"Twinkling stars"},{id:"nebula_glow",name:"Nebula",desc:"Colorful nebula"},{id:"void_edge",name:"Void Edge",desc:"Dark matter"},{id:"rainbow_pulse",name:"Rainbow",desc:"Shifting rainbow"},{id:"gold_luxury",name:"Gold Luxury",desc:"Ornate gold"},{id:"diamond_shine",name:"Diamond",desc:"Crystal shine"},{id:"shadow_flame",name:"Shadow Flame",desc:"Dark fire"},{id:"aurora_wave",name:"Aurora",desc:"Northern lights"},{id:"pixel_glitch",name:"Pixel Glitch",desc:"Retro pixels"},{id:"holo_shimmer",name:"Holographic",desc:"Holo shine"},{id:"wave_motion",name:"Wave Motion",desc:"Flowing waves"},{id:"color_morph",name:"Color Morph",desc:"Rainbow cycle"},{id:"matrix_rain",name:"Matrix Rain",desc:"Code cascade"},{id:"prism_split",name:"Prism Split",desc:"RGB split"},{id:"glitch_wild",name:"Glitch Wild",desc:"Chaotic glitch"},{id:"lava_flow",name:"Lava Flow",desc:"Molten lava"},{id:"electric_pulse",name:"Electric",desc:"Lightning zaps"},{id:"oil_slick",name:"Oil Slick",desc:"Iridescent oil"},{id:"chromatic_abberation",name:"Chromatic",desc:"Color split"},{id:"quantum_flux",name:"Quantum",desc:"Phase shift"}],f=Math.floor(i/3-1)%h.length,p=h[f];c={type:"effect",name:`${p.name} Frame`,desc:p.desc,value:`effect_${p.id}`,icon:"magic_wand",rarity:f<5?"rare":f<20?"epic":"legendary"}}else i%4===0?c={type:"booster",name:"XP Booster (1h)",desc:"Double XP for 1 hour",value:"xp_boost_1h",icon:"booster_pack",rarity:"rare"}:c={type:"coins",amount:250*(Math.floor(i/20)+1),name:"Premium Coins",icon:"coin_pile_huge"};return{level:i,free:o,premium:c}})),Hk=Uk(Xc()),Bk={1:{premium:{type:"avatar",name:"Nano Scout",value:"nano_banana_pro_1",preview:"/assets/season/avatar_nano_scout.png"}},2:{premium:{type:"effect",name:"Rainbow Pulse",value:"effect_rainbow",icon:""}},4:{premium:{type:"avatar",name:"Space Explorer",value:"space_explorer",preview:"/assets/season/avatar_space_explorer.png"}},5:{premium:{type:"card_pack",amount:1,icon:""}},6:{premium:{type:"avatar",name:"Cyber Banana",value:"nano_banana_pro_2",preview:"/assets/season/avatar_nano_scout.png"}},7:{premium:{type:"effect",name:"Silver Shine",value:"effect_silver",icon:"/assets/season/frame_silver.png"}},8:{premium:{type:"effect",name:"Matrix Rain",value:"effect_matrix",icon:""}},9:{premium:{type:"avatar",name:"Neon Ape",value:"nano_banana_pro_3",preview:"/assets/season/avatar_nano_scout.png"}},10:{premium:{type:"effect",name:"Glitch Wild",value:"effect_glitch_wild",icon:""}},11:{premium:{type:"avatar",name:"Glitch Monkey",value:"nano_banana_pro_4",preview:"/assets/season/avatar_nano_scout.png"}},12:{premium:{type:"effect",name:"Holo Shimmer",value:"effect_holo",icon:""}},14:{premium:{type:"avatar",name:"Mecha Kong",value:"nano_banana_pro_5",preview:"/assets/season/avatar_mecha_kong.png"}},15:{premium:{type:"card_pack",amount:2,icon:""}}},Gk=Hk.map(t=>{const e=Bk[t.level];return e?{...t,...e}:t}),kc=[{id:"coins_small",type:"currency",name:"Pocket Change",cost:"4,99",value:500,currencyAmount:500,isRealMoney:!0,paypalLink:"https://www.paypal.com/ncp/payment/5FZ6BJ9G8LGML"},{id:"coins_med",type:"currency",name:"Mercenary Stash",cost:"9,99",value:1500,currencyAmount:1500,isRealMoney:!0,paypalLink:"https://www.paypal.com/ncp/payment/JRPDA9NBVAV48"},{id:"coins_large",type:"currency",name:"Corporate Fund",cost:"24,99",value:6e3,currencyAmount:6e3,isRealMoney:!0,paypalLink:"https://www.paypal.com/ncp/payment/V9GJ535LYLFKU"},{id:"pack_starter",type:"card_pack",name:"Starter Pack",cost:500,value:"pack_starter",description:"Contains 5 basic cards"},{id:"pack_premium",type:"card_pack",name:"Premium Pack",cost:1500,value:"pack_premium",description:"Contains 5 cards with at least 1 rare"},{id:"pack_legendary",type:"card_pack",name:"Legendary Pack",cost:5e3,value:"pack_legendary",description:"Contains 5 cards with guaranteed legendary"},{id:"shop_avatar_1",type:"avatar",name:"Cyber Demon",cost:500,value:"CyberDemon"},{id:"shop_avatar_2",type:"avatar",name:"Holo Girl",cost:800,value:"HoloGirl"},{id:"shop_avatar_3",type:"avatar",name:"Mecha King",cost:1200,value:"MechaKing"},{id:"shop_avatar_4",type:"avatar",name:"Void Stalker",cost:2e3,value:"VoidStalker"},{id:"shop_avatar_5",type:"avatar",name:"Neon Samurai",cost:3e3,value:"NeonSamurai"},{id:"shop_avatar_6",type:"avatar",name:"Quantum Ghost",cost:5e3,value:"QuantumGhost"},{id:"shop_avatar_7",type:"avatar",name:"Plasma Knight",cost:7500,value:"PlasmaKnight"},{id:"shop_avatar_8",type:"avatar",name:"Nano Swarm",cost:1e4,value:"NanoSwarm"},{id:"cardback_classic",type:"card_back",name:"Classic Blue",cost:200,value:"classic_blue"},{id:"cardback_neon",type:"card_back",name:"Neon Glow",cost:500,value:"neon_glow"},{id:"cardback_cyber",type:"card_back",name:"Cyberpunk",cost:800,value:"cyberpunk"},{id:"cardback_gold",type:"card_back",name:"Golden Luxury",cost:1500,value:"gold_luxury"},{id:"cardback_galaxy",type:"card_back",name:"Galaxy Stars",cost:2e3,value:"galaxy_stars"},{id:"cardback_fire",type:"card_back",name:"Fire Dragon",cost:3e3,value:"fire_dragon"},{id:"frame_bronze",type:"frame",name:"Bronze Border",cost:300,value:"frame_bronze"},{id:"frame_silver",type:"frame",name:"Silver Border",cost:600,value:"frame_silver"},{id:"frame_gold",type:"frame",name:"Gold Border",cost:1e3,value:"frame_gold"},{id:"frame_rainbow",type:"frame",name:"Rainbow Glow",cost:1800,value:"frame_rainbow"},{id:"frame_fire",type:"frame",name:"Fire Effect",cost:2500,value:"frame_fire"},{id:"frame_plasma",type:"frame",name:"Plasma Storm",cost:4e3,value:"frame_plasma"}],zk=({isOnline:t,t:e})=>{const[n,i]=_.useState(""),[o,c]=_.useState(""),[d,h]=_.useState(""),[f,p]=_.useState(!1),[E,y]=_.useState(!1),[b,T]=_.useState(!1),[N,R]=_.useState(!1),[I,O]=_.useState(!1),[$,U]=_.useState(""),[K,ne]=_.useState([]),P=window.Capacitor!==void 0;_.useEffect(()=>{if(!t)return;const we=uE(),De=At(we,"system"),ve=oa(De,he=>{if(he.exists()){const qe=he.val(),W=P&&qe.latest_apk_version||qe.latest_version,Y=qe.min_version||"0.0.0",k=qe.download_url||(P?"https://leximix.de/LexiMix-v3.5.2-Release.apk":"/LexiMix-v3.5.2-Release.apk");qe.maintenance_active?(O(!0),U(qe.maintenance_message||"")):O(!1),i(W),c(Y),h(k),Z(W,Y)}});return fetch("./changelog.json").then(he=>he.json()).then(he=>ne(he)).catch(he=>console.error("Failed to load changelog",he)),()=>ve()},[t,P]);const Z=(we,De)=>{const ve=(W,Y)=>{const k=W.split(".").map(Number),H=Y.split(".").map(Number);for(let ae=0;ae<3;ae++){const Se=k[ae]||0,ge=H[ae]||0;if(Se>ge)return 1;if(Se<ge)return-1}return 0},he=Uc;if(ve(he,De)<0){p(!0),y(!1);return}else p(!1);ve(he,we)<0&&y(!0);const qe=localStorage.getItem("last_seen_version");(!qe||ve(he,qe)>0)&&ve(he,we)>=0&&(T(!0),localStorage.setItem("last_seen_version",he))},J=()=>{P?window.open(d,"_system"):d.endsWith(".apk")||d.startsWith("http")?window.location.href=d:window.location.reload()};return I?l.jsx(Ck,{message:$}):f?l.jsxs("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center p-4",style:{background:"var(--color-bg)"},children:[l.jsxs("div",{className:"absolute top-0 left-0 right-0 flex h-3 w-full z-50",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#0096FF"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsx("div",{className:"w-full max-w-md relative animate-in fade-in duration-300",style:{background:"var(--color-surface)",border:"4px solid var(--color-border)",boxShadow:"8px 8px 0px var(--color-border)",transform:"skewY(-1deg)"},children:l.jsxs("div",{className:"p-8 space-y-6 text-center",style:{transform:"skewY(1deg)"},children:[l.jsx("div",{className:"w-24 h-24 mx-auto flex items-center justify-center animate-pulse",style:{background:"#FF006E",border:"4px solid var(--color-border)",boxShadow:"6px 6px 0px var(--color-border)",transform:"rotate(-3deg)"},children:l.jsx(Gc,{size:48,style:{color:"#FFF"}})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-black uppercase tracking-wider mb-3",style:{color:"var(--color-text)"},children:e.UPDATES.REQUIRED_TITLE}),l.jsx("p",{className:"text-sm font-bold leading-relaxed",style:{color:"var(--color-text)",opacity:.8},children:e.UPDATES.REQUIRED_DESC})]}),l.jsxs("div",{className:"flex items-center justify-center gap-4 p-4",style:{background:"var(--color-bg)",border:"3px solid var(--color-border)",boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"uppercase text-[10px] tracking-widest font-black mb-1",style:{color:"var(--color-text)",opacity:.6},children:e.UPDATES.INSTALLED}),l.jsxs("span",{className:"font-mono text-lg font-black",style:{color:"#FF006E"},children:["v",Uc]})]}),l.jsx(vn,{size:20,className:"rotate-180",style:{color:"#FFBE0B"}}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"uppercase text-[10px] tracking-widest font-black mb-1",style:{color:"var(--color-text)",opacity:.6},children:e.UPDATES.REQUIRED}),l.jsxs("span",{className:"font-mono text-lg font-black",style:{color:"#06FFA5"},children:["v",o]})]})]}),l.jsxs("div",{className:"space-y-3",children:[P?l.jsxs("button",{onClick:J,className:"w-full py-4 font-black uppercase text-sm transition-all active:translate-y-1 flex items-center justify-center gap-2",style:{background:"#06FFA5",color:"#000",border:"3px solid var(--color-border)",boxShadow:"6px 6px 0px var(--color-border)"},children:[l.jsx(ch,{size:20}),e.UPDATES.UPDATE_NOW]}):l.jsxs("div",{className:"p-4 space-y-3",style:{background:"#FFBE0B",border:"3px solid var(--color-border)",boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsx("p",{className:"text-sm font-bold leading-relaxed",style:{color:"#000"},children:"Die Website wird gerade aktualisiert. Bitte habe einen Moment Geduld."}),l.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full py-3 font-black uppercase text-xs transition-all active:translate-y-1 flex items-center justify-center gap-2",style:{background:"#FFF",color:"#000",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx(ch,{size:16}),"Seite neu laden"]})]}),l.jsx("button",{onClick:()=>{R(!0),T(!0)},className:"w-full text-sm font-bold underline underline-offset-4 transition-opacity hover:opacity-70 pt-2",style:{color:"var(--color-text)",opacity:.8},children:e.UPDATES.WHATS_NEW})]}),l.jsx("p",{className:"text-[10px] uppercase tracking-widest font-black px-4 py-2 inline-block",style:{background:"#8338EC",color:"#FFF",border:"2px solid var(--color-border)",transform:"rotate(-1deg)"},children:e.UPDATES.SECURITY})]})}),b&&N&&l.jsx("div",{className:"absolute inset-0 z-[100000] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:l.jsx(j1,{isOpen:!0,onClose:()=>{T(!1),R(!1)},entries:K,t:e,downloadUrl:d,currentVersion:Uc,latestVersion:n,onDownload:J})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Pt,{isOpen:E,onClose:()=>y(!1),title:e.UPDATES.AVAILABLE_TITLE,children:l.jsxs("div",{className:"text-center space-y-6",children:[l.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-green-600 to-blue-600 rounded-full flex items-center justify-center border-2 border-green-500 shadow-[0_0_30px_rgba(34,197,94,0.3)] animate-pulse",children:l.jsx(Cn,{size:40,className:"text-white"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-xl font-black text-white",children:[e.UPDATES.NEW_VERSION,n]}),l.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:P?e.UPDATES.AVAILABLE_DESC_APP:e.UPDATES.AVAILABLE_DESC_WEB})]}),l.jsxs("button",{onClick:J,className:"w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-black uppercase rounded-xl hover:brightness-110 transition-all shadow-lg flex items-center justify-center gap-2",children:[l.jsx(ch,{size:20}),P?e.UPDATES.DOWNLOAD:e.UPDATES.RELOAD]}),l.jsx("button",{onClick:()=>T(!0),className:"w-full text-sm text-gray-400 hover:text-white underline underline-offset-4 transition-colors pt-2",children:e.UPDATES.WHATS_NEW})]})}),l.jsx(j1,{isOpen:b,onClose:()=>T(!1),entries:K,t:e,downloadUrl:d,currentVersion:Uc,latestVersion:n,onDownload:J})]})},Vk=({xp:t,level:e,isPremium:n,onBuyPremium:i,lang:o,theme:c="dark"})=>{const d=ir[o].SEASON;return l.jsx("button",{onClick:i,className:"w-full p-5 md:p-6 cursor-pointer relative overflow-hidden group transition-all duration-100",style:{background:n?"#FFBE0B":"#8338EC",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-2deg)"},onMouseEnter:h=>{h.currentTarget.style.transform="skew(-2deg) translateY(-6px)",h.currentTarget.style.boxShadow="12px 12px 0px #000"},onMouseLeave:h=>{h.currentTarget.style.transform="skew(-2deg)",h.currentTarget.style.boxShadow="8px 8px 0px #000"},children:l.jsxs("div",{className:"flex items-center justify-between",style:{transform:"skew(2deg)"},children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 flex items-center justify-center shrink-0",style:{background:"#000",border:"3px solid #000",transform:"skew(-5deg)"},children:l.jsx(Cn,{size:28,style:{color:n?"#FFBE0B":"#8338EC"}})}),l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dl,{size:20,fill:n?"currentColor":"none",style:{color:n?"#000":"var(--color-text)"}}),l.jsx("h3",{className:"font-black text-xl md:text-2xl uppercase tracking-wide",style:{color:n?"#000":"var(--color-text)"},children:d.TITLE})]}),l.jsx("span",{className:"text-xs font-black uppercase tracking-wider px-3 py-1 mt-1",style:{background:n?"#000":"#FF006E",color:n?"#FFBE0B":"#FFF",border:"2px solid #000"},children:n?"Premium Aktiv":"Kostenlos"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex flex-col items-center px-4 py-2",style:{background:"var(--color-surface)",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx("span",{className:"text-[10px] font-black uppercase",style:{color:"var(--color-text-muted)"},children:"Level"}),l.jsx("span",{className:"text-2xl md:text-3xl font-black",style:{color:"var(--color-text)"},children:e})]}),l.jsx(hI,{size:24,style:{color:n?"#000":"var(--color-text)"}})]})]})})};class Kk{constructor(){this.context=null}getContext(){return this.context||(this.context=new(window.AudioContext||window.webkitAudioContext)),this.context}playTone(e,n,i){try{const o=this.getContext(),c=o.createOscillator(),d=o.createGain();c.type=n,c.frequency.setValueAtTime(e,o.currentTime),d.gain.setValueAtTime(.1,o.currentTime),d.gain.exponentialRampToValueAtTime(.001,o.currentTime+i),c.connect(d),d.connect(o.destination),c.start(),c.stop(o.currentTime+i)}catch{}}playClick(){this.playTone(800,"sine",.05)}playWin(){this.getContext().currentTime,[523.25,659.25,783.99,1046.5].forEach((n,i)=>{setTimeout(()=>this.playTone(n,"triangle",.2),i*100)})}playLoss(){this.getContext(),[300,200,100].forEach((e,n)=>{setTimeout(()=>this.playTone(e,"sawtooth",.3),n*150)})}playError(){this.playTone(150,"sawtooth",.2)}playWrong(){this.playError()}}const et=new Kk,dh=et,Wk=({user:t,rewards:e,onClose:n,onClaim:i,onShowPremium:o})=>{const c=_.useRef(null);_.useEffect(()=>{if(c.current){const p=window.innerWidth/2-96,E=(t.level-1)*192-p;c.current.scrollLeft=Math.max(0,E)}},[]);const d=Xc(),h=ir[t.language];return l.jsxs("div",{className:"h-full flex flex-col relative overflow-hidden geo-pattern geo-shapes geo-confetti",style:{background:"var(--color-bg)"},children:[l.jsxs("div",{className:"flex h-4 w-full",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsxs("div",{className:"mx-4 mt-4 p-4 flex items-center justify-between z-20",style:{background:"var(--color-surface)",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx("button",{onClick:n,className:"w-12 h-12 flex items-center justify-center transition-all active:translate-y-1",style:{background:"#FF006E",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:l.jsx(vn,{size:24,style:{color:"#000"}})}),l.jsxs("div",{className:"flex flex-col items-center flex-1 mx-4",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-black uppercase tracking-wide mb-2",style:{color:"var(--color-text)"},children:h.SEASON.TITLE}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"px-4 py-2 font-black text-sm uppercase flex items-center gap-2",style:{background:t.isPremium?"#FFBE0B":"#8338EC",color:t.isPremium?"#000":"#FFF",border:"3px solid #000"},children:[t.isPremium&&l.jsx(dl,{size:16,fill:"currentColor"}),"LVL ",t.level]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-32 h-4",style:{background:"#000",border:"2px solid #000"},children:l.jsx("div",{className:"h-full transition-all duration-500",style:{width:`${Math.min(100,Math.max(5,t.xp%100))}%`,background:"#06FFA5"}})}),l.jsxs("span",{className:"text-xs font-black",style:{color:"var(--color-text)"},children:[t.xp%100,"/100"]})]})]}),l.jsxs("div",{className:"mt-2 text-xs font-black uppercase",style:{color:"#FF7F00"},children:[Math.max(0,Math.ceil((d.endDate-Date.now())/(1e3*60*60*24)))," Tage brig"]})]}),l.jsx("div",{className:"w-12"})]}),!t.isPremium&&l.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-30",children:l.jsxs("button",{onClick:o,className:"px-8 py-4 font-black uppercase text-lg flex items-center gap-3 transition-all",style:{background:"#FFBE0B",color:"#000",border:"4px solid #000",boxShadow:"8px 8px 0px #000"},onMouseEnter:f=>{f.currentTarget.style.transform="translateY(-4px)",f.currentTarget.style.boxShadow="12px 12px 0px #000"},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="8px 8px 0px #000"},children:[l.jsx(dl,{size:24,fill:"currentColor"}),"Premium Aktivieren"]})}),l.jsxs("div",{className:"mx-4 mt-4 p-3 flex flex-wrap items-center justify-center gap-4 text-xs font-black uppercase z-20",style:{background:"var(--color-surface)",border:"3px solid #000"},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-1",style:{background:"#8338EC",border:"2px solid #000"},children:l.jsx(Cn,{size:14,style:{color:"#FFF"}})}),l.jsx("span",{style:{color:"var(--color-text)"},children:"Frame"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-1",style:{background:"#0096FF",border:"2px solid #000"},children:l.jsx(VI,{size:14,style:{color:"#FFF"}})}),l.jsx("span",{style:{color:"var(--color-text)"},children:"Avatar"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-1",style:{background:"#FFBE0B",border:"2px solid #000"},children:l.jsx(rr,{size:14,style:{color:"#000"}})}),l.jsx("span",{style:{color:"var(--color-text)"},children:"Booster"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-1",style:{background:"#FF7F00",border:"2px solid #000"},children:l.jsx(Rs,{size:14,style:{color:"#000"}})}),l.jsx("span",{style:{color:"var(--color-text)"},children:"Mnzen"})]})]}),l.jsx("div",{ref:c,className:"flex-1 overflow-x-auto overflow-y-hidden p-0 scrollbar-hide relative",onWheel:f=>{c.current&&(c.current.scrollLeft+=f.deltaY,f.preventDefault())},children:l.jsxs("div",{className:"flex items-center h-full px-[50vw] min-w-max gap-6 py-8",children:[l.jsxs("div",{className:"absolute top-1/2 left-0 right-0 h-6 -translate-y-1/2 z-0 flex",style:{border:"3px solid #000"},children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#0096FF"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsx("div",{className:"absolute top-1/2 h-6 -translate-y-1/2 z-1 transition-all duration-1000",style:{left:`${t.level/100*100}%`,right:0,background:"#E5E5E5",borderRight:"3px solid #000",borderTop:"3px solid #000",borderBottom:"3px solid #000"}}),e.map((f,p)=>{var ne,P;const E=f.level,y=t.level>=E,b=(ne=t.claimedSeasonRewards)==null?void 0:ne.includes(E),T=(P=t.claimedPremiumRewards)==null?void 0:P.includes(E),N=y&&!b,R=y&&!T,I=t.level+1===E,O=f.premium,$=f.free,U=["#FF006E","#FF7F00","#FFBE0B","#06FFA5","#8338EC","#0096FF"],K=U[p%U.length];return l.jsxs("div",{className:"flex flex-col items-center justify-center relative w-52 h-full shrink-0 snap-center group",children:[l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-14 h-14 z-10 flex items-center justify-center text-base font-black transition-all",style:{background:y?K:"#E5E5E5",color:y?"#FFF":"#999",border:"4px solid #000",boxShadow:y?"5px 5px 0px #000":"2px 2px 0px #999",transform:I?"translate(-50%, -50%) scale(1.3)":"translate(-50%, -50%)"},children:E}),l.jsxs("div",{className:`absolute bottom-[55%] flex flex-col items-center justify-end h-44 w-full transition-all ${y?"opacity-100":"opacity-50 grayscale"}`,children:[l.jsx("div",{className:"px-3 py-1 text-[10px] font-black uppercase mb-2",style:{background:"#FFBE0B",color:"#000",border:"2px solid #000"},children:"Premium"}),O?l.jsxs("div",{className:"relative w-36 p-4 flex flex-col items-center transition-all group-hover:-translate-y-3",style:{background:"var(--color-surface)",border:"4px solid #000",boxShadow:`8px 8px 0px ${K}`},children:[!t.isPremium&&l.jsx(Xo,{size:12,style:{color:"#999"},className:"absolute top-2 right-2"}),O.type==="avatar"?l.jsx("img",{src:O.preview,alt:"Avatar",className:"w-12 h-12 object-cover",style:{border:"3px solid #000"}}):O.type==="effect"?O.icon&&O.icon.startsWith("/")?l.jsx("img",{src:O.icon,alt:"Frame",className:"w-12 h-12 object-contain"}):l.jsx("span",{className:"text-4xl",children:O.icon||""}):O.type==="mystery"?l.jsx(gI,{size:36,style:{color:"#8338EC"}}):O.type==="booster"?l.jsx(rr,{size:36,style:{color:"#FFBE0B"}}):O.type==="card_pack"?l.jsx("div",{className:"text-4xl",children:""}):l.jsx(ws,{size:28,style:{color:"#0096FF"}}),l.jsxs("div",{className:"mt-2 text-center",children:[l.jsx("div",{className:"text-[10px] font-black uppercase",style:{color:"var(--color-text)"},children:O.type}),l.jsx("div",{className:"text-[9px] font-bold",style:{color:"#666"},children:O.amount?`x${O.amount}`:"Rare"})]}),R&&t.isPremium&&l.jsxs("button",{onClick:()=>{et.playWin(),i(E,!0)},className:"absolute -bottom-3 px-3 py-1 text-[9px] font-black uppercase flex items-center gap-1",style:{background:"#06FFA5",color:"#000",border:"3px solid #000",boxShadow:"3px 3px 0px #000"},children:[l.jsx(Xn,{size:10})," Claim"]}),T&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:"rgba(255,255,255,0.9)"},children:l.jsx("div",{className:"p-2",style:{background:"#06FFA5",border:"3px solid #000"},children:l.jsx(Xn,{size:20,style:{color:"#000"}})})})]}):l.jsx("div",{className:"w-1 h-8",style:{background:"#CCC"}})]}),l.jsxs("div",{className:`absolute top-[55%] flex flex-col items-center justify-start h-44 w-full transition-all ${y?"opacity-100":"opacity-50 grayscale"}`,children:[l.jsx("div",{className:"px-3 py-1 text-[10px] font-black uppercase mt-10 mb-2",style:{background:"#06FFA5",color:"#000",border:"2px solid #000"},children:"Free"}),$?l.jsxs("div",{className:"relative w-32 p-4 flex flex-col items-center transition-all group-hover:translate-y-3",style:{background:"var(--color-surface)",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[$.type==="coins"?l.jsx(Rs,{size:36,style:{color:"#FFBE0B"}}):$.type==="sticker"?l.jsx(Tu,{size:36,style:{color:"#FF006E"}}):$.type==="card_pack"?l.jsx("div",{className:"text-4xl",children:""}):l.jsx(Rs,{size:32,style:{color:"#FFBE0B"}}),l.jsxs("div",{className:"mt-2 text-center",children:[l.jsx("div",{className:"text-[11px] font-black uppercase",style:{color:"var(--color-text)"},children:$.type}),$.amount&&l.jsxs("div",{className:"text-[10px] font-bold",style:{color:"#666"},children:["x",$.amount]})]}),N&&l.jsx("button",{onClick:()=>{et.playWin(),i(E,!1)},className:"absolute -bottom-4 px-4 py-1.5 text-[10px] font-black uppercase",style:{background:"#06FFA5",color:"#000",border:"3px solid #000",boxShadow:"3px 3px 0px #000"},children:"CLAIM"}),b&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:"rgba(255,255,255,0.9)"},children:l.jsx("div",{className:"p-2",style:{background:"#06FFA5",border:"3px solid #000"},children:l.jsx(Xn,{size:20,style:{color:"#000"}})})})]}):l.jsx("div",{className:"w-1 h-8",style:{background:"#CCC"}})]})]},E)})]})})]})},K0=({amount:t,onSuccess:e})=>{const n=_.useRef(null);return _.useEffect(()=>{!n.current||!window.paypal||(n.current.innerHTML="",window.paypal.Buttons({style:{layout:"horizontal",color:"gold",shape:"pill",label:"pay",height:39},createOrder:(i,o)=>o.order.create({purchase_units:[{amount:{value:t}}]}),onApprove:async(i,o)=>{const c=await o.order.capture();e(c)},onError:i=>{console.error("PayPal Error:",i),alert("Payment failed. Please try again.")}}).render(n.current))},[t]),l.jsx("div",{ref:n,className:"w-full flex justify-center z-0 relative"})},Ll="https://leximix.de/api",yN=async(t,e,n,i)=>{try{return await(await fetch(`${Ll}/register.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e,username:n,...i})})).json()}catch(o){return console.error("API Register Error:",o),{success:!1,error:"Verbindungsfehler"}}},bN=async(t,e)=>{try{return await(await fetch(`${Ll}/login.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})})).json()}catch(n){return console.error("API Login Error:",n),{success:!1,error:"Verbindungsfehler"}}},Yk=async(t,e)=>{try{return(await(await fetch(`${Ll}/save_cloud.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,saveData:e})})).json()).success}catch(n){return console.error("API Save Error:",n),!1}},qk=async t=>{try{const n=await(await fetch(`${Ll}/load_cloud.php?username=${encodeURIComponent(t)}`)).json();return n.success?n.data:null}catch(e){return console.error("API Load Error:",e),null}},$k=async(t,e)=>{try{return await(await fetch(`${Ll}/voucher.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,voucherCode:e})})).json()}catch(n){return console.error("API Voucher Error:",n),{success:!1,error:"Verbindungsfehler"}}},Xk=async(t,e)=>{try{return await(await fetch(`${Ll}/friends.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"add_friend",username:t,friendCode:e})})).json()}catch(n){return console.error("API Friend Error:",n),{success:!1,error:"Verbindungsfehler"}}},vN=async t=>({success:!1,error:"Funktion noch nicht verfgbar"}),Jd=Object.freeze(Object.defineProperty({__proto__:null,addFriendByCode:Xk,loadFromCloud:qk,loginUser:bN,redeemVoucher:$k,registerUser:yN,resetPassword:vN,saveToCloud:Yk},Symbol.toStringTag,{value:"Module"}));var TN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F1=fs.createContext&&fs.createContext(TN),Zk=["attr","size","title"];function Qk(t,e){if(t==null)return{};var n=Jk(t,e),i,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(o=0;o<c.length;o++)i=c[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Jk(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bh.apply(this,arguments)}function P1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(n),!0).forEach(function(i){e4(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function e4(t,e,n){return e=t4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t4(t){var e=n4(t,"string");return typeof e=="symbol"?e:e+""}function n4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SN(t){return t&&t.map((e,n)=>fs.createElement(e.tag,Gh({key:n},e.attr),SN(e.child)))}function ps(t){return e=>fs.createElement(s4,Bh({attr:Gh({},t.attr)},e),SN(t.child))}function s4(t){var e=n=>{var{attr:i,size:o,title:c}=t,d=Qk(t,Zk),h=o||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),fs.createElement("svg",Bh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,d,{className:f,style:Gh(Gh({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),c&&fs.createElement("title",null,c),t.children)};return F1!==void 0?fs.createElement(F1.Consumer,null,n=>e(n)):e(TN)}function i4(t){return ps({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 48a16 16 0 0 0-16-16H112a16 16 0 0 0-16 16v416a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16zM192 432h-48v-48h48zm0-80h-48v-48h48zm0-80h-48v-48h48zm88 160h-48v-48h48zm0-80h-48v-48h48zm0-80h-48v-48h48zm88 160h-48V304h48zm0-160h-48v-48h48zm0-96H144V80h224z"},child:[]}]})(t)}function U1(t){return ps({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-38 312.38-80.6-89.57 23.79-21.41 56 62.22L350 153.46 374.54 174z"},child:[]}]})(t)}function r4(t){return ps({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"44",d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"44",d:"M256 48c-58.07 0-112.67 93.13-112.67 208S197.93 464 256 464s112.67-93.13 112.67-208S314.07 48 256 48z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"44",d:"M117.33 121.33c38.24 27.15 86.38 43.34 138.67 43.34s100.43-16.19 138.67-43.34m0 269.34c-38.24-27.15-86.38-43.34-138.67-43.34s-100.43 16.19-138.67 43.34"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"44",d:"M256 48v416m208-208H48"},child:[]}]})(t)}function H1(t){return ps({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M420 192h-68v-80a96 96 0 1 0-192 0v80H92a12 12 0 0 0-12 12v280a12 12 0 0 0 12 12h328a12 12 0 0 0 12-12V204a12 12 0 0 0-12-12zm-106 0H198v-80.75a58 58 0 1 1 116 0z"},child:[]}]})(t)}function a4(t){return ps({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 80H48a16 16 0 0 0-16 16v320a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM265.82 284.63a16 16 0 0 1-19.64 0L89.55 162.81l19.64-25.26L256 251.73l146.81-114.18 19.64 25.26z"},child:[]}]})(t)}function AN(t){return ps({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 256a112 112 0 1 0-112-112 112 112 0 0 0 112 112zm0 32c-69.42 0-208 42.88-208 128v64h416v-64c0-85.12-138.58-128-208-128z"},child:[]}]})(t)}function NN(t){return ps({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},child:[]}]})(t)}function o4(t){return ps({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M479 447.77 268.43 56.64a8 8 0 0 0-14.09 0L43.73 447.77a8 8 0 0 0 7.05 11.79H472a8 8 0 0 0 7-11.79zm-197.62-36.29h-40v-40h40zm-4-63.92h-32l-6-160h44z"},child:[]}]})(t)}const Wm=({isOpen:t,onClose:e,onSuccess:n,lang:i,onLanguageChange:o,embedded:c=!1,initialMode:d="select_auth_type"})=>{const[h,f]=_.useState(d),[p,E]=_.useState(""),[y,b]=_.useState(""),[T,N]=_.useState(""),[R,I]=_.useState(""),[O,$]=_.useState(0),[U,K]=_.useState(""),[ne,P]=_.useState(!1),[Z,J]=_.useState(!1),[we,De]=_.useState(!1),ve=(i||"DE").toUpperCase(),he=ir[ve]||ir.DE;if(!he||!he.AUTH)return null;const[qe,W]=_.useState({num1:0,num2:0}),[Y,k]=_.useState(""),H=()=>{W({num1:Math.floor(Math.random()*10)+1,num2:Math.floor(Math.random()*10)+1}),k("")};_.useEffect(()=>{t&&h==="register"&&H()},[t,h]);const ae=async L=>{if(L.preventDefault(),K(""),h==="password_reset")return Se(L);if(h==="age_verify"){if(O<12||O>120){K("Das Alter muss zwischen 12 und 120 Jahren liegen.");return}f("register");return}if(!p||!T){K("Bitte flle alle Felder aus");return}if(h==="register"&&!y){K("Bitte whle einen Benutzernamen");return}if(!/\S+@\S+\.\S+/.test(p)){K("Bitte gib eine gltige E-Mail-Adresse ein");return}if(h==="register"){if(y.length<3){K("Benutzername zu kurz (mindestens 3 Zeichen)");return}if(y.length>30){K("Benutzername zu lang (maximal 30 Zeichen)");return}if(!/^[a-zA-Z0-9]+$/.test(y)){K("Nur Buchstaben und Zahlen erlaubt (a-z, 0-9)");return}if(T.length<6){K("Passwort muss mindestens 6 Zeichen lang sein");return}if(T!==R){K("Passwrter stimmen nicht berein");return}const se=qe.num1+qe.num2;if(parseInt(Y)!==se){K("Falsches Ergebnis bei der Rechenaufgabe"),H();return}}P(!0);try{if(h==="register"){const se=await yN(p,T,y,{language:i,age:O});se.success?J(!0):K(se.error||"Registrierung fehlgeschlagen")}else{const se=await bN(p,T);se.success&&se.username?(localStorage.setItem("leximix_cloud_user",se.username),n(se.username),e()):K(se.error||"Login fehlgeschlagen")}}catch{K("Ein Fehler ist aufgetreten")}finally{P(!1)}},Se=async L=>{if(L.preventDefault(),K(""),!p){K("Bitte gib deine E-Mail-Adresse ein");return}if(!/\S+@\S+\.\S+/.test(p)){K("Bitte gib eine gltige E-Mail-Adresse ein");return}P(!0);try{const se=await vN(p);se.success?De(!0):K(se.error||"Fehler beim Senden der E-Mail")}catch{K("Ein Fehler ist aufgetreten")}finally{P(!1)}},ge=()=>{E(""),b(""),N(""),I(""),k(""),K(""),J(!1)},w=()=>l.jsxs("div",{className:"flex h-3 w-full",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]});if(Z){const L=l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-8",style:{background:"var(--color-bg)"},children:[l.jsx(w,{}),l.jsxs("div",{className:"flex flex-col items-center space-y-6 text-center max-w-md",children:[l.jsx("div",{className:"p-6",style:{background:"#06FFA5",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)"},children:l.jsx(U1,{size:60,color:"#000"})}),l.jsx("h3",{className:"text-4xl font-black uppercase",style:{color:"#000",transform:"skew(-5deg)"},children:"Fast geschafft!"}),l.jsxs("p",{className:"text-lg font-bold",style:{color:"#4A4A4A"},children:["Wir haben dir eine Besttigungs-E-Mail an ",l.jsx("span",{style:{color:"#FF006E"},children:p})," gesendet. Bitte klicke auf den Link in der E-Mail, um deinen Account zu aktivieren."]}),l.jsx("button",{onClick:()=>{f("login"),J(!1)},className:"w-full py-4 px-8 font-black uppercase text-xl",style:{background:"#FF7F00",color:"#000",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)",transition:"all 0.1s linear"},onMouseEnter:se=>{se.currentTarget.style.transform="skew(-5deg) translateY(-4px)",se.currentTarget.style.boxShadow="12px 12px 0px #000"},onMouseLeave:se=>{se.currentTarget.style.transform="skew(-5deg)",se.currentTarget.style.boxShadow="8px 8px 0px #000"},children:"Zum Login"})]})]});return c?L:l.jsx(Pt,{isOpen:t,onClose:e,title:"E-Mail besttigen",children:L})}if(we){const L=l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-8",style:{background:"var(--color-bg)"},children:[l.jsx(w,{}),l.jsxs("div",{className:"flex flex-col items-center space-y-6 text-center max-w-md",children:[l.jsx("div",{className:"p-6",style:{background:"#8338EC",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)"},children:l.jsx(U1,{size:60,color:"#FFF"})}),l.jsx("h3",{className:"text-4xl font-black uppercase",style:{color:"#000",transform:"skew(-5deg)"},children:he.AUTH.resetEmailSent}),l.jsx("p",{className:"text-lg font-bold",style:{color:"#4A4A4A"},children:he.AUTH.checkEmail}),l.jsx("button",{onClick:()=>{f("login"),De(!1),ge()},className:"w-full py-4 px-8 font-black uppercase text-xl",style:{background:"#FF006E",color:"#000",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)",transition:"all 0.1s linear"},onMouseEnter:se=>{se.currentTarget.style.transform="skew(-5deg) translateY(-4px)",se.currentTarget.style.boxShadow="12px 12px 0px #000"},onMouseLeave:se=>{se.currentTarget.style.transform="skew(-5deg)",se.currentTarget.style.boxShadow="8px 8px 0px #000"},children:he.AUTH.backToLogin})]})]});return c?L:l.jsx(Pt,{isOpen:t,onClose:e,title:he.AUTH.resetPassword,children:L})}const q=l.jsxs("div",{className:"min-h-screen flex flex-col",style:{background:"var(--color-bg)"},children:[l.jsx(w,{}),l.jsx("div",{className:"w-full flex justify-center pt-8 pb-4",children:l.jsx("img",{src:"/LexiMix_Logo_Dark.png",alt:"LexiMix",className:"h-16 w-auto object-contain"})}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:l.jsxs("div",{className:"w-full max-w-md space-y-6",children:[h==="select_auth_type"&&l.jsx("div",{className:"flex justify-center mb-6"}),h==="language_select"&&l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("div",{className:"p-6",style:{background:"#FFBE0B",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)"},children:l.jsx(r4,{size:48,color:"#000"})})}),h==="age_verify"&&l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("div",{className:"p-6",style:{background:"#FF006E",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)"},children:l.jsx(NN,{size:48,color:"#FFF"})})}),l.jsxs("form",{onSubmit:ae,className:"space-y-5",children:[U&&l.jsxs("div",{className:"p-4 flex items-center gap-3",style:{background:"#FF006E",color:"#FFF",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx(o4,{size:24,color:"#FFF"}),l.jsx("span",{className:"text-sm font-bold",children:U})]}),h==="select_auth_type"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-3xl font-black uppercase text-center mb-8",style:{color:"var(--color-text)"},children:"Willkommen!"}),l.jsx("button",{type:"button",onClick:()=>f("login"),className:"w-full py-5 px-8 font-black uppercase text-xl",style:{background:"#FF7F00",color:"#000",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)",transition:"all 0.1s linear"},onMouseEnter:L=>{L.currentTarget.style.transform="skew(-5deg) translateY(-4px)",L.currentTarget.style.boxShadow="12px 12px 0px #000"},onMouseLeave:L=>{L.currentTarget.style.transform="skew(-5deg)",L.currentTarget.style.boxShadow="8px 8px 0px #000"},children:he.AUTH.login}),l.jsx("button",{type:"button",onClick:()=>f("age_verify"),className:"w-full py-5 px-8 font-black uppercase text-xl",style:{background:"#FF006E",color:"#000",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)",transition:"all 0.1s linear"},onMouseEnter:L=>{L.currentTarget.style.transform="skew(-5deg) translateY(-4px)",L.currentTarget.style.boxShadow="12px 12px 0px #000"},onMouseLeave:L=>{L.currentTarget.style.transform="skew(-5deg)",L.currentTarget.style.boxShadow="8px 8px 0px #000"},children:he.AUTH.register})]}),h==="language_select"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-3xl font-black uppercase text-center mb-6",style:{color:"var(--color-text)"},children:"Whle deine Sprache"}),l.jsxs("button",{type:"button",onClick:()=>{o(pe.DE),f("select_auth_type")},className:"w-full p-6 flex items-center justify-center gap-4 font-black uppercase text-xl",style:{background:"#FF006E",color:"#000",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)",transition:"all 0.1s linear"},onMouseEnter:L=>{L.currentTarget.style.transform="skew(-5deg) translateY(-4px)",L.currentTarget.style.boxShadow="12px 12px 0px #000"},onMouseLeave:L=>{L.currentTarget.style.transform="skew(-5deg)",L.currentTarget.style.boxShadow="8px 8px 0px #000"},children:[l.jsx("span",{className:"text-5xl",children:""}),l.jsx("span",{children:"DEUTSCH"})]}),l.jsxs("button",{type:"button",onClick:()=>{o(pe.EN),f("select_auth_type")},className:"w-full p-6 flex items-center justify-center gap-4 font-black uppercase text-xl",style:{background:"#FF7F00",color:"#000",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)",transition:"all 0.1s linear"},onMouseEnter:L=>{L.currentTarget.style.transform="skew(-5deg) translateY(-4px)",L.currentTarget.style.boxShadow="12px 12px 0px #000"},onMouseLeave:L=>{L.currentTarget.style.transform="skew(-5deg)",L.currentTarget.style.boxShadow="8px 8px 0px #000"},children:[l.jsx("span",{className:"text-5xl",children:""}),l.jsx("span",{children:"ENGLISH"})]}),l.jsxs("button",{type:"button",onClick:()=>{o(pe.ES),f("select_auth_type")},className:"w-full p-6 flex items-center justify-center gap-4 font-black uppercase text-xl",style:{background:"#8338EC",color:"#FFF",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)",transition:"all 0.1s linear"},onMouseEnter:L=>{L.currentTarget.style.transform="skew(-5deg) translateY(-4px)",L.currentTarget.style.boxShadow="12px 12px 0px #000"},onMouseLeave:L=>{L.currentTarget.style.transform="skew(-5deg)",L.currentTarget.style.boxShadow="8px 8px 0px #000"},children:[l.jsx("span",{className:"text-5xl",children:""}),l.jsx("span",{children:"ESPAOL"})]})]}),h==="age_verify"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-3xl font-black uppercase text-center mb-4",style:{color:"var(--color-text)"},children:he.AUTH.age}),l.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:O||"",onChange:L=>{const se=L.target.value.replace(/[^0-9]/g,""),Le=parseInt(se);(!se||Le<=120)&&$(se?Le:0)},className:"w-full px-6 py-4 text-center font-black text-3xl",style:{background:"var(--color-surface)",color:"var(--color-text)",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},placeholder:he.AUTH.age,autoFocus:!0}),l.jsx("p",{className:"text-sm font-bold text-center",style:{color:"#4A4A4A"},children:he.AUTH.minAge}),l.jsx("button",{type:"submit",disabled:!O,className:"w-full py-5 px-8 font-black uppercase text-xl disabled:opacity-50",style:{background:O?"#FF006E":"#CCC",color:"#000",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)",transition:"all 0.1s linear"},onMouseEnter:L=>{O&&(L.currentTarget.style.transform="skew(-5deg) translateY(-4px)",L.currentTarget.style.boxShadow="12px 12px 0px #000")},onMouseLeave:L=>{L.currentTarget.style.transform="skew(-5deg)",L.currentTarget.style.boxShadow="8px 8px 0px #000"},children:ir[i].ONBOARDING.CONTINUE})]}),(h==="login"||h==="register"||h==="password_reset")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-black uppercase mb-2",style:{color:"var(--color-text)"},children:"E-MAIL"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 p-2",style:{background:"#FFBE0B",border:"2px solid #000"},children:l.jsx(a4,{size:18,color:"#000"})}),l.jsx("input",{type:"email",value:p,onChange:L=>E(L.target.value),className:"w-full pl-20 pr-4 py-4 font-bold",style:{background:"var(--color-surface)",color:"var(--color-text)",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},placeholder:"deine@email.com",disabled:ne,autoFocus:!0})]})]}),h==="register"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-black uppercase mb-2",style:{color:"var(--color-text)"},children:he.AUTH.username}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 p-2",style:{background:"#FF006E",border:"2px solid #000"},children:l.jsx(AN,{size:18,color:"#FFF"})}),l.jsx("input",{type:"text",value:y,onChange:L=>b(L.target.value.replace(/[^a-zA-Z0-9]/g,"")),className:"w-full pl-20 pr-4 py-4 font-bold",style:{background:"var(--color-surface)",color:"var(--color-text)",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},placeholder:he.AUTH.username,disabled:ne,maxLength:30})]}),l.jsxs("p",{className:"text-xs font-bold text-right mt-1",style:{color:"#4A4A4A"},children:[y.length,"/30"]})]}),(h==="login"||h==="register")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-black uppercase mb-2",style:{color:"var(--color-text)"},children:he.AUTH.password}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 p-2",style:{background:"#8338EC",border:"2px solid #000"},children:l.jsx(H1,{size:18,color:"#FFF"})}),l.jsx("input",{type:"password",value:T,onChange:L=>N(L.target.value),className:"w-full pl-20 pr-4 py-4 font-bold",style:{background:"var(--color-surface)",color:"var(--color-text)",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},placeholder:he.AUTH.password,disabled:ne})]})]}),h==="register"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-black uppercase mb-2",style:{color:"var(--color-text)"},children:he.AUTH.confirmPassword}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 p-2",style:{background:"#06FFA5",border:"2px solid #000"},children:l.jsx(H1,{size:18,color:"#000"})}),l.jsx("input",{type:"password",value:R,onChange:L=>I(L.target.value),className:"w-full pl-20 pr-4 py-4 font-bold",style:{background:"var(--color-surface)",color:"var(--color-text)",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},placeholder:he.AUTH.confirmPassword,disabled:ne})]})]}),l.jsxs("div",{className:"p-4 space-y-3",style:{background:"#FFBE0B",border:"4px solid #000",boxShadow:"4px 4px 0px #000",transform:"skew(-2deg)"},children:[l.jsxs("label",{className:"block text-sm font-black uppercase flex items-center gap-2",style:{color:"#000"},children:[l.jsx(i4,{size:20}),he.AUTH.captcha,": ",qe.num1," + ",qe.num2," = ?"]}),l.jsx("input",{type:"number",value:Y,onChange:L=>k(L.target.value),className:"w-full px-4 py-3 text-center font-black text-2xl",style:{background:"var(--color-surface)",color:"var(--color-text)",border:"4px solid #000",boxShadow:"2px 2px 0px #000"},placeholder:he.AUTH.result,disabled:ne})]}),l.jsx("button",{type:"submit",disabled:ne,className:"w-full py-5 px-8 font-black uppercase text-xl disabled:opacity-50",style:{background:ne?"#CCC":"#FF006E",color:"#000",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)",transition:"all 0.1s linear"},onMouseEnter:L=>{ne||(L.currentTarget.style.transform="skew(-5deg) translateY(-4px)",L.currentTarget.style.boxShadow="12px 12px 0px #000")},onMouseLeave:L=>{L.currentTarget.style.transform="skew(-5deg)",L.currentTarget.style.boxShadow="8px 8px 0px #000"},children:ne?he.AUTH.loading:he.AUTH.register})]}),h==="login"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"submit",disabled:ne,className:"w-full py-5 px-8 font-black uppercase text-xl disabled:opacity-50",style:{background:ne?"#CCC":"#FF7F00",color:"#000",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)",transition:"all 0.1s linear"},onMouseEnter:L=>{ne||(L.currentTarget.style.transform="skew(-5deg) translateY(-4px)",L.currentTarget.style.boxShadow="12px 12px 0px #000")},onMouseLeave:L=>{L.currentTarget.style.transform="skew(-5deg)",L.currentTarget.style.boxShadow="8px 8px 0px #000"},children:ne?he.AUTH.loading:he.AUTH.login}),l.jsx("button",{type:"button",onClick:()=>{f("password_reset"),ge()},className:"w-full text-sm font-bold uppercase hover:underline",style:{color:"#8338EC"},children:he.AUTH.forgotPassword})]}),h==="password_reset"&&l.jsx("button",{type:"button",onClick:Se,disabled:ne,className:"w-full py-5 px-8 font-black uppercase text-xl disabled:opacity-50",style:{background:ne?"#CCC":"#8338EC",color:"#FFF",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-5deg)",transition:"all 0.1s linear"},onMouseEnter:L=>{ne||(L.currentTarget.style.transform="skew(-5deg) translateY(-4px)",L.currentTarget.style.boxShadow="12px 12px 0px #000")},onMouseLeave:L=>{L.currentTarget.style.transform="skew(-5deg)",L.currentTarget.style.boxShadow="8px 8px 0px #000"},children:ne?he.AUTH.loading:he.AUTH.sendResetEmail})]}),h!=="select_auth_type"&&l.jsxs("button",{type:"button",onClick:()=>{f("select_auth_type"),ge()},className:"w-full text-sm font-bold uppercase flex items-center justify-center gap-2 py-3",style:{color:"#4A4A4A",border:"2px solid #4A4A4A"},children:[l.jsx("span",{children:""})," ",i==="DE"?"Zurck":i==="ES"?"Atrs":"Back"]})]})]})})]});return c?q:l.jsx(Pt,{isOpen:t,onClose:e,title:h==="login"?he.AUTH.login:h==="age_verify"?"ALTER":h==="language_select"?"LANGUAGE":h==="register"?he.AUTH.register:"WELCOME",children:q})},l4=({user:t,setUser:e,setView:n,t:i,setShowRedeemModal:o,setRedeemStep:c,handleBuyItem:d})=>{const[h,f]=_.useState(0),p=[{title:"SEASON 2 IS LIVE",subtitle:"Unlock Cyberpunk Skins",color:"from-lexi-primary to-blue-600",icon:l.jsx(rr,{size:64,className:"text-white animate-pulse"})},{title:"NEW AVATARS",subtitle:"Check out the terminal",color:"from-green-500 to-teal-600",icon:l.jsx(ci,{size:64,className:"text-white animate-bounce-slow"})},{title:"COIN SALE",subtitle:"Get rich quick",color:"from-yellow-400 to-orange-500",icon:l.jsx(Rs,{size:64,className:"text-white animate-spin-reverse"})}],E=()=>{f(T=>(T+1)%p.length)},y=()=>{f(T=>(T-1+p.length)%p.length)},b=p[h]||p[0];return l.jsxs("div",{className:"h-full flex flex-col max-w-4xl mx-auto w-full overflow-hidden",style:{background:"var(--color-bg)"},children:[l.jsxs("div",{className:"flex h-3 w-full sticky top-0 z-30",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsxs("div",{className:"p-4 flex items-center justify-between z-20 sticky top-3 mx-4 mt-4",style:{background:"var(--color-surface)",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx("button",{onClick:()=>n("HOME"),className:"w-12 h-12 flex items-center justify-center transition-all active:translate-y-1",style:{background:"#FF006E",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:l.jsx(vn,{size:24,style:{color:"#000"}})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(d2,{size:24,style:{color:"var(--color-text)"}}),l.jsx("h2",{className:"text-xl font-black uppercase tracking-wide",style:{color:"var(--color-text)",transform:"skew(-3deg)"},children:i.SHOP.TITLE})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>{o(!0),c("code")},className:"hidden md:flex items-center gap-2 px-4 py-2 font-black text-xs uppercase transition-all duration-100",style:{background:"#8338EC",color:"var(--color-text)",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},onMouseEnter:T=>{T.currentTarget.style.transform="translateY(-2px)",T.currentTarget.style.boxShadow="6px 6px 0px #000"},onMouseLeave:T=>{T.currentTarget.style.transform="translateY(0)",T.currentTarget.style.boxShadow="4px 4px 0px #000"},children:[l.jsx(Cn,{size:14})," Code"]}),l.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 font-black",style:{background:"#FFBE0B",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx(ws,{size:16,style:{color:"#000"}}),l.jsx("span",{style:{color:"#000"},children:Math.max(0,t.coins)})]})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6 scrollbar-hide",children:[l.jsxs("div",{className:"w-full p-6 relative overflow-hidden transition-all duration-100",style:{background:h===0?"#FF006E":h===1?"#06FFA5":"#FFBE0B",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"skew(-2deg)"},children:[l.jsxs("div",{className:"flex items-center justify-between",style:{transform:"skew(2deg)"},children:[l.jsxs("div",{className:"z-10",children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-black uppercase mb-1",style:{color:"#000"},children:b.title}),l.jsx("p",{className:"font-bold tracking-widest uppercase text-xs",style:{color:"rgba(0,0,0,0.7)"},children:b.subtitle})]}),l.jsxs("div",{className:"w-16 h-16 flex items-center justify-center",style:{background:"#000",border:"3px solid #000"},children:[h===0&&l.jsx(rr,{size:32,style:{color:"#FF006E"}}),h===1&&l.jsx(ci,{size:32,style:{color:"#06FFA5"}}),h===2&&l.jsx(Rs,{size:32,style:{color:"#FFBE0B"}})]})]}),l.jsxs("div",{className:"flex justify-center gap-3 mt-4",style:{transform:"skew(2deg)"},children:[l.jsx("button",{onClick:y,className:"w-10 h-10 flex items-center justify-center transition-all",style:{background:"var(--color-surface)",border:"3px solid #000"},children:l.jsx(bI,{size:20,style:{color:"var(--color-text)"}})}),p.map((T,N)=>l.jsx("div",{className:"w-4 h-4 transition-all",style:{background:N===h?"#000":"var(--color-surface)",border:"2px solid #000"}},N)),l.jsx("button",{onClick:E,className:"w-10 h-10 flex items-center justify-center transition-all",style:{background:"var(--color-surface)",border:"3px solid #000"},children:l.jsx(TI,{size:20,style:{color:"var(--color-text)"}})})]})]}),l.jsx("div",{className:"md:hidden w-full",children:l.jsxs("button",{onClick:()=>{o(!0),c("code")},className:"w-full py-4 flex items-center justify-center gap-2 font-black text-sm uppercase transition-all duration-100",style:{background:"#8338EC",color:"var(--color-text)",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx(Cn,{size:16})," Gutschein einlsen"]})}),l.jsxs("div",{children:[l.jsxs("div",{className:"inline-block px-4 py-2 mb-4 font-black text-sm uppercase tracking-wider",style:{background:"#000",color:"#FF006E"},children:[l.jsx(n2,{size:14,className:"inline mr-2"})," KARTEN PACKS"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:kc.filter(T=>T.type==="card_pack").map(T=>l.jsxs("div",{className:"p-4 flex flex-col items-center relative overflow-hidden group transition-all duration-100",style:{background:"var(--color-surface)",border:"4px solid #000",boxShadow:"6px 6px 0px #FF006E",transform:"skewX(-3deg)"},children:[l.jsx("div",{className:"w-20 h-20 mb-3 flex items-center justify-center text-4xl bg-white border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] group-hover:scale-110 transition-transform",style:{transform:"skewX(3deg)"},children:""}),l.jsx("span",{className:"text-lg font-black uppercase mb-1 text-center leading-tight",style:{color:"var(--color-text)",transform:"skewX(3deg)"},children:T.name}),l.jsx("p",{className:"text-xs text-center mb-4 font-bold opacity-70",style:{transform:"skewX(3deg)"},children:T.description}),l.jsx("div",{className:"mt-auto w-full",style:{transform:"skewX(3deg)"},children:l.jsxs("button",{onClick:()=>d(T),className:"w-full py-3 font-black text-sm uppercase flex items-center justify-center gap-2 transition-all hover:translate-y-1 hover:shadow-none",style:{background:"#FF006E",color:"#fff",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx(ws,{size:14})," ",T.cost]})})]},T.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"inline-block px-4 py-2 mb-4 font-black text-sm uppercase tracking-wider",style:{background:"#000",color:"#06FFA5"},children:[l.jsx(ci,{size:14,className:"inline mr-2"})," ",i.SHOP.AVATAR_SECTION]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:kc.filter(T=>T.type==="avatar").map((T,N)=>{const R=(t.ownedAvatars||[]).includes(T.value),I=t.avatarId===T.value;return l.jsxs("div",{className:"p-4 flex flex-col items-center relative overflow-hidden group transition-all duration-100",style:{background:I?"#06FFA5":"var(--color-surface)",border:"4px solid #000",boxShadow:"6px 6px 0px #000",transform:"skewX(-3deg)"},children:[l.jsx("div",{className:"w-20 h-20 mb-3 overflow-hidden group-hover:scale-105 transition-transform",style:{border:"3px solid #000",transform:"skewX(3deg)"},children:l.jsx("img",{src:`https://api.dicebear.com/9.x/bottts-neutral/svg?seed=${T.value}`,alt:T.name,className:"w-full h-full"})}),l.jsx("span",{className:"text-sm font-black uppercase mb-2 text-center leading-tight",style:{color:I?"#000":"var(--color-text)",transform:"skewX(3deg)"},children:T.name}),l.jsx("div",{className:"mt-auto w-full",style:{transform:"skewX(3deg)"},children:R?l.jsx("button",{disabled:I,onClick:()=>e({...t,avatarId:T.value}),className:"w-full py-2 font-black text-xs uppercase transition-all",style:{background:I?"#000":"var(--color-surface)",color:I?"#06FFA5":"var(--color-text)",border:"3px solid #000",boxShadow:"3px 3px 0px #000"},children:I?i.SHOP.EQUIPPED:i.SHOP.EQUIP}):l.jsxs("button",{onClick:()=>d(T),className:"w-full py-2 font-black text-xs uppercase flex items-center justify-center gap-1 transition-all",style:{background:"#FFBE0B",color:"#000",border:"3px solid #000",boxShadow:"3px 3px 0px #000"},children:[l.jsx(ws,{size:12})," ",T.cost]})})]},T.id)})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"inline-block px-4 py-2 mb-4 font-black text-sm uppercase tracking-wider",style:{background:"#000",color:"#FFBE0B"},children:[l.jsx(A0,{size:14,className:"inline mr-2"})," ",i.SHOP.CURRENCY_SECTION]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:kc.filter(T=>T.type==="currency").map((T,N)=>l.jsxs("div",{className:"p-4 flex flex-col items-center relative overflow-hidden group transition-all duration-100",style:{background:"var(--color-surface)",border:"4px solid #000",boxShadow:"6px 6px 0px #FFBE0B",transform:"skewX(-3deg)"},children:[l.jsx("div",{className:"w-14 h-14 flex items-center justify-center mb-2 group-hover:scale-110 transition-transform",style:{background:"#FFBE0B",border:"3px solid #000",transform:"skewX(3deg)"},children:l.jsx(Rs,{size:28,style:{color:"#000"}})}),l.jsx("span",{className:"text-2xl font-black mb-0 leading-none",style:{color:"var(--color-text)",transform:"skewX(3deg)"},children:T.currencyAmount}),l.jsx("span",{className:"text-[10px] font-black uppercase mb-3",style:{color:"var(--color-text-muted)",transform:"skewX(3deg)"},children:i.GAME.COINS_GAINED}),l.jsx("div",{className:"w-full mt-auto",style:{transform:"skewX(3deg)"},children:T.isRealMoney?l.jsx("div",{className:"w-full",children:l.jsx(K0,{amount:String(T.cost).replace("","").replace(",",".").trim(),onSuccess:R=>{et.playWin(),e(I=>({...I,coins:I.coins+(T.currencyAmount||0)})),alert(`${i.SHOP.SUCCESS}: ${T.name}`)}})}):l.jsx("button",{onClick:()=>d(T),className:"w-full py-2 font-black text-sm uppercase transition-all",style:{background:"#FF7F00",color:"#000",border:"3px solid #000",boxShadow:"3px 3px 0px #000"},children:T.cost})})]},T.id))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"inline-block px-4 py-2 mb-4 font-black text-sm uppercase tracking-wider",style:{background:"#000",color:"#8338EC"},children:" KARTENRCKSEITEN"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:kc.filter(T=>T.type==="card_back").map(T=>{const N=(t.ownedCardBacks||[]).includes(T.value),R=t.activeCardBack===T.value;return l.jsxs("div",{className:"p-4 flex flex-col items-center relative overflow-hidden group transition-all duration-100",style:{background:R?"#8338EC":"var(--color-surface)",border:"4px solid #000",boxShadow:"6px 6px 0px #8338EC",transform:"skewX(-3deg)"},children:[l.jsx("div",{className:"w-20 h-28 mb-3 flex items-center justify-center text-5xl group-hover:scale-105 transition-transform",style:{background:"linear-gradient(135deg, #8338EC, #A855F7)",border:"3px solid #000",transform:"skewX(3deg)",boxShadow:"4px 4px 0px #000"},children:""}),l.jsx("span",{className:"text-sm font-black uppercase mb-2 text-center leading-tight",style:{color:R?"#FFF":"var(--color-text)",transform:"skewX(3deg)"},children:T.name}),l.jsx("div",{className:"mt-auto w-full",style:{transform:"skewX(3deg)"},children:N?l.jsx("button",{disabled:R,onClick:()=>e({...t,activeCardBack:T.value}),className:"w-full py-2 font-black text-xs uppercase transition-all",style:{background:R?"#000":"var(--color-surface)",color:R?"#8338EC":"var(--color-text)",border:"3px solid #000",boxShadow:"3px 3px 0px #000"},children:R?i.SHOP.EQUIPPED:i.SHOP.EQUIP}):l.jsxs("button",{onClick:()=>d(T),className:"w-full py-2 font-black text-xs uppercase flex items-center justify-center gap-1 transition-all",style:{background:"#8338EC",color:"#FFF",border:"3px solid #000",boxShadow:"3px 3px 0px #000"},children:[l.jsx(ws,{size:12})," ",T.cost]})})]},T.id)})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"inline-block px-4 py-2 mb-4 font-black text-sm uppercase tracking-wider",style:{background:"#000",color:"#FF7F00"},children:[l.jsx(Gv,{size:14,className:"inline mr-2"})," RAHMEN"]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:kc.filter(T=>T.type==="frame").map(T=>{const N=(t.ownedFrames||[]).includes(T.value),R=t.activeFrame===T.value;return l.jsxs("div",{className:"p-4 flex flex-col items-center relative overflow-hidden group transition-all duration-100",style:{background:R?"#FF7F00":"var(--color-surface)",border:"4px solid #000",boxShadow:"6px 6px 0px #FF7F00",transform:"skewX(-3deg)"},children:[l.jsx("div",{className:"w-20 h-20 mb-3 flex items-center justify-center relative group-hover:scale-105 transition-transform",style:{background:"linear-gradient(135deg, #FF7F00, #FFBE0B)",border:"4px solid #000",transform:"skewX(3deg)",boxShadow:"4px 4px 0px #000"},children:l.jsx(Gv,{size:40,style:{color:"#000"}})}),l.jsx("span",{className:"text-sm font-black uppercase mb-2 text-center leading-tight",style:{color:R?"#000":"var(--color-text)",transform:"skewX(3deg)"},children:T.name}),l.jsx("div",{className:"mt-auto w-full",style:{transform:"skewX(3deg)"},children:N?l.jsx("button",{disabled:R,onClick:()=>e({...t,activeFrame:T.value}),className:"w-full py-2 font-black text-xs uppercase transition-all",style:{background:R?"#000":"var(--color-surface)",color:R?"#FF7F00":"var(--color-text)",border:"3px solid #000",boxShadow:"3px 3px 0px #000"},children:R?i.SHOP.EQUIPPED:i.SHOP.EQUIP}):l.jsxs("button",{onClick:()=>d(T),className:"w-full py-2 font-black text-xs uppercase flex items-center justify-center gap-1 transition-all",style:{background:"#FF7F00",color:"#000",border:"3px solid #000",boxShadow:"3px 3px 0px #000"},children:[l.jsx(ws,{size:12})," ",T.cost]})})]},T.id)})})]})]})]})},c4=({board:t,selectedCell:e,onCellSelect:n,original:i,validation:o})=>{const c=(d,h,f,p,E,y,b)=>b==="correct"?{background:"#06FFA5",color:"#000"}:b==="error"?{background:"#FF006E",color:"#FFF"}:E?{background:"#FFBE0B",color:"#000",boxShadow:"inset 0 0 0 3px #000"}:y?{background:"var(--color-bg)",color:"#8338EC"}:p?{background:"#E5E5E5",color:"#000"}:{background:"var(--color-surface)",color:"#8338EC"};return l.jsx("div",{className:"w-full max-w-sm mx-auto aspect-square select-none overflow-hidden",style:{border:"4px solid #000",boxShadow:"8px 8px 0px #8338EC",background:"var(--color-surface)",transform:"skewX(-2deg)"},children:l.jsx("div",{className:"w-full h-full grid grid-cols-9 grid-rows-9",style:{transform:"skewX(2deg)"},children:t.map((d,h)=>d.map((f,p)=>{var O;const E=(e==null?void 0:e.r)===h&&(e==null?void 0:e.c)===p,y=e&&(e.r===h||e.c===p),b=i[h][p]!==null,T=(O=o==null?void 0:o[h])==null?void 0:O[p],N=(p+1)%3===0&&p!==8?"3px solid #000":"1px solid #CCC",R=(h+1)%3===0&&h!==8?"3px solid #000":"1px solid #CCC",I=c(h,p,f,b,E,y||!1,T);return l.jsx("div",{onClick:()=>{dh.playClick(),n(h,p)},className:"relative flex items-center justify-center text-base sm:text-xl md:text-2xl cursor-pointer transition-all font-black",style:{...I,borderRight:N,borderBottom:R},children:f||""},`${h}-${p}`)}))})})},u4=({onInput:t,onDelete:e})=>{const n=["A","B","C","D","E","F","G","H","I"];return l.jsxs("div",{className:"w-full max-w-sm mx-auto mt-4 px-2",style:{transform:"skewX(-2deg)"},children:[l.jsx("div",{className:"grid grid-cols-5 gap-2 mb-2",children:n.slice(0,5).map(i=>l.jsx("button",{onClick:()=>{dh.playClick(),t(i)},className:"h-12 font-black text-lg transition-all active:translate-y-1",style:{background:"#8338EC",color:"var(--color-text)",border:"3px solid #000",boxShadow:"4px 4px 0px #000",transform:"skewX(2deg)"},children:i},i))}),l.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[n.slice(5).map(i=>l.jsx("button",{onClick:()=>{dh.playClick(),t(i)},className:"h-12 font-black text-lg transition-all active:translate-y-1",style:{background:"#8338EC",color:"var(--color-text)",border:"3px solid #000",boxShadow:"4px 4px 0px #000",transform:"skewX(2deg)"},children:i},i)),l.jsx("button",{onClick:()=>{dh.playClick(),e()},className:"h-12 font-black text-xs transition-all active:translate-y-1 flex items-center justify-center",style:{background:"#FF006E",color:"var(--color-text)",border:"3px solid #000",boxShadow:"4px 4px 0px #000",transform:"skewX(2deg)"},children:"DEL"})]})]})},d4=()=>{const[t,e]=_.useState(!1),[n,i]=_.useState(!1),[o,c]=_.useState(!1),d=_.useRef(null),h="https://stream.zeno.fm/0r0xa792kwzuv",f=()=>{if(d.current){if(t)d.current.pause();else{const E=d.current.play();E!==void 0&&E.catch(y=>{console.error("Audio playback failed:",y)})}e(!t)}},p=()=>{d.current&&(d.current.muted=!n,i(!n))};return l.jsxs("div",{className:"fixed bottom-6 left-6 z-50 flex flex-col items-start gap-2",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[l.jsx("audio",{ref:d,src:h,preload:"none",crossOrigin:"anonymous"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:f,className:`w-12 h-12 rounded-full flex items-center justify-center backdrop-blur-xl border shadow-lg transition-all duration-300 hover:scale-110 active:scale-95 group
             ${t?"bg-gradient-to-tr from-lexi-primary to-purple-600 border-white/20 text-white shadow-[0_0_20px_rgba(99,102,241,0.5)]":"bg-gray-900/80 border-white/10 text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:l.jsx(e2,{size:20,className:`transition-transform duration-700 ${t?"animate-[spin_3s_linear_infinite]":"group-hover:scale-110"}`})}),l.jsxs("div",{className:`flex items-center gap-2 transition-all duration-300 overflow-hidden ${t||o?"w-24 opacity-100":"w-0 opacity-0"}`,children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-[10px] font-bold text-lexi-primary uppercase tracking-wider whitespace-nowrap",children:"Lofi Radio"}),l.jsxs("span",{className:"text-[9px] text-gray-400 whitespace-nowrap flex items-center gap-1",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-green-500 animate-pulse":"bg-red-500"}`}),t?"LIVE":"OFFLINE"]})]}),t&&l.jsx("button",{onClick:p,className:"w-8 h-8 rounded-full bg-black/40 text-white/80 flex items-center justify-center backdrop-blur-md border border-white/10 hover:bg-black/60 hover:scale-110 transition-all ml-auto shrink-0",children:n?l.jsx(M2,{size:14}):l.jsx(C2,{size:14})})]})]})]})},h4=({language:t,user:e,onUpdateUser:n,onBack:i,onGameEnd:o})=>{const[c,d]=_.useState(!1),[h,f]=_.useState(!1),[p,E]=_.useState(0),[y,b]=_.useState(60),[T,N]=_.useState(0),[R,I]=_.useState([]),[O,$]=_.useState(""),[U,K]=_.useState(!1),[ne,P]=_.useState(null),[Z,J]=_.useState(!1),we=_.useRef(null),De=_.useRef(null),ve=ir[t],he=_.useCallback(()=>{switch(t){case pe.DE:return EN;case pe.ES:return xN;default:return gN}},[t]),qe=_.useCallback(()=>{const ge=he(),w=ge[Math.floor(Math.random()*ge.length)];I(w),$(""),P(null)},[he]),W=()=>{d(!0),f(!1),E(0),b(60),N(0),qe(),setTimeout(()=>{var ge;return(ge=De.current)==null?void 0:ge.focus()},100)};_.useEffect(()=>(c&&!h&&!Z&&(we.current=setInterval(()=>{b(ge=>ge<=1?(Y(),0):ge-1)},1e3)),()=>{we.current&&clearInterval(we.current)}),[c,h,Z]);const Y=()=>{d(!1),f(!0),we.current&&clearInterval(we.current)},k=ge=>{if(!c||h||Z)return;const w=ge.target.value.toUpperCase().replace(/[^A-Z]/g,""),q=R[1];w.length<=q.length&&($(w),w.length===q.length&&(w===q?H():ae()))},H=()=>{P("correct");const ge=2,w=10+T*2;E(q=>q+w),b(q=>Math.min(q+ge,60)),N(q=>q+1),setTimeout(()=>{qe()},300)},ae=()=>{K(!0),P("wrong"),N(0),setTimeout(()=>K(!1),500)},Se=ge=>{var q;const w=ge==="letter"?20:50;if(e.coins<w){alert("Not enough coins!");return}if(n(L=>({...L,coins:L.coins-w})),ge==="word")$(R[1]),setTimeout(H,500);else{const L=R[1],se=O.length;se<L.length&&($(L.substring(0,se+1)),se+1===L.length&&setTimeout(H,500))}J(!1),(q=De.current)==null||q.focus()};return h?l.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 animate-in fade-in zoom-in duration-300",children:l.jsxs("div",{className:"bg-[var(--color-surface)] border-4 border-[var(--color-border)] p-8 max-w-md w-full text-center relative",style:{boxShadow:"8px 8px 0px var(--color-border)"},children:[l.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-[#FF006E] text-white border-4 border-[var(--color-border)] px-6 py-2 font-black text-xl rotate-2 shadow-[4px_4px_0px_#000]",children:ve.CHAIN_GAME.GAME_OVER}),l.jsxs("div",{className:"mt-8 mb-6",children:[l.jsx("p",{className:"text-sm font-bold uppercase text-gray-500 mb-1",children:ve.CHAIN_GAME.FINAL_SCORE}),l.jsx("p",{className:"text-6xl font-black",children:p})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-blue-100 p-3 border-2 border-[var(--color-border)]",children:[l.jsx("p",{className:"text-xs font-bold uppercase",children:ve.GAME.XP_GAINED}),l.jsxs("p",{className:"text-xl font-black",children:["+",Math.floor(p/10)]})]}),l.jsxs("div",{className:"bg-yellow-100 p-3 border-2 border-[var(--color-border)]",children:[l.jsx("p",{className:"text-xs font-bold uppercase",children:ve.GAME.COINS_GAINED}),l.jsxs("p",{className:"text-xl font-black",children:["+",Math.floor(p/20)]})]})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("button",{onClick:W,className:"w-full py-4 bg-[#06FFA5] border-4 border-[var(--color-border)] font-black text-xl hover:translate-y-1 active:translate-y-2 transition-all shadow-[4px_4px_0px_#000]",children:ve.CHAIN_GAME.PLAY_AGAIN}),l.jsx("button",{onClick:()=>o(Math.floor(p/20),Math.floor(p/10)),className:"w-full py-4 bg-[var(--color-surface)] border-4 border-[var(--color-border)] font-black text-xl hover:bg-gray-50 transition-all shadow-[4px_4px_0px_#000]",children:ve.CHAIN_GAME.EXIT})]})]})}):c?l.jsxs("div",{className:"flex flex-col h-full relative overflow-hidden",children:[l.jsxs("div",{className:"p-4 flex justify-between items-center bg-[var(--color-surface)] border-b-4 border-[var(--color-border)]",children:[l.jsx("button",{onClick:Y,className:"p-2 border-2 border-[var(--color-border)] hover:bg-gray-100 shadow-[2px_2px_0px_#000]",children:l.jsx(vn,{size:24})}),l.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-[#FFBE0B] border-2 border-[var(--color-border)] shadow-[2px_2px_0px_#000]",children:[l.jsx(Qr,{size:20}),l.jsxs("span",{className:`font-mono font-black text-xl ${y<10?"text-red-600 animate-pulse":""}`,children:[y,"s"]})]}),l.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-[var(--color-surface)] border-2 border-[var(--color-border)] shadow-[2px_2px_0px_#000]",children:[l.jsx(Ya,{size:20,className:"text-[#FF006E]"}),l.jsx("span",{className:"font-mono font-black text-xl",children:p})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 relative",onClick:()=>{var ge;return(ge=De.current)==null?void 0:ge.focus()},children:[T>1&&l.jsx("div",{className:"absolute top-8 animate-bounce",children:l.jsxs("div",{className:"bg-[#FF006E] text-white px-4 py-1 border-2 border-[var(--color-border)] shadow-[4px_4px_0px_#000] -rotate-3 font-black text-lg",children:[T,"x ",ve.CHAIN_GAME.COMBO_TEXT]})}),l.jsxs("div",{className:`flex flex-col items-center gap-4 transition-all duration-200 ${U?"translate-x-[-10px]":""}`,children:[l.jsx("div",{className:"bg-[var(--color-surface)] border-4 border-[var(--color-border)] px-8 py-4 shadow-[8px_8px_0px_#000] rotate-1",children:l.jsx("span",{className:"text-4xl md:text-6xl font-black uppercase tracking-wider",children:R[0]})}),l.jsx("div",{className:"text-4xl font-black text-gray-400",children:"+"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`bg-[var(--color-surface)] border-4 border-[var(--color-border)] px-8 py-4 shadow-[8px_8px_0px_#000] -rotate-1 min-w-[200px] text-center
              ${ne==="correct"?"bg-[#06FFA5]":""}
              ${ne==="wrong"?"bg-red-100":""}
            `,children:l.jsx("span",{className:"text-4xl md:text-6xl font-black uppercase tracking-wider text-[#FF006E]",children:O||"_".repeat(R[1].length)})}),l.jsx("input",{ref:De,type:"text",value:O,onChange:k,className:"opacity-0 absolute inset-0 w-full h-full cursor-pointer",autoFocus:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"})]})]}),l.jsx("div",{className:"mt-12 text-center opacity-50 font-bold",children:ve.CHAIN_GAME.HINT_DESC}),l.jsx("button",{onClick:ge=>{ge.stopPropagation(),J(!0)},className:"absolute bottom-8 right-8 w-14 h-14 bg-[#8338EC] text-white border-4 border-[var(--color-border)] flex items-center justify-center shadow-[4px_4px_0px_#000] hover:translate-y-[-2px] active:translate-y-[2px] transition-all",children:l.jsx(Zo,{size:28,strokeWidth:3})})]}),l.jsx("div",{className:"p-4 text-center text-sm font-bold bg-gray-100 border-t-2 border-[var(--color-border)]",children:ve.CHAIN_GAME.KEYBOARD_HINT}),Z&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-[var(--color-surface)] border-4 border-[var(--color-border)] p-6 w-full max-w-sm relative shadow-[8px_8px_0px_#000] animate-in zoom-in duration-200",children:[l.jsx("button",{onClick:()=>J(!1),className:"absolute top-4 right-4 p-1 hover:bg-gray-100 border-2 border-transparent hover:border-[var(--color-border)] transition-all",children:l.jsx(Al,{size:24})}),l.jsxs("h3",{className:"text-2xl font-black uppercase mb-6 flex items-center gap-2",children:[l.jsx(Zo,{className:"text-[#8338EC]"})," ",ve.CHAIN_GAME.NEED_HELP]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:()=>Se("letter"),className:"w-full p-4 bg-[var(--color-surface)] border-4 border-[var(--color-border)] flex items-center justify-between hover:bg-gray-50 active:bg-gray-100 transition-all shadow-[4px_4px_0px_#000]",children:[l.jsx("span",{className:"font-bold",children:ve.CHAIN_GAME.REVEAL_LETTER}),l.jsxs("span",{className:"font-black bg-[#FFBE0B] px-2 py-1 border-2 border-[var(--color-border)] text-sm",children:["20 ",ve.GAME.COINS_GAINED]})]}),l.jsxs("button",{onClick:()=>Se("word"),className:"w-full p-4 bg-[var(--color-surface)] border-4 border-[var(--color-border)] flex items-center justify-between hover:bg-gray-50 active:bg-gray-100 transition-all shadow-[4px_4px_0px_#000]",children:[l.jsx("span",{className:"font-bold",children:ve.CHAIN_GAME.REVEAL_WORD}),l.jsxs("span",{className:"font-black bg-[#FFBE0B] px-2 py-1 border-2 border-[var(--color-border)] text-sm",children:["50 ",ve.GAME.COINS_GAINED]})]})]}),l.jsxs("div",{className:"mt-6 text-center font-bold text-gray-500 text-sm",children:[ve.HOME.COINS,": ",e.coins]})]})})]}):l.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4",children:l.jsxs("div",{className:"bg-[var(--color-surface)] border-4 border-[var(--color-border)] p-8 max-w-md w-full text-center relative",style:{boxShadow:"8px 8px 0px var(--color-border)"},children:[l.jsx("h1",{className:"text-4xl font-black mb-2 uppercase italic",style:{color:"var(--color-text)"},children:ve.CHAIN_GAME.TITLE}),l.jsx("p",{className:"text-lg font-bold mb-8",style:{color:"var(--color-text)"},children:ve.CHAIN_GAME.INSTRUCTIONS}),l.jsxs("div",{className:"space-y-4 mb-8 text-left",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-[#FFBE0B] border-2 border-[var(--color-border)] flex items-center justify-center shadow-[2px_2px_0px_var(--color-border)]",children:l.jsx(Qr,{size:24,className:"text-black"})}),l.jsxs("div",{style:{color:"var(--color-text)"},children:[l.jsx("p",{className:"font-black",children:ve.CHAIN_GAME.TIME_LABEL}),l.jsx("p",{className:"text-sm",children:ve.CHAIN_GAME.TIME_DESC})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-[#FF006E] border-2 border-[var(--color-border)] flex items-center justify-center shadow-[2px_2px_0px_var(--color-border)] text-white",children:l.jsx(rr,{size:24})}),l.jsxs("div",{style:{color:"var(--color-text)"},children:[l.jsx("p",{className:"font-black",children:ve.CHAIN_GAME.COMBO_LABEL}),l.jsx("p",{className:"text-sm",children:ve.CHAIN_GAME.COMBO_DESC})]})]})]}),l.jsx("button",{onClick:W,className:"w-full py-4 bg-[#06FFA5] border-4 border-[var(--color-border)] font-black text-2xl hover:translate-y-1 active:translate-y-2 transition-all shadow-[6px_6px_0px_var(--color-border)] uppercase text-black",children:ve.CHAIN_GAME.START_BTN}),l.jsx("button",{onClick:i,className:"mt-4 font-bold underline hover:text-[#FF006E]",style:{color:"var(--color-text)"},children:ve.CHAIN_GAME.BACK_BTN})]})})};function f4(t){return t!==null?{comment:t,variations:[]}:{variations:[]}}function p4(t,e,n,i,o){const c={move:t,variations:o};return e&&(c.suffix=e),n&&(c.nag=n),i!==null&&(c.comment=i),c}function m4(...t){const[e,...n]=t;let i=e;for(const o of n)o!==null&&(i.variations=[o,...o.variations],o.variations=[],i=o);return e}function g4(t,e){if(e.marker&&e.marker.comment){let n=e.root;for(;;){const i=n.variations[0];if(!i){n.comment=e.marker.comment;break}n=i}}return{headers:t,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function E4(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function bl(t,e,n,i){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,bl.prototype),o.expected=e,o.found=n,o.location=i,o.name="SyntaxError",o}E4(bl,Error);function Ym(t,e,n){return n=n||" ",t.length>e?t:(e-=t.length,n+=n.repeat(e),t+n.slice(0,e))}bl.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var n=null,i;for(i=0;i<t.length;i++)if(t[i].source===this.location.source){n=t[i].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,c=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,d=this.location.source+":"+c.line+":"+c.column;if(n){var h=this.location.end,f=Ym("",c.line.toString().length," "),p=n[o.line-1],E=o.line===h.line?h.column:p.length+1,y=E-o.column||1;e+=`
 --> `+d+`
`+f+` |
`+c.line+" | "+p+`
`+f+" | "+Ym("",o.column-1," ")+Ym("",y,"^")}else e+=`
 at `+d}return e};bl.buildMessage=function(t,e){var n={literal:function(p){return'"'+o(p.text)+'"'},class:function(p){var E=p.parts.map(function(y){return Array.isArray(y)?c(y[0])+"-"+c(y[1]):c(y)});return"["+(p.inverted?"^":"")+E.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(p){return p.description}};function i(p){return p.charCodeAt(0).toString(16).toUpperCase()}function o(p){return p.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+i(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+i(E)})}function c(p){return p.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+i(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+i(E)})}function d(p){return n[p.type](p)}function h(p){var E=p.map(d),y,b;if(E.sort(),E.length>0){for(y=1,b=1;y<E.length;y++)E[y-1]!==E[y]&&(E[b]=E[y],b++);E.length=b}switch(E.length){case 1:return E[0];case 2:return E[0]+" or "+E[1];default:return E.slice(0,-1).join(", ")+", or "+E[E.length-1]}}function f(p){return p?'"'+o(p)+'"':"end of input"}return"Expected "+h(t)+" but "+f(e)+" found."};function x4(t,e){e=e!==void 0?e:{};var n={},i=e.grammarSource,o={pgn:io},c=io,d="[",h='"',f="]",p=".",E="O-O-O",y="O-O",b="0-0-0",T="0-0",N="$",R="{",I="}",O=";",$="(",U=")",K="1-0",ne="0-1",P="1/2-1/2",Z="*",J=/^[a-zA-Z]/,we=/^[^"]/,De=/^[0-9]/,ve=/^[.]/,he=/^[a-zA-Z1-8\-=]/,qe=/^[+#]/,W=/^[!?]/,Y=/^[^}]/,k=/^[^\r\n]/,H=/^[ \t\r\n]/,ae=Qt("tag pair"),Se=Vt("[",!1),ge=Vt('"',!1),w=Vt("]",!1),q=Qt("tag name"),L=xn([["a","z"],["A","Z"]],!1,!1),se=Qt("tag value"),Le=xn(['"'],!0,!1),xe=Qt("move number"),Ae=xn([["0","9"]],!1,!1),Ge=Vt(".",!1),ue=xn(["."],!1,!1),Ce=Qt("standard algebraic notation"),st=Vt("O-O-O",!1),it=Vt("O-O",!1),Te=Vt("0-0-0",!1),Ee=Vt("0-0",!1),ye=xn([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),ie=xn(["+","#"],!1,!1),Fe=Qt("suffix annotation"),We=xn(["!","?"],!1,!1),ot=Qt("NAG"),_t=Vt("$",!1),be=Qt("brace comment"),ke=Vt("{",!1),fe=xn(["}"],!0,!1),Me=Vt("}",!1),xt=Qt("rest of line comment"),$e=Vt(";",!1),mt=xn(["\r",`
`],!0,!1),vt=Qt("variation"),ns=Vt("(",!1),Zs=Vt(")",!1),hr=Qt("game termination marker"),ha=Vt("1-0",!1),pi=Vt("0-1",!1),An=Vt("1/2-1/2",!1),Cs=Vt("*",!1),gn=Qt("whitespace"),Bn=xn([" ","	","\r",`
`],!1,!1),so=function(F,ee){return g4(F,ee)},Pl=function(F){return Object.fromEntries(F)},Is=function(F,ee){return[F,ee]},Ms=function(F,ee){return{root:F,marker:ee}},ms=function(F,ee){return m4(f4(F),...ee.flat())},Ds=function(F,ee,B,Oe,Ve){return p4(F,ee,B,Oe,Ve)},fr=function(F){return F},mi=function(F){return F.replace(/[\r\n]+/g," ")},Ul=function(F){return F.trim()},Oi=function(F){return F},pr=function(F,ee){return{result:F,comment:ee}},Q=e.peg$currPos|0,Ls=[{line:1,column:1}],qt=Q,Qs=e.peg$maxFailExpected||[],_e=e.peg$silentFails|0,En;if(e.startRule){if(!(e.startRule in o))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');c=o[e.startRule]}function Vt(F,ee){return{type:"literal",text:F,ignoreCase:ee}}function xn(F,ee,B){return{type:"class",parts:F,inverted:ee,ignoreCase:B}}function Hl(){return{type:"end"}}function Qt(F){return{type:"other",description:F}}function rn(F){var ee=Ls[F],B;if(ee)return ee;if(F>=Ls.length)B=Ls.length-1;else for(B=F;!Ls[--B];);for(ee=Ls[B],ee={line:ee.line,column:ee.column};B<F;)t.charCodeAt(B)===10?(ee.line++,ee.column=1):ee.column++,B++;return Ls[F]=ee,ee}function Nn(F,ee,B){var Oe=rn(F),Ve=rn(ee),bt={source:i,start:{offset:F,line:Oe.line,column:Oe.column},end:{offset:ee,line:Ve.line,column:Ve.column}};return bt}function Pe(F){Q<qt||(Q>qt&&(qt=Q,Qs=[]),Qs.push(F))}function ki(F,ee,B){return new bl(bl.buildMessage(F,ee),F,ee,B)}function io(){var F,ee,B;return F=Q,ee=mr(),B=gs(),F=so(ee,B),F}function mr(){var F,ee,B;for(F=Q,ee=[],B=fa();B!==n;)ee.push(B),B=fa();return B=$t(),F=Pl(ee),F}function fa(){var F,ee,B,Oe,Ve,bt,xs;return _e++,F=Q,$t(),t.charCodeAt(Q)===91?(ee=d,Q++):(ee=n,_e===0&&Pe(Se)),ee!==n?($t(),B=ss(),B!==n?($t(),t.charCodeAt(Q)===34?(Oe=h,Q++):(Oe=n,_e===0&&Pe(ge)),Oe!==n?(Ve=pa(),t.charCodeAt(Q)===34?(bt=h,Q++):(bt=n,_e===0&&Pe(ge)),bt!==n?($t(),t.charCodeAt(Q)===93?(xs=f,Q++):(xs=n,_e===0&&Pe(w)),xs!==n?F=Is(B,Ve):(Q=F,F=n)):(Q=F,F=n)):(Q=F,F=n)):(Q=F,F=n)):(Q=F,F=n),_e--,F===n&&_e===0&&Pe(ae),F}function ss(){var F,ee,B;if(_e++,F=Q,ee=[],B=t.charAt(Q),J.test(B)?Q++:(B=n,_e===0&&Pe(L)),B!==n)for(;B!==n;)ee.push(B),B=t.charAt(Q),J.test(B)?Q++:(B=n,_e===0&&Pe(L));else ee=n;return ee!==n?F=t.substring(F,Q):F=ee,_e--,F===n&&(ee=n,_e===0&&Pe(q)),F}function pa(){var F,ee,B;for(_e++,F=Q,ee=[],B=t.charAt(Q),we.test(B)?Q++:(B=n,_e===0&&Pe(Le));B!==n;)ee.push(B),B=t.charAt(Q),we.test(B)?Q++:(B=n,_e===0&&Pe(Le));return F=t.substring(F,Q),_e--,ee=n,_e===0&&Pe(se),F}function gs(){var F,ee,B;return F=Q,ee=gi(),$t(),B=ma(),B===n&&(B=null),$t(),F=Ms(ee,B),F}function gi(){var F,ee,B,Oe;for(F=Q,ee=Es(),ee===n&&(ee=null),B=[],Oe=Ei();Oe!==n;)B.push(Oe),Oe=Ei();return F=ms(ee,B),F}function Ei(){var F,ee,B,Oe,Ve,bt,xs,ji;if(F=Q,$t(),xi(),$t(),ee=Bt(),ee!==n){for(B=ro(),B===n&&(B=null),Oe=[],Ve=Js();Ve!==n;)Oe.push(Ve),Ve=Js();for(Ve=$t(),bt=Es(),bt===n&&(bt=null),xs=[],ji=ti();ji!==n;)xs.push(ji),ji=ti();F=Ds(ee,B,Oe,bt,xs)}else Q=F,F=n;return F}function xi(){var F,ee,B,Oe,Ve,bt;for(_e++,F=Q,ee=[],B=t.charAt(Q),De.test(B)?Q++:(B=n,_e===0&&Pe(Ae));B!==n;)ee.push(B),B=t.charAt(Q),De.test(B)?Q++:(B=n,_e===0&&Pe(Ae));if(t.charCodeAt(Q)===46?(B=p,Q++):(B=n,_e===0&&Pe(Ge)),B!==n){for(Oe=$t(),Ve=[],bt=t.charAt(Q),ve.test(bt)?Q++:(bt=n,_e===0&&Pe(ue));bt!==n;)Ve.push(bt),bt=t.charAt(Q),ve.test(bt)?Q++:(bt=n,_e===0&&Pe(ue));ee=[ee,B,Oe,Ve],F=ee}else Q=F,F=n;return _e--,F===n&&(ee=n,_e===0&&Pe(xe)),F}function Bt(){var F,ee,B,Oe,Ve,bt;if(_e++,F=Q,ee=Q,t.substr(Q,5)===E?(B=E,Q+=5):(B=n,_e===0&&Pe(st)),B===n&&(t.substr(Q,3)===y?(B=y,Q+=3):(B=n,_e===0&&Pe(it)),B===n&&(t.substr(Q,5)===b?(B=b,Q+=5):(B=n,_e===0&&Pe(Te)),B===n&&(t.substr(Q,3)===T?(B=T,Q+=3):(B=n,_e===0&&Pe(Ee)),B===n))))if(B=Q,Oe=t.charAt(Q),J.test(Oe)?Q++:(Oe=n,_e===0&&Pe(L)),Oe!==n){if(Ve=[],bt=t.charAt(Q),he.test(bt)?Q++:(bt=n,_e===0&&Pe(ye)),bt!==n)for(;bt!==n;)Ve.push(bt),bt=t.charAt(Q),he.test(bt)?Q++:(bt=n,_e===0&&Pe(ye));else Ve=n;Ve!==n?(Oe=[Oe,Ve],B=Oe):(Q=B,B=n)}else Q=B,B=n;return B!==n?(Oe=t.charAt(Q),qe.test(Oe)?Q++:(Oe=n,_e===0&&Pe(ie)),Oe===n&&(Oe=null),B=[B,Oe],ee=B):(Q=ee,ee=n),ee!==n?F=t.substring(F,Q):F=ee,_e--,F===n&&(ee=n,_e===0&&Pe(Ce)),F}function ro(){var F,ee,B;for(_e++,F=Q,ee=[],B=t.charAt(Q),W.test(B)?Q++:(B=n,_e===0&&Pe(We));B!==n;)ee.push(B),ee.length>=2?B=n:(B=t.charAt(Q),W.test(B)?Q++:(B=n,_e===0&&Pe(We)));return ee.length<1?(Q=F,F=n):F=ee,_e--,F===n&&(ee=n,_e===0&&Pe(Fe)),F}function Js(){var F,ee,B,Oe,Ve;if(_e++,F=Q,$t(),t.charCodeAt(Q)===36?(ee=N,Q++):(ee=n,_e===0&&Pe(_t)),ee!==n){if(B=Q,Oe=[],Ve=t.charAt(Q),De.test(Ve)?Q++:(Ve=n,_e===0&&Pe(Ae)),Ve!==n)for(;Ve!==n;)Oe.push(Ve),Ve=t.charAt(Q),De.test(Ve)?Q++:(Ve=n,_e===0&&Pe(Ae));else Oe=n;Oe!==n?B=t.substring(B,Q):B=Oe,B!==n?F=fr(B):(Q=F,F=n)}else Q=F,F=n;return _e--,F===n&&_e===0&&Pe(ot),F}function Es(){var F;return F=ei(),F===n&&(F=ao()),F}function ei(){var F,ee,B,Oe,Ve;if(_e++,F=Q,t.charCodeAt(Q)===123?(ee=R,Q++):(ee=n,_e===0&&Pe(ke)),ee!==n){for(B=Q,Oe=[],Ve=t.charAt(Q),Y.test(Ve)?Q++:(Ve=n,_e===0&&Pe(fe));Ve!==n;)Oe.push(Ve),Ve=t.charAt(Q),Y.test(Ve)?Q++:(Ve=n,_e===0&&Pe(fe));B=t.substring(B,Q),t.charCodeAt(Q)===125?(Oe=I,Q++):(Oe=n,_e===0&&Pe(Me)),Oe!==n?F=mi(B):(Q=F,F=n)}else Q=F,F=n;return _e--,F===n&&(ee=n,_e===0&&Pe(be)),F}function ao(){var F,ee,B,Oe,Ve;if(_e++,F=Q,t.charCodeAt(Q)===59?(ee=O,Q++):(ee=n,_e===0&&Pe($e)),ee!==n){for(B=Q,Oe=[],Ve=t.charAt(Q),k.test(Ve)?Q++:(Ve=n,_e===0&&Pe(mt));Ve!==n;)Oe.push(Ve),Ve=t.charAt(Q),k.test(Ve)?Q++:(Ve=n,_e===0&&Pe(mt));B=t.substring(B,Q),F=Ul(B)}else Q=F,F=n;return _e--,F===n&&(ee=n,_e===0&&Pe(xt)),F}function ti(){var F,ee,B,Oe;return _e++,F=Q,$t(),t.charCodeAt(Q)===40?(ee=$,Q++):(ee=n,_e===0&&Pe(ns)),ee!==n?(B=gi(),B!==n?($t(),t.charCodeAt(Q)===41?(Oe=U,Q++):(Oe=n,_e===0&&Pe(Zs)),Oe!==n?F=Oi(B):(Q=F,F=n)):(Q=F,F=n)):(Q=F,F=n),_e--,F===n&&_e===0&&Pe(vt),F}function ma(){var F,ee,B;return _e++,F=Q,t.substr(Q,3)===K?(ee=K,Q+=3):(ee=n,_e===0&&Pe(ha)),ee===n&&(t.substr(Q,3)===ne?(ee=ne,Q+=3):(ee=n,_e===0&&Pe(pi)),ee===n&&(t.substr(Q,7)===P?(ee=P,Q+=7):(ee=n,_e===0&&Pe(An)),ee===n&&(t.charCodeAt(Q)===42?(ee=Z,Q++):(ee=n,_e===0&&Pe(Cs))))),ee!==n?($t(),B=Es(),B===n&&(B=null),F=pr(ee,B)):(Q=F,F=n),_e--,F===n&&(ee=n,_e===0&&Pe(hr)),F}function $t(){var F,ee;for(_e++,F=[],ee=t.charAt(Q),H.test(ee)?Q++:(ee=n,_e===0&&Pe(Bn));ee!==n;)F.push(ee),ee=t.charAt(Q),H.test(ee)?Q++:(ee=n,_e===0&&Pe(Bn));return _e--,ee=n,_e===0&&Pe(gn),F}if(En=c(),e.peg$library)return{peg$result:En,peg$currPos:Q,peg$FAILED:n,peg$maxFailExpected:Qs,peg$maxFailPos:qt};if(En!==n&&Q===t.length)return En;throw En!==n&&Q<t.length&&Pe(Hl()),ki(Qs,qt<t.length?t.charAt(qt):null,qt<t.length?Nn(qt,qt+1):Nn(qt,qt))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const hh=0xffffffffffffffffn;function qm(t,e){return(t<<e|t>>64n-e)&0xffffffffffffffffn}function B1(t,e){return t*e&hh}function y4(t){return function(){let e=BigInt(t&hh),n=BigInt(t>>64n&hh);const i=B1(qm(B1(e,5n),7n),9n);return n^=e,e=(qm(e,24n)^n^n<<16n)&hh,n=qm(n,37n),t=n<<64n|e,i}}const xf=y4(0xa187eb39cdcaed8f31c4b365b102e01en),b4=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>xf()))),v4=Array.from({length:8},()=>xf()),T4=Array.from({length:16},()=>xf()),$m=xf(),Vn="w",_s="b",pn="p",W0="n",fh="b",Hc="r",Kr="q",bn="k",Xm="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class eh{constructor(e,n){Wt(this,"color");Wt(this,"from");Wt(this,"to");Wt(this,"piece");Wt(this,"captured");Wt(this,"promotion");Wt(this,"flags");Wt(this,"san");Wt(this,"lan");Wt(this,"before");Wt(this,"after");const{color:i,piece:o,from:c,to:d,flags:h,captured:f,promotion:p}=n,E=wn(c),y=wn(d);this.color=i,this.piece=o,this.from=E,this.to=y,this.san=e._moveToSan(n,e._moves({legal:!0})),this.lan=E+y,this.before=e.fen(),e._makeMove(n),this.after=e.fen(),e._undoMove(),this.flags="";for(const b in nt)nt[b]&h&&(this.flags+=Oa[b]);f&&(this.captured=f),p&&(this.promotion=p,this.lan+=p)}isCapture(){return this.flags.indexOf(Oa.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Oa.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Oa.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Oa.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Oa.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Oa.BIG_PAWN)>-1}}const Fn=-1,Oa={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},nt={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Y0={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},S4={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},A4={...Y0,...S4},Qe={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Zm={b:[16,32,17,15],w:[-16,-32,-17,-15]},G1={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},N4=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],_4=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],w4={p:1,n:2,b:4,r:8,q:16,k:32},R4="pnbrqkPNBRQK",z1=[W0,fh,Hc,Kr],C4=7,I4=6,M4=1,D4=0,th={[bn]:nt.KSIDE_CASTLE,[Kr]:nt.QSIDE_CASTLE},Hr={w:[{square:Qe.a1,flag:nt.QSIDE_CASTLE},{square:Qe.h1,flag:nt.KSIDE_CASTLE}],b:[{square:Qe.a8,flag:nt.QSIDE_CASTLE},{square:Qe.h8,flag:nt.KSIDE_CASTLE}]},L4={b:M4,w:I4},Qm="--";function za(t){return t>>4}function pu(t){return t&15}function _N(t){return"0123456789".indexOf(t)!==-1}function wn(t){const e=pu(t),n=za(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(n,n+1)}function jc(t){return t===Vn?_s:Vn}function O4(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(e[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const i=parseInt(e[4],10);if(isNaN(i)||i<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=e[0].split("/");if(o.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let d=0;d<o.length;d++){let h=0,f=!1;for(let p=0;p<o[d].length;p++)if(_N(o[d][p])){if(f)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};h+=parseInt(o[d][p],10),f=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[d][p]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};h+=1,f=!1}if(h!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const c=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:d,regex:h}of c){if(!h.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${d} king`};if((e[0].match(h)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${d} kings`}}return Array.from(o[0]+o[7]).some(d=>d.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function k4(t,e){const n=t.from,i=t.to,o=t.piece;let c=0,d=0,h=0;for(let f=0,p=e.length;f<p;f++){const E=e[f].from,y=e[f].to,b=e[f].piece;o===b&&n!==E&&i===y&&(c++,za(n)===za(E)&&d++,pu(n)===pu(E)&&h++)}return c>0?d>0&&h>0?wn(n):h>0?wn(n).charAt(1):wn(n).charAt(0):""}function Br(t,e,n,i,o,c=void 0,d=nt.NORMAL){const h=za(i);if(o===pn&&(h===C4||h===D4))for(let f=0;f<z1.length;f++){const p=z1[f];t.push({color:e,from:n,to:i,piece:o,captured:c,promotion:p,flags:d|nt.PROMOTION})}else t.push({color:e,from:n,to:i,piece:o,captured:c,flags:d})}function V1(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:pn:(e=e.toLowerCase(),e==="o"?bn:e)}function Jm(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class e0{constructor(e=Xm,{skipValidation:n=!1}={}){Wt(this,"_board",new Array(128));Wt(this,"_turn",Vn);Wt(this,"_header",{});Wt(this,"_kings",{w:Fn,b:Fn});Wt(this,"_epSquare",-1);Wt(this,"_halfMoves",0);Wt(this,"_moveNumber",0);Wt(this,"_history",[]);Wt(this,"_comments",{});Wt(this,"_castling",{w:0,b:0});Wt(this,"_hash",0n);Wt(this,"_positionCount",new Map);this.load(e,{skipValidation:n})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:Fn,b:Fn},this._turn=Vn,this._castling={w:0,b:0},this._epSquare=Fn,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...A4},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:n=!1,preserveHeaders:i=!1}={}){let o=e.split(/\s+/);if(o.length>=2&&o.length<6){const h=["-","-","0","1"];e=o.concat(h.slice(-(6-o.length))).join(" ")}if(o=e.split(/\s+/),!n){const{ok:h,error:f}=O4(e);if(!h)throw new Error(f)}const c=o[0];let d=0;this.clear({preserveHeaders:i});for(let h=0;h<c.length;h++){const f=c.charAt(h);if(f==="/")d+=8;else if(_N(f))d+=parseInt(f,10);else{const p=f<"a"?Vn:_s;this._put({type:f.toLowerCase(),color:p},wn(d)),d++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=nt.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=nt.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=nt.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=nt.QSIDE_CASTLE),this._epSquare=o[3]==="-"?Fn:Qe[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){var d,h;let n=0,i="";for(let f=Qe.a8;f<=Qe.h1;f++){if(this._board[f]){n>0&&(i+=n,n=0);const{color:p,type:E}=this._board[f];i+=p===Vn?E.toUpperCase():E.toLowerCase()}else n++;f+1&136&&(n>0&&(i+=n),f!==Qe.h1&&(i+="/"),n=0,f+=8)}let o="";this._castling[Vn]&nt.KSIDE_CASTLE&&(o+="K"),this._castling[Vn]&nt.QSIDE_CASTLE&&(o+="Q"),this._castling[_s]&nt.KSIDE_CASTLE&&(o+="k"),this._castling[_s]&nt.QSIDE_CASTLE&&(o+="q"),o=o||"-";let c="-";if(this._epSquare!==Fn)if(e)c=wn(this._epSquare);else{const f=this._epSquare+(this._turn===Vn?16:-16),p=[f+1,f-1];for(const E of p){if(E&136)continue;const y=this._turn;if(((d=this._board[E])==null?void 0:d.color)===y&&((h=this._board[E])==null?void 0:h.type)===pn){this._makeMove({color:y,from:E,to:this._epSquare,piece:pn,captured:pn,flags:nt.EP_CAPTURE});const b=!this._isKingAttacked(y);if(this._undoMove(),b){c=wn(this._epSquare);break}}}}return[i,this._turn,o,c,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:n,type:i}=this._board[e],o={w:0,b:1}[n],c={p:0,n:1,b:2,r:3,q:4,k:5}[i];return b4[o][c][e]}_epKey(){return this._epSquare===Fn?0n:v4[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return T4[e]}_computeHash(){let e=0n;for(let n=Qe.a8;n<=Qe.h1;n++){if(n&136){n+=7;continue}this._board[n]&&(e^=this._pieceKey(n))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=$m),e}_updateSetup(e){this._history.length>0||(e!==Xm?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Xm)}get(e){return this._board[Qe[e]]}findPiece(e){var i;const n=[];for(let o=Qe.a8;o<=Qe.h1;o++){if(o&136){o+=7;continue}!this._board[o]||((i=this._board[o])==null?void 0:i.color)!==e.color||this._board[o].color===e.color&&this._board[o].type===e.type&&n.push(wn(o))}return n}put({type:e,color:n},i){return this._put({type:e,color:n},i)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,n){this._hash^=this._pieceKey(e),this._board[e]=n,this._hash^=this._pieceKey(e)}_put({type:e,color:n},i){if(R4.indexOf(e.toLowerCase())===-1||!(i in Qe))return!1;const o=Qe[i];if(e==bn&&!(this._kings[n]==Fn||this._kings[n]==o))return!1;const c=this._board[o];return c&&c.type===bn&&(this._kings[c.color]=Fn),this._set(o,{type:e,color:n}),e===bn&&(this._kings[n]=o),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const n=this.get(e);return this._clear(Qe[e]),n&&n.type===bn&&(this._kings[n.color]=Fn),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){var i,o,c,d,h,f,p,E,y,b,T,N;this._hash^=this._castlingKey();const e=((i=this._board[Qe.e1])==null?void 0:i.type)===bn&&((o=this._board[Qe.e1])==null?void 0:o.color)===Vn,n=((c=this._board[Qe.e8])==null?void 0:c.type)===bn&&((d=this._board[Qe.e8])==null?void 0:d.color)===_s;(!e||((h=this._board[Qe.a1])==null?void 0:h.type)!==Hc||((f=this._board[Qe.a1])==null?void 0:f.color)!==Vn)&&(this._castling.w&=-65),(!e||((p=this._board[Qe.h1])==null?void 0:p.type)!==Hc||((E=this._board[Qe.h1])==null?void 0:E.color)!==Vn)&&(this._castling.w&=-33),(!n||((y=this._board[Qe.a8])==null?void 0:y.type)!==Hc||((b=this._board[Qe.a8])==null?void 0:b.color)!==_s)&&(this._castling.b&=-65),(!n||((T=this._board[Qe.h8])==null?void 0:T.type)!==Hc||((N=this._board[Qe.h8])==null?void 0:N.color)!==_s)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var c,d;if(this._epSquare===Fn)return;const e=this._epSquare+(this._turn===Vn?-16:16),n=this._epSquare+(this._turn===Vn?16:-16),i=[n+1,n-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((c=this._board[n])==null?void 0:c.color)!==jc(this._turn)||((d=this._board[n])==null?void 0:d.type)!==pn){this._hash^=this._epKey(),this._epSquare=Fn;return}const o=h=>{var f,p;return!(h&136)&&((f=this._board[h])==null?void 0:f.color)===this._turn&&((p=this._board[h])==null?void 0:p.type)===pn};i.some(o)||(this._hash^=this._epKey(),this._epSquare=Fn)}_attacked(e,n,i){const o=[];for(let c=Qe.a8;c<=Qe.h1;c++){if(c&136){c+=7;continue}if(this._board[c]===void 0||this._board[c].color!==e)continue;const d=this._board[c],h=c-n;if(h===0)continue;const f=h+119;if(N4[f]&w4[d.type]){if(d.type===pn){if(h>0&&d.color===Vn||h<=0&&d.color===_s)if(i)o.push(wn(c));else return!0;continue}if(d.type==="n"||d.type==="k")if(i){o.push(wn(c));continue}else return!0;const p=_4[f];let E=c+p,y=!1;for(;E!==n;){if(this._board[E]!=null){y=!0;break}E+=p}if(!y)if(i){o.push(wn(c));continue}else return!0}}return i?o:!1}attackers(e,n){return n?this._attacked(n,Qe[e],!0):this._attacked(this._turn,Qe[e],!0)}_isKingAttacked(e){const n=this._kings[e];return n===-1?!1:this._attacked(jc(e),n)}hash(){return this._hash.toString(16)}isAttacked(e,n){return this._attacked(n,Qe[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let i=0,o=0;for(let c=Qe.a8;c<=Qe.h1;c++){if(o=(o+1)%2,c&136){c+=7;continue}const d=this._board[c];d&&(e[d.type]=d.type in e?e[d.type]+1:1,d.type===fh&&n.push(o),i++)}if(i===2)return!0;if(i===3&&(e[fh]===1||e[W0]===1))return!0;if(i===e[fh]+2){let c=0;const d=n.length;for(let h=0;h<d;h++)c+=n[h];if(c===0||c===d)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:n=void 0,piece:i=void 0}={}){const o=this._moves({square:n,piece:i});return e?o.map(c=>new eh(this,c)):o.map(c=>this._moveToSan(c,o))}_moves({legal:e=!0,piece:n=void 0,square:i=void 0}={}){var T;const o=i?i.toLowerCase():void 0,c=n==null?void 0:n.toLowerCase(),d=[],h=this._turn,f=jc(h);let p=Qe.a8,E=Qe.h1,y=!1;if(o)if(o in Qe)p=E=Qe[o],y=!0;else return[];for(let N=p;N<=E;N++){if(N&136){N+=7;continue}if(!this._board[N]||this._board[N].color===f)continue;const{type:R}=this._board[N];let I;if(R===pn){if(c&&c!==R)continue;I=N+Zm[h][0],this._board[I]||(Br(d,h,N,I,pn),I=N+Zm[h][1],L4[h]===za(N)&&!this._board[I]&&Br(d,h,N,I,pn,void 0,nt.BIG_PAWN));for(let O=2;O<4;O++)I=N+Zm[h][O],!(I&136)&&(((T=this._board[I])==null?void 0:T.color)===f?Br(d,h,N,I,pn,this._board[I].type,nt.CAPTURE):I===this._epSquare&&Br(d,h,N,I,pn,pn,nt.EP_CAPTURE))}else{if(c&&c!==R)continue;for(let O=0,$=G1[R].length;O<$;O++){const U=G1[R][O];for(I=N;I+=U,!(I&136);){if(!this._board[I])Br(d,h,N,I,R);else{if(this._board[I].color===h)break;Br(d,h,N,I,R,this._board[I].type,nt.CAPTURE);break}if(R===W0||R===bn)break}}}}if((c===void 0||c===bn)&&(!y||E===this._kings[h])){if(this._castling[h]&nt.KSIDE_CASTLE){const N=this._kings[h],R=N+2;!this._board[N+1]&&!this._board[R]&&!this._attacked(f,this._kings[h])&&!this._attacked(f,N+1)&&!this._attacked(f,R)&&Br(d,h,this._kings[h],R,bn,void 0,nt.KSIDE_CASTLE)}if(this._castling[h]&nt.QSIDE_CASTLE){const N=this._kings[h],R=N-2;!this._board[N-1]&&!this._board[N-2]&&!this._board[N-3]&&!this._attacked(f,this._kings[h])&&!this._attacked(f,N-1)&&!this._attacked(f,R)&&Br(d,h,this._kings[h],R,bn,void 0,nt.QSIDE_CASTLE)}}if(!e||this._kings[h]===-1)return d;const b=[];for(let N=0,R=d.length;N<R;N++)this._makeMove(d[N]),this._isKingAttacked(h)||b.push(d[N]),this._undoMove();return b}move(e,{strict:n=!1}={}){let i=null;if(typeof e=="string")i=this._moveFromSan(e,n);else if(e===null)i=this._moveFromSan(Qm,n);else if(typeof e=="object"){const c=this._moves();for(let d=0,h=c.length;d<h;d++)if(e.from===wn(c[d].from)&&e.to===wn(c[d].to)&&(!("promotion"in c[d])||e.promotion===c[d].promotion)){i=c[d];break}}if(!i)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);if(this.isCheck()&&i.flags&nt.NULL_MOVE)throw new Error("Null move not allowed when in check");const o=new eh(this,i);return this._makeMove(i),this._incPositionCount(),o}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,n){this._hash^=this._pieceKey(e),this._board[n]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(n)}_makeMove(e){var o,c,d,h;const n=this._turn,i=jc(n);if(this._push(e),e.flags&nt.NULL_MOVE){n===_s&&this._moveNumber++,this._halfMoves++,this._turn=i,this._epSquare=Fn;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&nt.EP_CAPTURE&&(this._turn===_s?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:n})),this._board[e.to].type===bn){if(this._kings[n]=e.to,e.flags&nt.KSIDE_CASTLE){const f=e.to-1,p=e.to+1;this._movePiece(p,f)}else if(e.flags&nt.QSIDE_CASTLE){const f=e.to+1,p=e.to-2;this._movePiece(p,f)}this._castling[n]=0}if(this._castling[n]){for(let f=0,p=Hr[n].length;f<p;f++)if(e.from===Hr[n][f].square&&this._castling[n]&Hr[n][f].flag){this._castling[n]^=Hr[n][f].flag;break}}if(this._castling[i]){for(let f=0,p=Hr[i].length;f<p;f++)if(e.to===Hr[i][f].square&&this._castling[i]&Hr[i][f].flag){this._castling[i]^=Hr[i][f].flag;break}}if(this._hash^=this._castlingKey(),e.flags&nt.BIG_PAWN){let f;n===_s?f=e.to-16:f=e.to+16,!(e.to-1&136)&&((o=this._board[e.to-1])==null?void 0:o.type)===pn&&((c=this._board[e.to-1])==null?void 0:c.color)===i||!(e.to+1&136)&&((d=this._board[e.to+1])==null?void 0:d.type)===pn&&((h=this._board[e.to+1])==null?void 0:h.color)===i?(this._epSquare=f,this._hash^=this._epKey()):this._epSquare=Fn}else this._epSquare=Fn;e.piece===pn?this._halfMoves=0:e.flags&(nt.CAPTURE|nt.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===_s&&this._moveNumber++,this._turn=i,this._hash^=$m}undo(){const e=this._hash,n=this._undoMove();if(n){const i=new eh(this,n);return this._decPositionCount(e),i}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const n=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=$m;const i=this._turn,o=jc(i);if(n.flags&nt.NULL_MOVE)return n;if(this._movePiece(n.to,n.from),n.piece&&(this._clear(n.from),this._set(n.from,{type:n.piece,color:i})),n.captured)if(n.flags&nt.EP_CAPTURE){let c;i===_s?c=n.to-16:c=n.to+16,this._set(c,{type:pn,color:o})}else this._set(n.to,{type:n.captured,color:o});if(n.flags&(nt.KSIDE_CASTLE|nt.QSIDE_CASTLE)){let c,d;n.flags&nt.KSIDE_CASTLE?(c=n.to+1,d=n.to-1):(c=n.to-2,d=n.to+1),this._movePiece(d,c)}return n}pgn({newline:e=`
`,maxWidth:n=0}={}){const i=[];let o=!1;for(const b in this._header)this._header[b]&&i.push(`[${b} "${this._header[b]}"]`+e),o=!0;o&&this._history.length&&i.push(e);const c=b=>{const T=this._comments[this.fen()];if(typeof T<"u"){const N=b.length>0?" ":"";b=`${b}${N}{${T}}`}return b},d=[];for(;this._history.length>0;)d.push(this._undoMove());const h=[];let f="";for(d.length===0&&h.push(c(""));d.length>0;){f=c(f);const b=d.pop();if(!b)break;if(!this._history.length&&b.color==="b"){const T=`${this._moveNumber}. ...`;f=f?`${f} ${T}`:T}else b.color==="w"&&(f.length&&h.push(f),f=this._moveNumber+".");f=f+" "+this._moveToSan(b,this._moves({legal:!0})),this._makeMove(b)}if(f.length&&h.push(c(f)),h.push(this._header.Result||"*"),n===0)return i.join("")+h.join(" ");const p=function(){return i.length>0&&i[i.length-1]===" "?(i.pop(),!0):!1},E=function(b,T){for(const N of T.split(" "))if(N){if(b+N.length>n){for(;p();)b--;i.push(e),b=0}i.push(N),b+=N.length,i.push(" "),b++}return p()&&b--,b};let y=0;for(let b=0;b<h.length;b++){if(y+h[b].length>n&&h[b].includes("{")){y=E(y,h[b]);continue}y+h[b].length>n&&b!==0?(i[i.length-1]===" "&&i.pop(),i.push(e),y=0):b!==0&&(i.push(" "),y++),i.push(h[b]),y+=h[b].length}return i.join("")}header(...e){for(let n=0;n<e.length;n+=2)typeof e[n]=="string"&&typeof e[n+1]=="string"&&(this._header[e[n]]=e[n+1]);return this._header}setHeader(e,n){return this._header[e]=n??Y0[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=Y0[e]||null,!0):!1}getHeaders(){const e={};for(const[n,i]of Object.entries(this._header))i!==null&&(e[n]=i);return e}loadPgn(e,{strict:n=!1,newlineChar:i=`\r?
`}={}){i!==`\r?
`&&(e=e.replace(new RegExp(i,"g"),`
`));const o=x4(e);this.reset();const c=o.headers;let d="";for(const p in c)p.toLowerCase()==="fen"&&(d=c[p]),this.header(p,c[p]);if(!n)d&&this.load(d,{preserveHeaders:!0});else if(c.SetUp==="1"){if(!("FEN"in c))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(c.FEN,{preserveHeaders:!0})}let h=o.root;for(;h;){if(h.move){const p=this._moveFromSan(h.move,n);if(p==null)throw new Error(`Invalid move in PGN: ${h.move}`);this._makeMove(p),this._incPositionCount()}h.comment!==void 0&&(this._comments[this.fen()]=h.comment),h=h.variations[0]}const f=o.result;f&&Object.keys(this._header).length&&this._header.Result!==f&&this.setHeader("Result",f)}_moveToSan(e,n){let i="";if(e.flags&nt.KSIDE_CASTLE)i="O-O";else if(e.flags&nt.QSIDE_CASTLE)i="O-O-O";else{if(e.flags&nt.NULL_MOVE)return Qm;if(e.piece!==pn){const o=k4(e,n);i+=e.piece.toUpperCase()+o}e.flags&(nt.CAPTURE|nt.EP_CAPTURE)&&(e.piece===pn&&(i+=wn(e.from)[0]),i+="x"),i+=wn(e.to),e.promotion&&(i+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?i+="#":i+="+"),this._undoMove(),i}_moveFromSan(e,n=!1){let i=Jm(e);if(n||(i==="0-0"?i="O-O":i==="0-0-0"&&(i="O-O-O")),i==Qm)return{color:this._turn,from:0,to:0,piece:"k",flags:nt.NULL_MOVE};let o=V1(i),c=this._moves({legal:!0,piece:o});for(let b=0,T=c.length;b<T;b++)if(i===Jm(this._moveToSan(c[b],c)))return c[b];if(n)return null;let d,h,f,p,E,y=!1;if(h=i.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),h?(d=h[1],f=h[2],p=h[3],E=h[4],f.length==1&&(y=!0)):(h=i.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),h&&(d=h[1],f=h[2],p=h[3],E=h[4],f.length==1&&(y=!0))),o=V1(i),c=this._moves({legal:!0,piece:d||o}),!p)return null;for(let b=0,T=c.length;b<T;b++)if(f){if((!d||d.toLowerCase()==c[b].piece)&&Qe[f]==c[b].from&&Qe[p]==c[b].to&&(!E||E.toLowerCase()==c[b].promotion))return c[b];if(y){const N=wn(c[b].from);if((!d||d.toLowerCase()==c[b].piece)&&Qe[p]==c[b].to&&(f==N[0]||f==N[1])&&(!E||E.toLowerCase()==c[b].promotion))return c[b]}}else if(i===Jm(this._moveToSan(c[b],c)).replace("x",""))return c[b];return null}ascii(){let e=`   +------------------------+
`;for(let n=Qe.a8;n<=Qe.h1;n++){if(pu(n)===0&&(e+=" "+"87654321"[za(n)]+" |"),this._board[n]){const i=this._board[n].type,c=this._board[n].color===Vn?i.toUpperCase():i.toLowerCase();e+=" "+c+" "}else e+=" . ";n+1&136&&(e+=`|
`,n+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const n=this._moves({legal:!1});let i=0;const o=this._turn;for(let c=0,d=n.length;c<d;c++)this._makeMove(n[c]),this._isKingAttacked(o)||(e-1>0?i+=this.perft(e-1):i++),this._undoMove();return i}setTurn(e){return this._turn==e?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let n=[];for(let i=Qe.a8;i<=Qe.h1;i++)this._board[i]==null?n.push(null):n.push({square:wn(i),type:this._board[i].type,color:this._board[i].color}),i+1&136&&(e.push(n),n=[],i+=8);return e}squareColor(e){if(e in Qe){const n=Qe[e];return(za(n)+pu(n))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const n=[],i=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const o=n.pop();if(!o)break;e?i.push(new eh(this,o)):i.push(this._moveToSan(o,this._moves())),this._makeMove(o)}return i}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const n=this._positionCount.get(e)??0;n===1?this._positionCount.delete(e):this._positionCount.set(e,n-1)}_pruneComments(){const e=[],n={},i=o=>{o in this._comments&&(n[o]=this._comments[o])};for(;this._history.length>0;)e.push(this._undoMove());for(i(this.fen());;){const o=e.pop();if(!o)break;this._makeMove(o),i(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const n=this._comments[e];return delete this._comments[e],{fen:e,comment:n}})}setCastlingRights(e,n){for(const o of[bn,Kr])n[o]!==void 0&&(n[o]?this._castling[e]|=th[o]:this._castling[e]&=~th[o]);this._updateCastlingRights();const i=this.getCastlingRights(e);return(n[bn]===void 0||n[bn]===i[bn])&&(n[Kr]===void 0||n[Kr]===i[Kr])}getCastlingRights(e){return{[bn]:(this._castling[e]&th[bn])!==0,[Kr]:(this._castling[e]&th[Kr])!==0}}moveNumber(){return this._moveNumber}}function j4(t){return ps({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M128 0C110.3 0 96 14.3 96 32c0 16.1 11.9 29.4 27.4 31.7C78.4 106.8 8 190 8 288c0 47.4 30.8 72.3 56 84.7L64 400l192 0 0-27.3c25.2-12.5 56-37.4 56-84.7c0-37.3-10.2-72.4-25.3-104.1l-99.4 99.4c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6L270.8 154.6c-23.2-38.1-51.8-69.5-74.2-90.9C212.1 61.4 224 48.1 224 32c0-17.7-14.3-32-32-32L128 0zM48 432L6.6 473.4c-4.2 4.2-6.6 10-6.6 16C0 501.9 10.1 512 22.6 512l274.7 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16L272 432 48 432z"},child:[]}]})(t)}function F4(t){return ps({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 0c17.7 0 32 14.3 32 32l0 16 16 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 48 152 0c22.1 0 40 17.9 40 40c0 5.3-1 10.5-3.1 15.4L368 400 80 400 3.1 215.4C1 210.5 0 205.3 0 200c0-22.1 17.9-40 40-40l152 0 0-48-16 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l16 0 0-16c0-17.7 14.3-32 32-32zM38.6 473.4L80 432l288 0 41.4 41.4c4.2 4.2 6.6 10 6.6 16c0 12.5-10.1 22.6-22.6 22.6L54.6 512C42.1 512 32 501.9 32 489.4c0-6 2.4-11.8 6.6-16z"},child:[]}]})(t)}function P4(t){return ps({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M96 48L82.7 61.3C70.7 73.3 64 89.5 64 106.5l0 132.4c0 10.7 5.3 20.7 14.2 26.6l10.6 7c14.3 9.6 32.7 10.7 48.1 3l3.2-1.6c2.6-1.3 5-2.8 7.3-4.5l49.4-37c6.6-5 15.7-5 22.3 0c10.2 7.7 9.9 23.1-.7 30.3L90.4 350C73.9 361.3 64 380 64 400l320 0 28.9-159c2.1-11.3 3.1-22.8 3.1-34.3l0-14.7C416 86 330 0 224 0L83.8 0C72.9 0 64 8.9 64 19.8c0 7.5 4.2 14.3 10.9 17.7L96 48zm24 68a20 20 0 1 1 40 0 20 20 0 1 1 -40 0zM22.6 473.4c-4.2 4.2-6.6 10-6.6 16C16 501.9 26.1 512 38.6 512l370.7 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16L384 432 64 432 22.6 473.4z"},child:[]}]})(t)}function U4(t){return ps({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M215.5 224c29.2-18.4 48.5-50.9 48.5-88c0-57.4-46.6-104-104-104S56 78.6 56 136c0 37.1 19.4 69.6 48.5 88L96 224c-17.7 0-32 14.3-32 32c0 16.5 12.5 30 28.5 31.8L80 400l160 0L227.5 287.8c16-1.8 28.5-15.3 28.5-31.8c0-17.7-14.3-32-32-32l-8.5 0zM22.6 473.4c-4.2 4.2-6.6 10-6.6 16C16 501.9 26.1 512 38.6 512l242.7 0c12.5 0 22.6-10.1 22.6-22.6c0-6-2.4-11.8-6.6-16L256 432 64 432 22.6 473.4z"},child:[]}]})(t)}function H4(t){return ps({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 0a56 56 0 1 1 0 112A56 56 0 1 1 256 0zM134.1 143.8c3.3-13 15-23.8 30.2-23.8c12.3 0 22.6 7.2 27.7 17c12 23.2 36.2 39 64 39s52-15.8 64-39c5.1-9.8 15.4-17 27.7-17c15.3 0 27 10.8 30.2 23.8c7 27.8 32.2 48.3 62.1 48.3c10.8 0 21-2.7 29.8-7.4c8.4-4.4 18.9-4.5 27.6 .9c13 8 17.1 25 9.2 38L399.7 400 384 400l-40.4 0-175.1 0L128 400l-15.7 0L5.4 223.6c-7.9-13-3.8-30 9.2-38c8.7-5.3 19.2-5.3 27.6-.9c8.9 4.7 19 7.4 29.8 7.4c29.9 0 55.1-20.5 62.1-48.3zM256 224s0 0 0 0s0 0 0 0s0 0 0 0zM112 432l288 0 41.4 41.4c4.2 4.2 6.6 10 6.6 16c0 12.5-10.1 22.6-22.6 22.6L86.6 512C74.1 512 64 501.9 64 489.4c0-6 2.4-11.8 6.6-16L112 432z"},child:[]}]})(t)}function B4(t){return ps({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 192L32 48c0-8.8 7.2-16 16-16l64 0c8.8 0 16 7.2 16 16l0 40c0 4.4 3.6 8 8 8l32 0c4.4 0 8-3.6 8-8l0-40c0-8.8 7.2-16 16-16l64 0c8.8 0 16 7.2 16 16l0 40c0 4.4 3.6 8 8 8l32 0c4.4 0 8-3.6 8-8l0-40c0-8.8 7.2-16 16-16l64 0c8.8 0 16 7.2 16 16l0 144c0 10.1-4.7 19.6-12.8 25.6L352 256l16 144L80 400 96 256 44.8 217.6C36.7 211.6 32 202.1 32 192zm176 96l32 0c8.8 0 16-7.2 16-16l0-48c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 48c0 8.8 7.2 16 16 16zM22.6 473.4L64 432l320 0 41.4 41.4c4.2 4.2 6.6 10 6.6 16c0 12.5-10.1 22.6-22.6 22.6L38.6 512C26.1 512 16 501.9 16 489.4c0-6 2.4-11.8 6.6-16z"},child:[]}]})(t)}var G4="firebase",z4="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(G4,z4,"app");function wN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V4=wN,RN=new Au("auth","Firebase",wN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Rg("@firebase/auth");function K4(t,...e){zh.logLevel<=kt.WARN&&zh.warn(`Auth (${Rl}): ${t}`,...e)}function ph(t,...e){zh.logLevel<=kt.ERROR&&zh.error(`Auth (${Rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,...e){throw dE(t,...e)}function wi(t,...e){return dE(t,...e)}function CN(t,e,n){const i={...V4(),[e]:n};return new Au("auth","Firebase",i).create(e,{appName:t.name})}function Va(t){return CN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dE(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return RN.create(t,...e)}function tt(t,e,...n){if(!t)throw dE(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ph(e),new Error(e)}function cr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function W4(){return K1()==="http:"||K1()==="https:"}function K1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W4()||Q2()||"connection"in navigator)?navigator.onLine:!0}function q4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=wg()||qS()}get(){return Y4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t,e){cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z4=new Du(3e4,6e4);function fE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ol(t,e,n,i,o={}){return MN(t,o,async()=>{let c={},d={};i&&(e==="GET"?d=i:c={body:JSON.stringify(i)});const h=wl({key:t.config.apiKey,...d}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...c};return Z2()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&_l(t.emulatorConfig.host)&&(p.credentials="include"),IN.fetch()(await DN(t,t.config.apiHost,n,h),p)})}async function MN(t,e,n){t._canInitEmulator=!1;const i={...$4,...e};try{const o=new J4(t),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw nh(t,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const h=c.ok?d.errorMessage:d.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(t,"credential-already-in-use",d);if(f==="EMAIL_EXISTS")throw nh(t,"email-already-in-use",d);if(f==="USER_DISABLED")throw nh(t,"user-disabled",d);const E=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw CN(t,E,p);lr(t,E)}}catch(o){if(o instanceof ua)throw o;lr(t,"network-request-failed",{message:String(o)})}}async function Q4(t,e,n,i,o={}){const c=await Ol(t,e,n,i,o);return"mfaPendingCredential"in c&&lr(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function DN(t,e,n,i){const o=`${e}${n}?${i}`,c=t,d=c.config.emulator?hE(t.config,o):`${t.config.apiScheme}://${o}`;return X4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class J4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(wi(this.auth,"network-request-failed")),Z4.get())})}}function nh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=wi(t,e,i);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t,e){return Ol(t,"POST","/v1/accounts:delete",e)}async function Vh(t,e){return Ol(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t3(t,e=!1){const n=Xs(t),i=await n.getIdToken(e),o=pE(i);tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:Zc(t0(o.auth_time)),issuedAtTime:Zc(t0(o.iat)),expirationTime:Zc(t0(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function t0(t){return Number(t)*1e3}function pE(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ah(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function W1(t){const e=pE(t);return tt(e,"internal-error"),tt(typeof e.exp<"u","internal-error"),tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ua&&n3(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function n3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(t){var y;const e=t.auth,n=await t.getIdToken(),i=await mu(t,Vh(e,{idToken:n}));tt(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const c=(y=o.providerUserInfo)!=null&&y.length?LN(o.providerUserInfo):[],d=r3(t.providerData,c),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(d!=null&&d.length),p=h?f:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new $0(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,E)}async function i3(t){const e=Xs(t);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r3(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function LN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e){const n=await MN(t,{},async()=>{const i=wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=t.config,d=await DN(t,o,"/v1/token",`key=${c}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return t.emulatorConfig&&_l(t.emulatorConfig.host)&&(f.credentials="include"),IN.fetch()(d,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o3(t,e){return Ol(t,"POST","/v2/accounts:revokeToken",fE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tt(e.idToken,"internal-error"),tt(typeof e.idToken<"u","internal-error"),tt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){tt(e.length!==0,"internal-error");const n=W1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await a3(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,d=new ol;return i&&(tt(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(tt(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(tt(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e){tt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new s3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t3(this,e)}reload(){return i3(this)}_assign(e){this!==e&&(tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(Va(this.auth));const e=await this.getIdToken();return await mu(this,e3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:T,providerData:N,stsTokenManager:R}=n;tt(y&&R,e,"internal-error");const I=ol.fromJSON(this.name,R);tt(typeof y=="string",e,"internal-error"),Gr(i,e.name),Gr(o,e.name),tt(typeof b=="boolean",e,"internal-error"),tt(typeof T=="boolean",e,"internal-error"),Gr(c,e.name),Gr(d,e.name),Gr(h,e.name),Gr(f,e.name),Gr(p,e.name),Gr(E,e.name);const O=new hi({uid:y,auth:e,email:o,emailVerified:b,displayName:i,isAnonymous:T,photoURL:d,phoneNumber:c,tenantId:h,stsTokenManager:I,createdAt:p,lastLoginAt:E});return N&&Array.isArray(N)&&(O.providerData=N.map($=>({...$}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,i=!1){const o=new ol;o.updateFromServerResponse(n);const c=new hi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Kh(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];tt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?LN(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),h=new ol;h.updateFromIdToken(i);const f=new hi({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $0(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map;function nr(t){cr(t instanceof Function,"Expected a class definition");let e=Y1.get(t);return e?(cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ON.type="NONE";const q1=ON;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,c),this.fullPersistenceKey=mh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ll(nr(q1),e,i);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||nr(q1);const d=mh(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const E=await p._get(d);if(E){let y;if(typeof E=="string"){const b=await Vh(e,{idToken:E}).catch(()=>{});if(!b)break;y=await hi._fromGetAccountInfoResponse(e,b,E)}else y=hi._fromJSON(e,E);p!==c&&(h=y),c=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!f.length?new ll(c,e,i):(c=f[0],h&&await c._set(d,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new ll(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HN(e))return"Blackberry";if(BN(e))return"Webos";if(jN(e))return"Safari";if((e.includes("chrome/")||FN(e))&&!e.includes("edge/"))return"Chrome";if(UN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function kN(t=ts()){return/firefox\//i.test(t)}function jN(t=ts()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FN(t=ts()){return/crios\//i.test(t)}function PN(t=ts()){return/iemobile/i.test(t)}function UN(t=ts()){return/android/i.test(t)}function HN(t=ts()){return/blackberry/i.test(t)}function BN(t=ts()){return/webos/i.test(t)}function mE(t=ts()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l3(t=ts()){var e;return mE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function c3(){return J2()&&document.documentMode===10}function GN(t=ts()){return mE(t)||UN(t)||BN(t)||HN(t)||/windows phone/i.test(t)||PN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t,e=[]){let n;switch(t){case"Browser":n=$1(ts());break;case"Worker":n=`${$1(ts())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((d,h)=>{try{const f=e(c);d(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e={}){return Ol(t,"GET","/v2/passwordPolicy",fE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=6;class f3{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??h3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X1(this),this.idTokenSubscription=new X1(this),this.beforeStateQueue=new u3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var i,o,c;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),i=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(_i(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!d||d===h)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(d){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(Va(this));const n=e?Xs(e):null;return n&&tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(Va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(Va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d3(this),n=new f3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await o3(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;tt(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(h,this,"internal-error"),h.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,o);return()=>{d=!0,f()}}else{const f=e.addObserver(n);return()=>{d=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&K4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gE(t){return Xs(t)}class X1{constructor(e){this.auth=e,this.observer=null,this.addObserver=cM(n=>this.observer=n)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m3(t){EE=t}function g3(t){return EE.loadJS(t)}function E3(){return EE.gapiScript}function x3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t,e){const n=Ig(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(qa(c,e??{}))return o;lr(o,"already-initialized")}return n.initialize({options:e})}function b3(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function v3(t,e,n){const i=gE(t);tt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=VN(e),{host:d,port:h}=T3(e),f=h===null?"":`:${h}`,p={url:`${c}//${d}${f}/`},E=Object.freeze({host:d,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),tt(qa(p,i.config.emulator)&&qa(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,_l(d)?(WS(`${c}//${d}${f}`),YS("Auth",!0)):S3()}function VN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T3(t){const e=VN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:Z1(i.substr(c.length+1))}}else{const[c,d]=i.split(":");return{host:c,port:Z1(d)}}}function Z1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t,e){return Q4(t,"POST","/v1/accounts:signInWithIdp",fE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="http://localhost";class eo extends KN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=n;if(!i||!o)return null;const d=new eo(i,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return cl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,cl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cl(e,n)}buildRequest(){const e={requestUri:A3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends WN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Lu{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return eo._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Yr.credential(n,i)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Lu{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Lu{constructor(){super("twitter.com")}static credential(e,n){return eo._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return $r.credential(n,i)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await hi._fromIdTokenResponse(e,i,o),d=Q1(i);return new vl({user:c,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Q1(i);return new vl({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Q1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends ua{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Wh(e,n,i,o)}}function YN(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(t,c,e,i):c})}async function N3(t,e,n=!1){const i=await mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t,e,n=!1){const{auth:i}=t;if(_i(i.app))return Promise.reject(Va(i));const o="reauthenticate";try{const c=await mu(t,YN(i,o,e,t),n);tt(c.idToken,i,"internal-error");const d=pE(c.idToken);tt(d,i,"internal-error");const{sub:h}=d;return tt(t.uid===h,i,"user-mismatch"),vl._forOperation(t,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&lr(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e,n=!1){if(_i(t.app))return Promise.reject(Va(t));const i="signIn",o=await YN(t,i,e),c=await vl._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(c.user),c}function R3(t,e,n,i){return Xs(t).onIdTokenChanged(e,n,i)}function C3(t,e,n){return Xs(t).beforeAuthStateChanged(e,n)}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=1e3,M3=10;class $N extends qN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,h,f)=>{this.notifyListeners(d,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},c=this.storage.getItem(i);c3()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,M3):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},I3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$N.type="LOCAL";const D3=$N;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN extends qN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XN.type="SESSION";const ZN=XN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new yf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(d).map(async p=>p(n.origin,c)),f=await L3(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((h,f)=>{const p=xE("",20);o.port1.start();const E=setTimeout(()=>{f(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(y){const b=y;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(b.data.response);break;default:clearTimeout(E),clearTimeout(c),f(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function k3(t){Ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function j3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function P3(){return QN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firebaseLocalStorageDb",U3=1,qh="firebaseLocalStorage",e_="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(t,e){return t.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function H3(){const t=indexedDB.deleteDatabase(JN);return new Ou(t).toPromise()}function X0(){const t=indexedDB.open(JN,U3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(qh,{keyPath:e_})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(qh)?e(i):(i.close(),await H3(),e(await X0()))})})}async function J1(t,e,n){const i=bf(t,!0).put({[e_]:e,value:n});return new Ou(i).toPromise()}async function B3(t,e){const n=bf(t,!1).get(e),i=await new Ou(n).toPromise();return i===void 0?null:i.value}function eT(t,e){const n=bf(t,!0).delete(e);return new Ou(n).toPromise()}const G3=800,z3=3;class t_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await X0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>z3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yf._getInstance(P3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await j3(),!this.activeServiceWorker)return;this.sender=new O3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await X0();return await J1(e,Yh,"1"),await eT(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>J1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>B3(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=bf(o,!1).getAll();return new Ou(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t_.type="LOCAL";const V3=t_;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t,e){return e?nr(e):(tt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE extends KN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function W3(t){return w3(t.auth,new yE(t),t.bypassAuthState)}function Y3(t){const{auth:e,user:n}=t;return tt(n,e,"internal-error"),_3(n,new yE(t),t.bypassAuthState)}async function q3(t){const{auth:e,user:n}=t;return tt(n,e,"internal-error"),N3(n,new yE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:d,type:h}=e;if(d){this.reject(d);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W3;case"linkViaPopup":case"linkViaRedirect":return q3;case"reauthViaPopup":case"reauthViaRedirect":return Y3;default:lr(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new Du(2e3,1e4);class Jo extends n_{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return tt(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=xE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$3.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="pendingRedirect",gh=new Map;class Z3 extends n_{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const i=await Q3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q3(t,e){const n=tj(e),i=ej(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function J3(t,e){gh.set(t._key(),e)}function ej(t){return nr(t._redirectPersistence)}function tj(t){return mh(X3,t.config.apiKey,t.name)}async function nj(t,e,n=!1){if(_i(t.app))return Promise.reject(Va(t));const i=gE(t),o=K3(i,e),d=await new Z3(i,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=600*1e3;class ij{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!s_(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(wi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sj&&this.cachedEventUids.clear(),this.cachedEventUids.has(tT(e))}saveEventToCache(e){this.cachedEventUids.add(tT(e)),this.lastProcessedEventTime=Date.now()}}function tT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e={}){return Ol(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lj=/^https?/;async function cj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aj(t);for(const n of e)try{if(uj(n))return}catch{}lr(t,"unauthorized-domain")}function uj(t){const e=q0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const d=new URL(t);return d.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!lj.test(n))return!1;if(oj.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Du(3e4,6e4);function nT(){const t=Ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hj(t){return new Promise((e,n)=>{var o,c,d;function i(){nT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nT(),n(wi(t,"network-request-failed"))},timeout:dj.get()})}if((c=(o=Ri().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Ri().gapi)!=null&&d.load)i();else{const h=x3("iframefcb");return Ri()[h]=()=>{gapi.load?i():n(wi(t,"network-request-failed"))},g3(`${E3()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function fj(t){return Eh=Eh||hj(t),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Du(5e3,15e3),mj="__/auth/iframe",gj="emulator/auth/iframe",Ej={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yj(t){const e=t.config;tt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hE(e,gj):`https://${t.config.authDomain}/${mj}`,i={apiKey:e.apiKey,appName:t.name,v:Rl},o=xj.get(t.config.apiHost);o&&(i.eid=o);const c=t._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${wl(i).slice(1)}`}async function bj(t){const e=await fj(t),n=Ri().gapi;return tt(n,t,"internal-error"),e.open({where:document.body,url:yj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ej,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const d=wi(t,"network-request-failed"),h=Ri().setTimeout(()=>{c(d)},pj.get());function f(){Ri().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tj=500,Sj=600,Aj="_blank",Nj="http://localhost";class sT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _j(t,e,n,i=Tj,o=Sj){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...vj,width:i.toString(),height:o.toString(),top:c,left:d},p=ts().toLowerCase();n&&(h=FN(p)?Aj:n),kN(p)&&(e=e||Nj,f.scrollbars="yes");const E=Object.entries(f).reduce((b,[T,N])=>`${b}${T}=${N},`,"");if(l3(p)&&h!=="_self")return wj(e||"",h),new sT(null);const y=window.open(e||"",h,E);tt(y,t,"popup-blocked");try{y.focus()}catch{}return new sT(y)}function wj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="__/auth/handler",Cj="emulator/auth/handler",Ij=encodeURIComponent("fac");async function iT(t,e,n,i,o,c){tt(t.config.authDomain,t,"auth-domain-config-required"),tt(t.config.apiKey,t,"invalid-api-key");const d={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Rl,eventId:o};if(e instanceof WN){e.setDefaultLanguage(t.languageCode),d.providerId=e.providerId||"",N0(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,y]of Object.entries({}))d[E]=y}if(e instanceof Lu){const E=e.getScopes().filter(y=>y!=="");E.length>0&&(d.scopes=E.join(","))}t.tenantId&&(d.tid=t.tenantId);const h=d;for(const E of Object.keys(h))h[E]===void 0&&delete h[E];const f=await t._getAppCheckToken(),p=f?`#${Ij}=${encodeURIComponent(f)}`:"";return`${Mj(t)}?${wl(h).slice(1)}${p}`}function Mj({config:t}){return t.emulator?hE(t,Cj):`https://${t.authDomain}/${Rj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="webStorageSupport";class Dj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZN,this._completeRedirectFn=nj,this._overrideRedirectResult=J3}async _openPopup(e,n,i,o){var d;cr((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await iT(e,n,i,q0(),o);return _j(e,c,xE())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await iT(e,n,i,q0(),o);return k3(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(cr(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await bj(e),i=new ij(e);return n.register("authEvent",o=>(tt(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(n0,{type:n0},o=>{var d;const c=(d=o==null?void 0:o[0])==null?void 0:d[n0];c!==void 0&&n(!!c),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GN()||jN()||mE()}}const Lj=Dj;var rT="@firebase/auth",aT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jj(t){fl(new $a("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:h}=i.options;tt(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:d,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zN(t)},p=new p3(i,o,c,f);return b3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),fl(new $a("auth-internal",e=>{const n=gE(e.getProvider("auth").getImmediate());return(i=>new Oj(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ta(rT,aT,kj(t)),ta(rT,aT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=300,Pj=KS("authIdTokenMaxAge")||Fj;let oT=null;const Uj=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Pj)return;const o=n==null?void 0:n.token;oT!==o&&(oT=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Hj(t=JS()){const e=Ig(t,"auth");if(e.isInitialized())return e.getImmediate();const n=y3(t,{popupRedirectResolver:Lj,persistence:[V3,D3,ZN]}),i=KS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const d=Uj(c.toString());C3(n,d,()=>d(n.currentUser)),R3(n,h=>d(h))}}const o=zS("auth");return o&&v3(n,`http://${o}`),n}function Bj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}m3({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const c=wi("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",Bj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jj("Browser");const Gj={apiKey:"AIzaSyBP8-tGq9Gh-8vvCuBWHYB8CtoMVpfKKkw",authDomain:"leximix-aecac.firebaseapp.com",databaseURL:"https://leximix-aecac-default-rtdb.europe-west1.firebasedatabase.app",projectId:"leximix-aecac",storageBucket:"leximix-aecac.firebasestorage.app",messagingSenderId:"1008517795796",appId:"1:1008517795796:web:ae108267f370e334371041",measurementId:"G-0Y8H3X9Z7Y"},i_=QS(Gj),Rt=uE(i_);Hj(i_);let lT=0;const zj=1e3,Vj=()=>{const t=Date.now();return t-lT<zj?!1:(lT=t,!0)},vf=t=>t.replace(/\s+/g,"").toLowerCase();pe.DE;const Mi=t=>{if(t==null)return;if(typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>Mi(n)).filter(n=>n!==void 0);const e={};return Object.keys(t).forEach(n=>{const i=Mi(t[n]);i!==void 0&&(e[n]=i)}),e},Kj=async(t,e)=>{if(!Vj())return console.warn("[Firebase] Rate limit hit for save"),!1;const n=vf(t);try{const i=At(Rt,`users/${n}/saves/current`),o=Mi(e);return await Dn(i,{...o,lastSaved:Date.now()}),console.log("[Firebase] Saved to cloud successfully",{level:e.level,coins:e.coins,xp:e.xp,completedLevels:Object.keys(e.completedLevels||{}).length}),!0}catch(i){return console.error("[Firebase] Save error:",i),!1}},Wj=async t=>{const e=vf(t);try{const n=At(Rt,`users/${e}/saves/current`),i=await Dl(n);return i.exists()?i.val():null}catch(n){return console.error("[Firebase] Load error:",n),null}},Yj=async t=>{const e=vf(t);try{const n=At(Rt,`users/${e}`);return await Dn(n,null),!0}catch(n){return console.error("[Firebase] Delete error:",n),!1}},ka=Object.freeze(Object.defineProperty({__proto__:null,database:Rt,deleteUserAccount:Yj,loadFromCloud:Wj,normalizeUsername:vf,sanitizeForFirebase:Mi,saveToCloud:Kj},Symbol.toStringTag,{value:"Module"})),qj={p:10,n:30,b:30,r:50,q:90,k:900},$j=(t,e,n,i)=>{if(!t)return 0;let o=qj[t.type]||0,c=0;return t.type==="p"&&(c+=(t.color==="w"?6-e:e-1)*.1),t.color,o*10+c},Xj=t=>{let e=0;const n=t.board();for(let i=0;i<8;i++)for(let o=0;o<8;o++){const c=n[i][o];if(c){const d=$j(c,i);e+=c.color==="w"?d:-d}}return e},cT=(t,e)=>{const n=t.moves();if(n.length===0)return null;n.sort((f,p)=>(p.includes("x")?1:0)-(f.includes("x")?1:0));let i=null;const o=t.turn()==="w";let c=o?-1/0:1/0,d=-1/0,h=1/0;for(const f of n){t.move(f);const p=Z0(t,e-1,d,h,!o);if(t.undo(),o?(p>c&&(c=p,i=f),d=Math.max(d,c)):(p<c&&(c=p,i=f),h=Math.min(h,c)),h<=d)break}return i||n[Math.floor(Math.random()*n.length)]},Z0=(t,e,n,i,o)=>{if(e===0||t.isGameOver())return Xj(t);const c=t.moves();if(o){let d=-1/0;for(const h of c){t.move(h);const f=Z0(t,e-1,n,i,!1);if(t.undo(),d=Math.max(d,f),n=Math.max(n,f),i<=n)break}return d}else{let d=1/0;for(const h of c){t.move(h);const f=Z0(t,e-1,n,i,!0);if(t.undo(),d=Math.min(d,f),i=Math.min(i,f),i<=n)break}return d}},Zj=t=>{let e=1;return t>10&&(e=2),t>30&&(e=3),t>90&&(e=4),{depth:e}},uT={p:U4,r:B4,n:P4,b:j4,q:H4,k:F4},Qj=({language:t,user:e,onGameEnd:n,onBack:i,multiplayerGameId:o,opponentName:c,isHost:d,levelId:h=1})=>{const f=ir[t],[p,E]=_.useState(new e0),[y,b]=_.useState(p.board()),[T,N]=_.useState(null),[R,I]=_.useState([]),[O,$]=_.useState("playing"),[U,K]=_.useState(null),[ne,P]=_.useState("w"),[Z,J]=_.useState(null),[we,De]=_.useState(!0),[ve,he]=_.useState([]),[qe,W]=_.useState(!1),[Y,k]=_.useState(null),[H,ae]=_.useState(0),[Se,ge]=_.useState(!1),w=!!o,q=w?d?"w":"b":"w",L=p.turn()===q&&O==="playing",[se,Le]=_.useState(!1),xe=w?1:Zj(h).depth,Ae=_.useCallback(ie=>{E(new e0(ie.fen())),b(ie.board()),he(ie.history({verbose:!0})),k(null),ie.isGameOver()&&(ie.isCheckmate()?($("checkmate"),K(ie.turn()==="w"?"b":"w")):(ie.isDraw()||ie.isStalemate()||ie.isThreefoldRepetition())&&($("draw"),K("draw")))},[]);_.useEffect(()=>{const ie=new e0;E(ie),b(ie.board()),P(q),$("playing"),K(null),J(null),ae(0)},[o,q,h]),_.useEffect(()=>{!w&&p.turn()==="b"&&O==="playing"&&(Le(!0),setTimeout(()=>{Ge(),Le(!1)},500))},[p.fen(),O,w]);const Ge=()=>{const ie=cT(p,xe);if(ie){p.move(ie),Ae(p);const Fe=p.history({verbose:!0}),We=Fe[Fe.length-1];J({from:We.from,to:We.to})}},ue=()=>{ge(!0),setTimeout(()=>{const ie=cT(p,3);if(ie){const We=p.moves({verbose:!0}).find(ot=>ot.san===ie);We&&(k({from:We.from,to:We.to}),ae(ot=>ot+1))}ge(!1),W(!1)},100)},Ce=ie=>{if(O!=="playing"||w&&!L||!w&&p.turn()!=="w")return;const Fe=p.get(ie);if(Fe&&Fe.color===q){N(ie);const ot=p.moves({square:ie,verbose:!0});I(ot);return}if(T){const ot=R.find(_t=>_t.to===ie);ot?(p.move(ot.san),Ae(p),J({from:T,to:ie}),N(null),I([]),w&&o&&Mu(At(Rt,`games/${o}`),{fen:p.fen(),lastMove:{from:T,to:ie},turn:p.turn()})):(N(null),I([]))}},st=ie=>{const Fe=Math.floor(ie/8),We=ie%8;let ot=8-Fe,_t=We;return ne==="b"&&(ot=Fe+1,_t=7-We),`${String.fromCharCode(97+_t)}${ot}`},it=ie=>{const Fe=st(ie);y.flat()[ie];let We=null,ot=Math.floor(ie/8),_t=ie%8;ne==="w"?We=y[ot][_t]:We=y[7-ot][7-_t];const be=T===Fe,ke=R.some(ns=>ns.to===Fe),fe=Z&&(Z.from===Fe||Z.to===Fe),Me=(We==null?void 0:We.type)==="k"&&We.color===p.turn()&&p.inCheck(),xt=Y&&(Y.from===Fe||Y.to===Fe),$e=Math.floor(ie/8),mt=ie%8,vt=($e+mt)%2===1;return l.jsxs("div",{onClick:()=>Ce(Fe),className:`
                    w-full h-full flex items-center justify-center relative cursor-pointer
                    ${vt?"bg-[#FF006E]":"bg-[var(--color-surface)]"}
                    ${be?"!bg-[#FFBE0B]":""}
                    ${fe&&!be?"!bg-[#8338EC]/50":""}
                    ${Me?"!bg-red-600 animate-pulse":""}
                    ${xt&&!be?"!bg-[#06FFA5] animate-pulse":""}
                `,children:[mt===0&&l.jsx("span",{className:`absolute top-0.5 left-0.5 text-[8px] md:text-[10px] font-bold ${vt?"text-white":"text-[var(--color-text)]"}`,children:ne==="w"?8-$e:$e+1}),$e===7&&l.jsx("span",{className:`absolute bottom-0 right-0.5 text-[8px] md:text-[10px] font-bold ${vt?"text-white":"text-[var(--color-text)]"}`,children:String.fromCharCode(97+(ne==="w"?mt:7-mt)).toUpperCase()}),ke&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:l.jsx("div",{className:`rounded-full ${We?"border-[4px] border-[#06FFA5] w-full h-full rounded-none":"bg-[#06FFA5] w-3 h-3 md:w-4 md:h-4"}`})}),We&&l.jsx("div",{className:`text-3xl md:text-4xl lg:text-5xl drop-shadow-md transition-transform ${be?"-translate-y-1":""}`,children:fs.createElement(uT[We.type],{color:We.color==="w"?"#FFF":"#000",style:{stroke:"#000",strokeWidth:"15px",filter:"drop-shadow(2px 2px 0 #000)"}})})]},Fe)},Te=()=>{let ie=0,Fe=0;U===q?(ie=50,Fe=20):U==="draw"&&(ie=10,Fe=5),n(ie,Fe)},Ee=ie=>(pe.DE,{p:t===pe.DE?"Bauer":"Pawn",r:t===pe.DE?"Turm":"Rook",n:t===pe.DE?"Springer":"Knight",b:t===pe.DE?"Lufer":"Bishop",q:t===pe.DE?"Dame":"Queen",k:t===pe.DE?"Knig":"King"}[ie]),ye=ie=>{const Fe=Ee(ie.piece),We=ie.to,ot=t===pe.DE?"nach":"to",_t=t===pe.DE?"schlgt":"captures",be=t===pe.DE?"auf":"on";if(ie.flags.includes("c")||ie.flags.includes("e")){const ke=ie.captured||"p",fe=Ee(ke);return`${Fe} ${_t} ${fe} ${be} ${We}`}else return ie.flags.includes("k")||ie.flags.includes("q")?t===pe.DE?"Rochade":"Castling":`${Fe} ${ot} ${We}`};return l.jsxs("div",{className:"flex flex-col h-full w-full bg-[var(--color-bg)] overflow-hidden",children:[we&&l.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-[var(--color-surface)] border-4 border-[var(--color-border)] p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-[8px_8px_0px_#000] animate-scale-in",children:[l.jsx("h2",{className:"text-2xl font-black uppercase mb-6 text-center border-b-4 border-[var(--color-border)] pb-2",children:t===pe.DE?"Schach: Anleitung":"Chess: Guide"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-black uppercase mb-3 bg-yellow-400 inline-block px-2 border-2 border-[var(--color-border)]",children:t===pe.DE?"Figuren":"Pieces"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:["k","q","r","b","n","p"].map(ie=>l.jsxs("div",{className:"flex items-center gap-3 bg-gray-100 p-2 border-2 border-[var(--color-border)] rounded-lg",children:[l.jsx("div",{className:"text-3xl",children:fs.createElement(uT[ie],{color:"black"})}),l.jsx("span",{className:"font-bold uppercase text-sm",children:Ee(ie)})]},ie))})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-black uppercase mb-3 bg-[#06FFA5] inline-block px-2 border-2 border-[var(--color-border)]",children:t===pe.DE?"Kurzregeln":"Rules"}),l.jsxs("ul",{className:"list-disc list-inside text-sm font-bold space-y-2 text-gray-700",children:[l.jsx("li",{children:t===pe.DE?"Wei zieht zuerst.":"White moves first."}),l.jsx("li",{children:t===pe.DE?"Ziel: Setze den gegnerischen Knig Schachmatt.":"Goal: Checkmate the opponent's King."}),l.jsx("li",{children:t===pe.DE?"Patt = Unentschieden (Kein legaler Zug mglich).":"Stalemate = Draw (No legal moves)."})]})]}),l.jsx("button",{onClick:()=>De(!1),className:"w-full py-4 bg-[#FF006E] text-white border-4 border-[var(--color-border)] font-black uppercase text-xl hover:translate-y-1 active:translate-y-2 transition-all shadow-[4px_4px_0px_#000]",children:t===pe.DE?"Spiel Starten":"Start Game"})]})}),qe&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-[var(--color-surface)] border-4 border-[var(--color-border)] p-6 w-full max-w-sm shadow-[8px_8px_0px_#000] animate-scale-in text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-[#FFBE0B] border-4 border-[var(--color-border)] flex items-center justify-center mb-4 transform -rotate-3",children:l.jsx(iu,{size:32,className:"text-[var(--color-text)]"})}),l.jsx("h2",{className:"text-2xl font-black uppercase mb-2",children:f.GAME.UNLOCK_HINT}),l.jsx("p",{className:"text-sm font-bold mb-6 text-gray-600",children:t===pe.DE?"Bekomme den besten Zug vorgeschlagen!":"Get the best move suggestion!"}),l.jsxs("div",{className:"space-y-3",children:[H===0?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>{alert(t===pe.DE?"Werbung luft...":"Watching Ad..."),ue()},className:"w-full py-3 bg-[#06FFA5] border-4 border-[var(--color-border)] font-black uppercase flex items-center justify-center gap-2 hover:translate-y-1 active:translate-y-2 transition-all shadow-[4px_4px_0px_#000]",children:[l.jsx(Vv,{size:20}),t===pe.DE?"Gratis (Werbung)":"Free (Watch Ad)"]}),l.jsx("div",{className:"font-black text-xs uppercase text-gray-400",children:"- ODER / OR -"}),l.jsxs("button",{onClick:()=>{e.coins>=50?ue():alert(f.SHOP.INSUFFICIENT)},className:"w-full py-3 bg-[var(--color-surface)] border-4 border-[var(--color-border)] font-black uppercase flex items-center justify-center gap-2 hover:translate-y-1 active:translate-y-2 transition-all shadow-[4px_4px_0px_#000]",children:[l.jsx(Rs,{size:20,className:"text-[#FFBE0B]"}),"50 ",f.HOME.COINS]})]}):l.jsx("button",{onClick:()=>{e.coins>=100?(alert(t===pe.DE?"Werbung luft...":"Watching Ad..."),ue()):alert(f.SHOP.INSUFFICIENT)},className:"w-full py-3 bg-[#8338EC] text-white border-4 border-[var(--color-border)] font-black uppercase flex items-center justify-center gap-2 hover:translate-y-1 active:translate-y-2 transition-all shadow-[4px_4px_0px_#000]",children:l.jsx("div",{className:"flex flex-col items-center leading-none",children:l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Rs,{size:14})," 100 + ",l.jsx(Vv,{size:14})]})})}),l.jsx("button",{onClick:()=>W(!1),className:"text-xs font-bold uppercase underline mt-2",children:f.MAU_MAU.CANCEL})]})]})}),l.jsxs("div",{className:"p-4 flex justify-between items-center bg-[var(--color-surface)] border-b-4 border-[var(--color-border)] z-20 shrink-0",children:[l.jsx("button",{onClick:i,className:"p-2 border-2 border-[var(--color-border)] hover:bg-gray-100 shadow-[2px_2px_0px_#000]",children:l.jsx(vn,{size:24})}),!w&&O==="playing"&&l.jsx("button",{onClick:()=>W(!0),disabled:Se,className:"p-2 bg-[#FFBE0B] border-2 border-[var(--color-border)] shadow-[2px_2px_0px_#000] active:translate-y-1 transition-all disabled:opacity-50",children:l.jsx(iu,{size:24,className:Se?"animate-pulse":""})}),l.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-[#8338EC] border-2 border-[var(--color-border)] shadow-[2px_2px_0px_#000] text-white",children:[w?l.jsx(Zn,{size:20}):l.jsx(S0,{size:20}),l.jsx("span",{className:"font-black uppercase hidden md:inline",children:w?"Multiplayer":"Singleplayer"})]}),l.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-[var(--color-surface)] border-2 border-[var(--color-border)] shadow-[2px_2px_0px_#000]",children:[l.jsx(Rs,{size:20,className:"text-[#FF006E]"}),l.jsx("span",{className:"font-mono font-black text-xl",children:e.coins})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-[var(--color-surface)] border-r-4 border-[var(--color-border)] overflow-hidden shrink-0",children:[l.jsx("div",{className:"p-3 bg-gray-100 border-b-4 border-[var(--color-border)] font-black uppercase text-center",children:t===pe.DE?"Spielprotokoll":"Move Log"}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 text-xs",children:[ve.reduce((ie,Fe,We)=>(We%2===0?ie.push([Fe]):ie[ie.length-1].push(Fe),ie),[]).map((ie,Fe)=>l.jsxs("div",{className:"flex flex-col border-b border-gray-200 pb-2",children:[l.jsxs("div",{className:"text-gray-500 font-black mb-1",children:["Runde ",Fe+1]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:"w-3 h-3 mt-0.5 rounded-full bg-[var(--color-surface)] border border-[var(--color-border)] shrink-0"}),l.jsx("span",{className:"font-bold text-gray-500 mr-1",children:t===pe.DE?"Wei:":"White:"}),l.jsx("span",{className:"font-bold",children:ye(ie[0])})]}),ie[1]&&l.jsxs("div",{className:"flex items-start gap-2 mt-1",children:[l.jsx("div",{className:"w-3 h-3 mt-0.5 rounded-full bg-black border border-[var(--color-border)] shrink-0"}),l.jsx("span",{className:"font-bold text-gray-500 mr-1",children:t===pe.DE?"Schwarz:":"Black:"}),l.jsx("span",{className:"font-bold",children:ye(ie[1])})]})]},Fe)),l.jsx("div",{ref:ie=>ie==null?void 0:ie.scrollIntoView({behavior:"smooth"})})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[l.jsx("div",{className:"p-2 md:p-4 flex justify-center shrink-0",children:l.jsx("div",{className:`
                            px-4 md:px-6 py-2 md:py-3 border-4 border-[var(--color-border)] font-black text-sm md:text-xl uppercase shadow-[4px_4px_0px_#000] transform -skew-x-3
                            ${O==="playing"?p.turn()===q?"bg-[#06FFA5]":"bg-[var(--color-surface)]":"bg-[#FF006E] text-white"}
                        `,children:O==="playing"?p.turn()===q?f.CHESS.YOUR_TURN:f.CHESS.OPPONENT_TURN:O==="checkmate"?f.CHESS.CHECKMATE:f.CHESS.GAME_OVER})}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-2 md:p-4 overflow-hidden",children:l.jsx("div",{className:"w-full max-w-[85vw] md:max-w-md aspect-square border-4 border-[var(--color-border)] bg-black shadow-[8px_8px_0px_#000]",children:l.jsx("div",{className:"grid grid-cols-8 grid-rows-8 h-full w-full",children:Array.from({length:64}).map((ie,Fe)=>it(Fe))})})}),l.jsx("div",{className:"md:hidden h-16 bg-gray-100 border-t-4 border-[var(--color-border)] flex flex-col justify-center px-4 overflow-y-auto font-mono text-xs",children:ve.length>0?l.jsx("div",{className:"font-bold text-center",children:ve.length%2===0?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 mr-2",children:"Schwarz:"}),ye(ve[ve.length-1])]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 mr-2",children:"Wei:"}),ye(ve[ve.length-1])]})}):l.jsx("div",{className:"text-gray-400 text-center italic",children:"Keine Zge"})}),l.jsxs("div",{className:"px-4 py-4 bg-[var(--color-bg)] border-t-4 border-[var(--color-border)] flex justify-between items-end shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 border-3 border-[var(--color-border)] bg-[var(--color-surface)] overflow-hidden",children:l.jsx("img",{src:`https://api.dicebear.com/9.x/bottts-neutral/svg?seed=${e.avatarId}`,alt:"You"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-black text-xs md:text-sm uppercase",children:e.name}),l.jsx("p",{className:"text-[10px] md:text-xs font-bold text-gray-500",children:q==="w"?f.CHESS.WHITE:f.CHESS.BLACK})]})]}),w&&l.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-row-reverse text-right",children:[l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 border-3 border-[var(--color-border)] bg-[var(--color-surface)] overflow-hidden",children:l.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:l.jsx(ci,{size:20})})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-black text-xs md:text-sm uppercase",children:c||f.CHESS.WAITING_OPPONENT}),l.jsx("p",{className:"text-[10px] md:text-xs font-bold text-gray-500",children:q==="w"?f.CHESS.BLACK:f.CHESS.WHITE})]})]})]})]})]}),O!=="playing"&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-[var(--color-surface)] border-4 border-[var(--color-border)] p-8 w-full max-w-sm relative shadow-[8px_8px_0px_#000] animate-in zoom-in duration-200 text-center",children:[l.jsx("h2",{className:"text-4xl font-black uppercase mb-2 italic transform -skew-x-6",children:U===q?f.CHESS.WIN:U==="draw"?f.CHESS.DRAW:f.CHESS.LOSS}),l.jsx("p",{className:"font-bold mb-8 text-gray-600",children:O==="checkmate"?f.CHESS.CHECKMATE:O==="stalemate"?f.CHESS.STALEMATE:O==="draw"?f.CHESS.DRAW:f.CHESS.GAME_OVER}),l.jsx("div",{className:"flex flex-col gap-3",children:l.jsx("button",{onClick:Te,className:"w-full py-4 bg-[#06FFA5] border-4 border-[var(--color-border)] font-black text-xl hover:translate-y-1 active:translate-y-2 transition-all shadow-[4px_4px_0px_#000]",children:f.CHESS.EXIT})})]})})]})},Tf=""+new URL("cat-dance-DdP0ijyQ.gif",import.meta.url).href,Jj=t=>t<=10?1:t<=30?2:t<=60?3:t<=90?4:5,dT=()=>{const t=Array(8).fill(null).map(()=>Array(8).fill(null));for(let e=0;e<3;e++)for(let n=0;n<8;n++)(e+n)%2===1&&(t[e][n]={color:"black",type:"normal"});for(let e=5;e<8;e++)for(let n=0;n<8;n++)(e+n)%2===1&&(t[e][n]={color:"red",type:"normal"});return t},e6=t=>t.map(e=>e.map(n=>n?{...n}:null)),r_=(t,e)=>t>=0&&t<8&&e>=0&&e<8,a_=(t,e,n,i=!1)=>{const o=t[e][n];if(!o)return[];const c=[],d=o.type==="king"?[-1,1]:o.color==="red"?[-1]:[1],h=bE(t,e,n,o,d);if(h.length>0)return h;if(i)return[];for(const f of d)for(const p of[-1,1]){const E=e+f,y=n+p;r_(E,y)&&!t[E][y]&&c.push({from:{row:e,col:n},to:{row:E,col:y},isJump:!1})}return c},bE=(t,e,n,i,o)=>{const c=[];for(const d of o)for(const h of[-1,1]){const f=e+d,p=n+h,E=e+2*d,y=n+2*h;if(r_(E,y)){const b=t[f][p],T=t[E][y];b&&b.color!==i.color&&!T&&c.push({from:{row:e,col:n},to:{row:E,col:y},captured:[{row:f,col:p}],isJump:!0})}}return c},o_=(t,e)=>{for(let n=0;n<8;n++)for(let i=0;i<8;i++){const o=t[n][i];if(o&&o.color===e){const c=o.type==="king"?[-1,1]:o.color==="red"?[-1]:[1];if(bE(t,n,i,o,c).length>0)return!0}}return!1},$h=(t,e)=>{const n=[],i=o_(t,e);for(let o=0;o<8;o++)for(let c=0;c<8;c++){const d=t[o][c];d&&d.color===e&&n.push(...a_(t,o,c,i))}return n},Xh=(t,e)=>{const n=e6(t),i=n[e.from.row][e.from.col];if(!i)return n;if(n[e.to.row][e.to.col]=i,n[e.from.row][e.from.col]=null,e.captured)for(const o of e.captured)n[o.row][o.col]=null;return(i.color==="red"&&e.to.row===0||i.color==="black"&&e.to.row===7)&&(n[e.to.row][e.to.col]={...i,type:"king"}),n},t6=(t,e)=>{let n=0;for(let i=0;i<8;i++)for(let o=0;o<8;o++){const c=t[i][o];if(c){const d=c.type==="king"?3:1,h=c.type!=="king"?c.color==="black"?i*.1:(7-i)*.1:0;c.color===e?n+=d+h:n-=d+h}}return n},Q0=(t,e,n,i,o,c,d)=>{const f=$h(t,o?c:d);if(e===0||f.length===0)return t6(t,c);if(o){let p=-1/0;for(const E of f){const y=Xh(t,E),b=Q0(y,e-1,n,i,!1,c,d);if(p=Math.max(p,b),n=Math.max(n,b),i<=n)break}return p}else{let p=1/0;for(const E of f){const y=Xh(t,E),b=Q0(y,e-1,n,i,!0,c,d);if(p=Math.min(p,b),i=Math.min(i,b),i<=n)break}return p}},hT=(t,e,n,i)=>{const o=$h(t,e);if(o.length===0)return null;let c=o[0],d=-1/0;for(const h of o){const f=Xh(t,h),p=Q0(f,i-1,-1/0,1/0,!1,e,n);p>d&&(d=p,c=h)}return c},n6=({language:t,user:e,onGameEnd:n,onBack:i,multiplayerGameId:o,opponentName:c,isHost:d=!0,levelId:h=1})=>{const[f,p]=_.useState(dT),[E,y]=_.useState(null),[b,T]=_.useState([]),[N,R]=_.useState("red"),[I,O]=_.useState("playing"),[$,U]=_.useState([]),[K,ne]=_.useState(!0),[P,Z]=_.useState(null),[J,we]=_.useState(0),[De,ve]=_.useState(!1),[he,qe]=_.useState(5),W=!!o,Y=d?"red":"black",k="black",H=Jj(h),ae=(xe,Ae)=>{const Ge=String.fromCharCode(65+xe.from.col),ue=String.fromCharCode(65+xe.to.col),Ce=Ae==="red"?"Rot":"Schwarz";return xe.isJump?`${Ce}: ${Ge}${8-xe.from.row} schlgt ${ue}${8-xe.to.row}`:`${Ce}: ${Ge}${8-xe.from.row}  ${ue}${8-xe.to.row}`};_.useEffect(()=>{if(!W||!o)return;const xe=At(Rt,`games/${o}`);return oa(xe,Ae=>{if(Ae.exists()){const Ge=Ae.val();Ge.board&&p(Ge.board),Ge.currentPlayer&&R(Ge.currentPlayer),Ge.gameStatus&&Ge.gameStatus!=="playing"&&O(Ge.gameStatus===Y?"won":"lost"),Ge.moveHistory&&U(Ge.moveHistory)}}),()=>Ja(xe)},[W,o,Y]),_.useEffect(()=>{if(W||I!=="playing"||K||N!==k)return;const xe=setTimeout(()=>{const Ae=hT(f,k,Y,H);Ae?Se(Ae):(O("won"),n(50+h*5,20+h*2))},500);return()=>clearTimeout(xe)},[N,f,I,K,W]),_.useEffect(()=>{if(I!=="playing")return;const xe=$h(f,Y),Ae=$h(f,k);xe.length===0&&N===Y?(O("lost"),n(10,5)):Ae.length===0&&N===k&&(O("won"),n(50+h*5,20+h*2))},[f,N]);const Se=_.useCallback(xe=>{const Ae=Xh(f,xe),Ge=ae(xe,N),ue=[...$,Ge];p(Ae),U(ue),y(null),T([]),Z(null);const Ce=Ae[xe.to.row][xe.to.col];if(xe.isJump&&Ce){const it=Ce.type==="king"?[-1,1]:Ce.color==="red"?[-1]:[1],Te=bE(Ae,xe.to.row,xe.to.col,Ce,it);if(Te.length>0){y({row:xe.to.row,col:xe.to.col}),T(Te);return}}const st=N==="red"?"black":"red";R(st),W&&o&&Dn(At(Rt,`games/${o}`),{board:Ae,currentPlayer:st,moveHistory:ue,lastUpdate:Date.now()})},[f,N,$,W,o]),ge=(xe,Ae)=>{if(I!=="playing"||K||W&&N!==Y||!W&&N!==Y)return;const Ge=f[xe][Ae];if(E){const ue=b.find(Ce=>Ce.to.row===xe&&Ce.to.col===Ae);if(ue){Se(ue);return}}if(Ge&&Ge.color===Y){const ue=o_(f,Y),Ce=a_(f,xe,Ae,ue);Ce.length>0?(y({row:xe,col:Ae}),T(Ce)):(y(null),T([]))}},w=()=>{qe(5+J),ve(!0)};_.useEffect(()=>{if(!De||he<=0)return;const xe=setTimeout(()=>qe(Ae=>Ae-1),1e3);return()=>clearTimeout(xe)},[De,he]);const q=()=>{const xe=hT(f,Y,k,Math.min(H+1,5));xe&&(Z(xe),setTimeout(()=>Z(null),3e3)),we(Ae=>Ae+5),ve(!1)},L=()=>{p(dT()),y(null),T([]),R("red"),O("playing"),U([]),Z(null)},se=xe=>{const Ae=xe.type==="king",Ge=xe.color==="red";return l.jsxs("div",{className:"relative transition-transform hover:scale-110 cursor-pointer",style:{width:"40px",height:"40px",borderRadius:"50%",background:Ge?"#FF006E":"#000",border:"3px solid var(--color-border)",boxShadow:"3px 3px 0px #000"},children:[l.jsx("div",{className:"absolute rounded-full",style:{top:"6px",left:"6px",right:"6px",bottom:"6px",border:`2px solid ${Ge?"rgba(255,255,255,0.4)":"rgba(255,255,255,0.2)"}`}}),Ae&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx(dl,{size:20,className:"text-[#FFBE0B]",strokeWidth:3})})]})},Le="#DC2626";return l.jsxs("div",{className:"min-h-screen p-4 geo-pattern",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:i,className:"p-3 border-3 border-[var(--color-border)] transition-all hover:-translate-y-1 hover:scale-105",style:{background:Le,boxShadow:"4px 4px 0px var(--color-border)"},children:l.jsx(vn,{size:24,className:"text-white"})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 bg-[#FFBE0B] px-4 py-2 border-3 border-[var(--color-border)] font-black",style:{boxShadow:"3px 3px 0px #000"},children:[l.jsx(Rs,{size:20,className:"text-[var(--color-text)]"}),l.jsx("span",{className:"text-[var(--color-text)] text-lg",children:e.coins})]}),!W&&l.jsxs("div",{className:"px-4 py-2 border-3 border-[var(--color-border)] font-black text-white",style:{background:"#8338EC",boxShadow:"3px 3px 0px #000"},children:["LEVEL ",h]})]})]}),l.jsxs("div",{className:"max-w-lg mx-auto mt-4",style:{background:"var(--color-bg)",border:"4px solid var(--color-border)",boxShadow:"8px 8px 0px var(--color-border)"},children:[l.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b-4 border-[var(--color-border)]",style:{background:Le},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(T0,{size:24,className:"text-white",fill:"white"}),l.jsx("span",{className:"font-black text-white uppercase text-lg",children:"Dame"})]}),l.jsx("div",{className:`px-4 py-2 font-black text-sm uppercase border-2 border-[var(--color-border)] ${N===Y?"bg-[#06FFA5] text-[var(--color-text)]":"bg-[var(--color-surface)] text-[var(--color-text)]"}`,children:N===Y?"DEIN ZUG":W?c==null?void 0:c.toUpperCase():"KI DENKT"})]}),l.jsxs("div",{className:"p-5 md:p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-5 px-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-[#FF006E] border-3 border-[var(--color-border)]",style:{boxShadow:"2px 2px 0px #000"}}),l.jsx("span",{className:"font-black text-[var(--color-text)] text-lg",children:"DU"})]}),l.jsx("div",{className:"px-4 py-2 bg-black text-white font-black text-sm",children:"VS"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"font-black text-[var(--color-text)] text-lg",children:W?c==null?void 0:c.toUpperCase():"KI"}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-[#1F2937] border-3 border-[var(--color-border)]",style:{boxShadow:"2px 2px 0px #000"}})]})]}),l.jsx("div",{className:"mx-auto border-4 border-[var(--color-border)]",style:{boxShadow:"6px 6px 0px #000"},children:f.map((xe,Ae)=>l.jsx("div",{className:"flex",children:xe.map((Ge,ue)=>{var Ee;const Ce=(Ae+ue)%2===1,st=(E==null?void 0:E.row)===Ae&&(E==null?void 0:E.col)===ue,it=b.some(ye=>ye.to.row===Ae&&ye.to.col===ue),Te=P&&(P.from.row===Ae&&P.from.col===ue||P.to.row===Ae&&P.to.col===ue);return l.jsxs("div",{onClick:()=>ge(Ae,ue),className:`flex items-center justify-center cursor-pointer transition-all relative
                        ${st?"ring-4 ring-[#FFBE0B] ring-inset":""}
                        ${Te?"ring-4 ring-[#06FFA5] ring-inset animate-pulse":""}
                      `,style:{width:"52px",height:"52px",background:Ce?"#D4A574":"var(--color-bg)",borderRight:ue<7?"1px solid rgba(0,0,0,0.2)":"none",borderBottom:Ae<7?"1px solid rgba(0,0,0,0.2)":"none"},children:[Ge&&se(Ge),it&&l.jsx("div",{className:"absolute rounded-full animate-pulse border-2 border-[var(--color-border)]",style:{width:"24px",height:"24px",background:(Ee=b.find(ye=>ye.to.row===Ae&&ye.to.col===ue))!=null&&Ee.isJump?"rgba(239,68,68,0.7)":"rgba(6,255,165,0.7)",boxShadow:"0 0 10px rgba(0,0,0,0.3)"}})]},ue)})},Ae))}),l.jsxs("div",{className:"flex gap-3 mt-4 justify-center flex-wrap",children:[l.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-5 py-3 bg-[#FFBE0B] hover:bg-yellow-400 text-[var(--color-text)] font-black uppercase border-3 border-[var(--color-border)] transition-all hover:-translate-y-1",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsx(iu,{size:20}),"HINWEIS"]}),!W&&l.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-5 py-3 bg-[var(--color-surface)] hover:bg-gray-100 text-[var(--color-text)] font-black uppercase border-3 border-[var(--color-border)] transition-all hover:-translate-y-1",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsx(Ag,{size:20}),"NEUSTART"]})]})]})]}),K&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-[var(--color-bg)] p-6 max-w-md w-full border-4 border-[var(--color-border)]",style:{boxShadow:"10px 10px 0px #000"},children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx("div",{className:"p-3 bg-[#DC2626] border-3 border-[var(--color-border)]",style:{boxShadow:"3px 3px 0px #000"},children:l.jsx(T0,{size:28,className:"text-white"})}),l.jsx("h2",{className:"text-3xl font-black uppercase text-[var(--color-text)]",children:"DAME"})]}),l.jsxs("div",{className:"bg-[var(--color-surface)] p-4 border-3 border-[var(--color-border)] mb-4",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsx("h3",{className:"font-black text-sm mb-2 text-[var(--color-text)] uppercase",children:"Spielregeln"}),l.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[l.jsx("li",{children:" Steine ziehen diagonal vorwrts"}),l.jsx("li",{children:" Gegnerische Steine berspringen zum Schlagen"}),l.jsx("li",{children:" Mehrfach-Sprnge mglich"}),l.jsx("li",{children:" Am Ende wird der Stein zur Dame"})]})]}),l.jsxs("div",{className:"flex gap-3 mb-4",children:[l.jsxs("div",{className:"flex-1 bg-red-100 p-3 border-3 border-[var(--color-border)] text-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-400 to-red-600 border-3 border-red-800 mx-auto mb-2"}),l.jsx("span",{className:"text-xs font-black text-[var(--color-text)]",children:"DU (ROT)"})]}),l.jsxs("div",{className:"flex-1 bg-gray-100 p-3 border-3 border-[var(--color-border)] text-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-500 to-gray-700 border-3 border-gray-800 mx-auto mb-2"}),l.jsx("span",{className:"text-xs font-black text-[var(--color-text)]",children:"KI (SCHWARZ)"})]})]}),!W&&l.jsx("div",{className:"text-center mb-4",children:l.jsxs("span",{className:"bg-[#8338EC] text-white px-4 py-2 border-3 border-[var(--color-border)] font-black",style:{boxShadow:"3px 3px 0px #000"},children:["LEVEL ",h]})}),l.jsxs("button",{onClick:()=>ne(!1),className:"w-full py-4 bg-[#06FFA5] hover:bg-emerald-300 text-[var(--color-text)] font-black uppercase text-xl border-4 border-[var(--color-border)] transition-all flex items-center justify-center gap-3",style:{boxShadow:"6px 6px 0px #000"},children:[l.jsx(Xr,{size:28}),"SPIEL STARTEN"]})]})}),I!=="playing"&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-[var(--color-bg)] p-6 max-w-md w-full border-4 border-[var(--color-border)]",style:{boxShadow:"10px 10px 0px #000"},children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center border-4 border-[var(--color-border)] ${I==="won"?"bg-[#06FFA5]":"bg-red-400"}`,children:l.jsx(Ya,{size:40,className:I==="won"?"text-[var(--color-text)]":"text-white"})}),l.jsx("h2",{className:"text-3xl font-black uppercase mb-2 text-[var(--color-text)]",children:I==="won"?"GEWONNEN!":"VERLOREN!"}),l.jsx("div",{className:"bg-[var(--color-surface)] p-3 border-3 border-[var(--color-border)] mb-4 inline-block",style:{boxShadow:"3px 3px 0px #000"},children:l.jsx("p",{className:"text-[var(--color-text)] font-bold",children:I==="won"?`+${50+h*5} XP, +${20+h*2} Mnzen`:"+10 XP, +5 Mnzen"})}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("button",{onClick:i,className:"px-6 py-3 bg-[var(--color-surface)] hover:bg-gray-100 text-[var(--color-text)] font-black uppercase border-3 border-[var(--color-border)]",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:"MEN"}),!W&&l.jsx("button",{onClick:L,className:"px-6 py-3 bg-[#06FFA5] hover:bg-emerald-300 text-[var(--color-text)] font-black uppercase border-3 border-[var(--color-border)]",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:"NOCHMAL"})]})]})})}),De&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-[var(--color-bg)] p-6 border-4 border-[var(--color-border)] max-w-sm w-full relative",style:{boxShadow:"8px 8px 0px var(--color-border)"},children:[l.jsx("button",{onClick:()=>ve(!1),className:"absolute top-2 right-2 p-1 bg-[var(--color-surface)] border-2 border-[var(--color-border)] hover:bg-gray-100",style:{boxShadow:"2px 2px 0px #000"},children:l.jsx(Al,{size:16,className:"text-[var(--color-text)]"})}),l.jsx("h3",{className:"text-xl font-black uppercase mb-4 text-[var(--color-text)] text-center",children:"HINWEIS FREISCHALTEN"}),l.jsxs("div",{className:"w-full h-40 bg-black flex items-center justify-center relative overflow-hidden border-4 border-[var(--color-border)] mb-4",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsx("img",{src:Tf,alt:"Ad",className:"w-full h-full object-cover opacity-50"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"text-5xl font-black font-mono text-white drop-shadow-[4px_4px_0px_#000]",children:he>0?`${he}s`:"FERTIG"})}),l.jsx("div",{className:"absolute top-2 right-2 bg-[#FF006E] px-2 py-1 text-[10px] font-black text-white border-2 border-[var(--color-border)]",children:"AD"})]}),J>0&&l.jsx("div",{className:"text-center mb-3",children:l.jsxs("span",{className:"bg-[#FF006E] text-white px-3 py-1 text-xs font-black border-2 border-[var(--color-border)]",children:["+",J,"s Wartezeit"]})}),he>0&&l.jsxs("button",{onClick:()=>{const xe=30+J*2;e.coins>=xe&&qe(0)},disabled:e.coins<30+J*2,className:"w-full py-3 mb-2 font-black uppercase text-sm flex items-center justify-center gap-2 border-3 border-[var(--color-border)] transition-all hover:scale-[1.02]",style:{background:e.coins>=30+J*2?"#FFBE0B":"#E5E5E5",color:e.coins>=30+J*2?"#000":"#999",boxShadow:e.coins>=30+J*2?"4px 4px 0px #000":"none",cursor:e.coins>=30+J*2?"pointer":"not-allowed"},children:[l.jsx(ws,{size:16})," SKIP (",30+J*2," Coins)"]}),l.jsx("button",{disabled:he>0,onClick:q,className:"w-full py-3 font-black uppercase text-sm border-3 border-[var(--color-border)]",style:{background:he>0?"#E5E5E5":"#06FFA5",color:he>0?"#999":"#000",boxShadow:he>0?"none":"4px 4px 0px #000",cursor:he>0?"not-allowed":"pointer"},children:he>0?"BITTE WARTEN...":"HINWEIS ANSEHEN"})]})})]})},s6=[{x:0,y:0},{x:3,y:0},{x:6,y:0},{x:6,y:3},{x:6,y:6},{x:3,y:6},{x:0,y:6},{x:0,y:3},{x:1,y:1},{x:3,y:1},{x:5,y:1},{x:5,y:3},{x:5,y:5},{x:3,y:5},{x:1,y:5},{x:1,y:3},{x:2,y:2},{x:3,y:2},{x:4,y:2},{x:4,y:3},{x:4,y:4},{x:3,y:4},{x:2,y:4},{x:2,y:3}],i6=[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,0],[8,9],[9,10],[10,11],[11,12],[12,13],[13,14],[14,15],[15,8],[16,17],[17,18],[18,19],[19,20],[20,21],[21,22],[22,23],[23,16],[1,9],[9,17],[3,11],[11,19],[5,13],[13,21],[7,15],[15,23]],r6=[[0,1,2],[2,3,4],[4,5,6],[6,7,0],[8,9,10],[10,11,12],[12,13,14],[14,15,8],[16,17,18],[18,19,20],[20,21,22],[22,23,16],[1,9,17],[3,11,19],[5,13,21],[7,15,23]],a6=t=>{const e=[];for(const[n,i]of i6)n===t&&e.push(i),i===t&&e.push(n);return e},oi=(t,e,n)=>{for(const i of r6)if(i.includes(e)&&i.every(o=>t[o]===n))return!0;return!1},sh=(t,e)=>{for(let n=0;n<24;n++)if(t[n]===e&&!oi(t,n,e))return!1;return!0},zr=(t,e)=>t.filter(n=>n===e).length,$o=(t,e,n)=>n?t.map((i,o)=>i===null?o:-1).filter(i=>i!==-1):a6(e).filter(i=>t[i]===null),o6=({language:t,user:e,onGameEnd:n,onBack:i,multiplayerGameId:o,opponentName:c,isHost:d=!0,levelId:h=1})=>{const[f,p]=_.useState(Array(24).fill(null)),[E,y]=_.useState("white"),[b,T]=_.useState("placing"),[N,R]=_.useState({white:9,black:9}),[I,O]=_.useState(null),[$,U]=_.useState(!1),[K,ne]=_.useState("playing"),[P,Z]=_.useState([]),[J,we]=_.useState(!0),[De,ve]=_.useState(null),[he,qe]=_.useState(0),[W,Y]=_.useState(!1),[k,H]=_.useState(5),ae=!!o,Se=d?"white":"black",ge="black",w=(Te,Ee)=>`${Ee==="white"?"Wei":"Schwarz"}: ${Te}`;_.useEffect(()=>{if(!ae||!o)return;const Te=At(Rt,`games/${o}`);return oa(Te,Ee=>{if(Ee.exists()){const ye=Ee.val();ye.board&&p(ye.board),ye.currentPlayer&&y(ye.currentPlayer),ye.phase&&T(ye.phase),ye.piecesToPlace&&R(ye.piecesToPlace),ye.mustRemove!==void 0&&U(ye.mustRemove),ye.moveHistory&&Z(ye.moveHistory),ye.gameStatus&&ye.gameStatus!=="playing"&&ne(ye.gameStatus===Se?"won":"lost")}}),()=>Ja(Te)},[ae,o,Se]),_.useEffect(()=>{if(K!=="playing"||J||b==="placing")return;const Te=zr(f,"white"),Ee=zr(f,"black");Te<3?(ne(Se==="white"?"lost":"won"),n(Se==="white"?10:50+h*5,Se==="white"?5:20+h*2)):Ee<3&&(ne(Se==="black"?"lost":"won"),n(Se==="black"?10:50+h*5,Se==="black"?5:20+h*2)),$||!f.some((ie,Fe)=>{if(ie!==E)return!1;const ot=zr(f,E)===3;return $o(f,Fe,ot).length>0})&&N[E]===0&&(ne(E===Se?"lost":"won"),n(E===Se?10:50+h*5,E===Se?5:20+h*2))},[f,b,E,$,N]),_.useEffect(()=>{if(ae||K!=="playing"||J||E!==ge)return;const Te=setTimeout(()=>{q()},700);return()=>clearTimeout(Te)},[E,$,K,J,ae,f,b]);const q=()=>{if($){const Te=f.map((Ee,ye)=>Ee!==Se?-1:sh(f,Se)?ye:oi(f,ye,Se)?-1:ye).filter(Ee=>Ee!==-1);if(Te.length>0){const Ee=Te[Math.floor(Math.random()*Te.length)];Le(Ee)}return}if(b==="placing"&&N.black>0){const Te=f.map((ye,ie)=>ye===null?ie:-1).filter(ye=>ye!==-1);let Ee=-1;for(const ye of Te){const ie=[...f];if(ie[ye]=ge,oi(ie,ye,ge)){Ee=ye;break}}if(Ee===-1)for(const ye of Te){const ie=[...f];if(ie[ye]=Se,oi(ie,ye,Se)){Ee=ye;break}}Ee===-1&&(Ee=Te[Math.floor(Math.random()*Te.length)]),L(Ee)}else{const Te=f.map((Fe,We)=>Fe===ge?We:-1).filter(Fe=>Fe!==-1),ye=zr(f,ge)===3;let ie=null;for(const Fe of Te){const We=$o(f,Fe,ye);for(const ot of We){const _t=[...f];if(_t[ot]=ge,_t[Fe]=null,oi(_t,ot,ge)){ie={from:Fe,to:ot};break}ie||(ie={from:Fe,to:ot})}if(ie&&oi([...f].map((ot,_t)=>_t===ie.to?ge:_t===ie.from?null:ot),ie.to,ge))break}ie&&se(ie.from,ie.to)}},L=Te=>{if(f[Te]!==null||b!=="placing")return;const Ee=[...f];Ee[Te]=E;const ye={...N,[E]:N[E]-1},ie=oi(Ee,Te,E),Fe=w(`Stein auf ${Te+1} gesetzt`,E);p(Ee),R(ye),Z(We=>[...We,Fe]),ie?U(!0):xe(Ee,ye),Ae(Ee,ye,ie)},se=(Te,Ee)=>{const ye=[...f];ye[Ee]=E,ye[Te]=null;const ie=oi(ye,Ee,E),Fe=w(`${Te+1}  ${Ee+1}`,E);p(ye),O(null),Z(We=>[...We,Fe]),ie?U(!0):xe(ye,N),Ae(ye,N,ie)},Le=Te=>{const Ee=E==="white"?"black":"white";if(f[Te]!==Ee||oi(f,Te,Ee)&&!sh(f,Ee))return;const ye=[...f];ye[Te]=null;const ie=w(`Stein auf ${Te+1} geschlagen`,E);p(ye),U(!1),Z(Fe=>[...Fe,ie]),xe(ye,N),Ae(ye,N,!1)},xe=(Te,Ee)=>{y(E==="white"?"black":"white"),Ee.white===0&&Ee.black===0&&b==="placing"&&T("moving")},Ae=(Te,Ee,ye)=>{if(!ae||!o)return;const ie=ye?E:E==="white"?"black":"white",Fe=Ee.white===0&&Ee.black===0?"moving":b,We=At(Rt,`games/${o}`);Mu(We,{board:Te,currentPlayer:ie,phase:Fe,piecesToPlace:Ee,mustRemove:ye,moveHistory:[...P],lastActivity:Date.now()})},Ge=Te=>{if(K!=="playing"||J||ae&&E!==Se||!ae&&E!==Se)return;const Ee=f[Te];if($){const ye=E==="white"?"black":"white";Ee===ye&&(!oi(f,Te,ye)||sh(f,ye))&&Le(Te);return}if(b==="placing"&&N[E]>0){Ee===null&&L(Te);return}if(I===null){if(Ee===E){const ie=zr(f,E)===3;$o(f,Te,ie).length>0&&O(Te)}}else if(Ee===null){const ie=zr(f,E)===3;$o(f,I,ie).includes(Te)&&se(I,Te)}else Ee===E&&O(Te)},ue=()=>{H(5+he),Y(!0)};_.useEffect(()=>{if(!W||k<=0)return;const Te=setTimeout(()=>H(Ee=>Ee-1),1e3);return()=>clearTimeout(Te)},[W,k]);const Ce=()=>{if(b==="placing"){const Te=f.map((Ee,ye)=>Ee===null?ye:-1).filter(Ee=>Ee!==-1);Te.length>0&&(ve(Te[Math.floor(Math.random()*Te.length)]),setTimeout(()=>ve(null),3e3))}else if(I!==null){const Te=zr(f,Se),Ee=$o(f,I,Te===3);Ee.length>0&&(ve(Ee[0]),setTimeout(()=>ve(null),3e3))}qe(Te=>Te+5),Y(!1)},st=()=>{p(Array(24).fill(null)),y("white"),T("placing"),R({white:9,black:9}),O(null),U(!1),ne("playing"),Z([]),ve(null)},it="#D97706";return l.jsxs("div",{className:"min-h-screen p-4 md:p-6 geo-pattern",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("button",{onClick:i,className:"p-3 border-3 border-[var(--color-border)] transition-all hover:-translate-y-1 hover:scale-105",style:{background:it,boxShadow:"4px 4px 0px var(--color-border)"},children:l.jsx(vn,{size:24,className:"text-white"})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 bg-[#FFBE0B] px-4 py-2 border-3 border-[var(--color-border)] font-black",style:{boxShadow:"3px 3px 0px #000"},children:[l.jsx(Rs,{size:20,className:"text-[var(--color-text)]"}),l.jsx("span",{className:"text-[var(--color-text)] text-lg",children:e.coins})]}),!ae&&l.jsxs("div",{className:"px-4 py-2 border-3 border-[var(--color-border)] font-black text-white",style:{background:"#8338EC",boxShadow:"3px 3px 0px #000"},children:["LEVEL ",h]})]})]}),l.jsxs("div",{className:"max-w-xl mx-auto p-5 md:p-8 mt-4",style:{background:"var(--color-bg)",border:"4px solid var(--color-border)",boxShadow:"8px 8px 0px var(--color-border)"},children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 mb-6 border-4 border-[var(--color-border)]",style:{background:it},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-white"}),l.jsx("span",{className:"font-black text-white uppercase text-lg",children:"MHLE"})]}),l.jsx("div",{className:`px-4 py-2 font-black text-sm uppercase border-2 border-[var(--color-border)] ${E===Se?"bg-[#06FFA5] text-[var(--color-text)]":"bg-[var(--color-surface)] text-[var(--color-text)]"}`,children:E===Se?"DEIN ZUG":ae?c==null?void 0:c.toUpperCase():"KI DENKT"})]}),l.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 justify-center",children:[$&&l.jsx("div",{className:"px-5 py-3 bg-[#FF006E] font-black uppercase animate-pulse text-white border-3 border-[var(--color-border)]",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:"STEIN ENTFERNEN!"}),b==="placing"&&l.jsxs("div",{className:"px-5 py-3 bg-[#0096FF] font-black text-white border-3 border-[var(--color-border)]",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:[" ",N.white," |  ",N.black]})]}),l.jsxs("div",{className:"relative w-72 h-72 md:w-80 md:h-80 mx-auto",style:{background:"var(--color-bg)",border:"6px solid transparent",backgroundImage:"linear-gradient(var(--color-bg), var(--color-bg)), linear-gradient(90deg, #FF006E 0%, #FF7F00 16.66%, #FFBE0B 33.33%, #06FFA5 50%, #0096FF 66.66%, #8338EC 83.33%, #FF006E 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",boxShadow:"8px 8px 0px var(--color-border)"},children:[l.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",children:[l.jsx("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",stroke:"#000",strokeWidth:"3"}),l.jsx("rect",{x:"16.67",y:"16.67",width:"66.67",height:"66.67",fill:"none",stroke:"#000",strokeWidth:"3"}),l.jsx("rect",{x:"33.33",y:"33.33",width:"33.33",height:"33.33",fill:"none",stroke:"#000",strokeWidth:"3"}),l.jsx("line",{x1:"50",y1:"0",x2:"50",y2:"33.33",stroke:"#000",strokeWidth:"3"}),l.jsx("line",{x1:"50",y1:"66.67",x2:"50",y2:"100",stroke:"#000",strokeWidth:"3"}),l.jsx("line",{x1:"0",y1:"50",x2:"33.33",y2:"50",stroke:"#000",strokeWidth:"3"}),l.jsx("line",{x1:"66.67",y1:"50",x2:"100",y2:"50",stroke:"#000",strokeWidth:"3"})]}),s6.map((Te,Ee)=>{const ye=f[Ee],ie=I===Ee,Fe=De===Ee,ot=(E?zr(f,E):0)===3,_t=I!==null&&$o(f,I,ot).includes(Ee),be=$&&ye!==null&&ye!==E&&(!oi(f,Ee,ye)||sh(f,ye));return l.jsx("div",{onClick:()=>Ge(Ee),className:`absolute w-8 h-8 md:w-10 md:h-10 -ml-4 -mt-4 md:-ml-5 md:-mt-5 rounded-full cursor-pointer transition-all flex items-center justify-center
                    ${ye?"":"bg-amber-300 hover:bg-amber-400 border-2 border-amber-600"}
                    ${ie?"ring-4 ring-yellow-400":""}
                    ${Fe?"ring-4 ring-green-400 animate-pulse":""}
                    ${_t?"ring-4 ring-green-500 bg-green-200":""}
                    ${be?"ring-4 ring-red-500 animate-pulse":""}
                  `,style:{left:`${Te.x/6*100}%`,top:`${Te.y/6*100}%`},children:ye&&l.jsx("div",{className:`w-6 h-6 md:w-8 md:h-8 rounded-full border-3 shadow-lg ${ye==="white"?"bg-gradient-to-br from-gray-100 to-gray-300 border-gray-400":"bg-gradient-to-br from-gray-700 to-gray-900 border-gray-950"}`})},Ee)})]}),l.jsxs("div",{className:"flex gap-4 mt-6 justify-center flex-wrap",children:[l.jsxs("button",{onClick:ue,className:"flex items-center gap-2 px-5 py-3 bg-[#06FFA5] hover:bg-emerald-400 text-[var(--color-text)] font-black uppercase rounded-lg transition-all hover:scale-105",style:{boxShadow:"0 4px 12px rgba(6,255,165,0.4)"},children:[l.jsx(iu,{size:20}),"HINWEIS"]}),!ae&&l.jsxs("button",{onClick:st,className:"flex items-center gap-2 px-5 py-3 bg-gray-600 hover:bg-gray-500 text-white font-black uppercase rounded-lg transition-all hover:scale-105",style:{boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:[l.jsx(Ag,{size:20}),"NEUSTART"]})]})]}),J&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-[var(--color-bg)] p-6 max-w-md w-full border-4 border-[var(--color-border)]",style:{boxShadow:"10px 10px 0px #000"},children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx("div",{className:"p-3 bg-[#D97706] border-3 border-[var(--color-border)]",style:{boxShadow:"3px 3px 0px #000"},children:l.jsx(FS,{size:28,className:"text-white"})}),l.jsx("h2",{className:"text-3xl font-black uppercase text-[var(--color-text)]",children:"MHLE"})]}),l.jsxs("div",{className:"bg-[var(--color-surface)] p-4 border-3 border-[var(--color-border)] mb-4",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsx("h3",{className:"font-black text-sm mb-2 text-[var(--color-text)] uppercase",children:"Spielregeln"}),l.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[l.jsx("li",{children:" Jeder Spieler hat 9 Steine"}),l.jsx("li",{children:" 3 Steine in einer Reihe = Mhle"}),l.jsx("li",{children:" Bei Mhle: Gegnerstein entfernen"}),l.jsx("li",{children:" Gewonnen bei <3 Gegnersteinen"})]})]}),l.jsxs("div",{className:"flex gap-3 mb-4",children:[l.jsxs("div",{className:"flex-1 bg-gray-100 p-3 border-3 border-[var(--color-border)] text-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-300 border-3 border-gray-400 mx-auto mb-2"}),l.jsx("span",{className:"text-xs font-black text-[var(--color-text)]",children:"DU (WEISS)"})]}),l.jsxs("div",{className:"flex-1 bg-gray-200 p-3 border-3 border-[var(--color-border)] text-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-600 to-gray-800 border-3 border-gray-900 mx-auto mb-2"}),l.jsx("span",{className:"text-xs font-black text-[var(--color-text)]",children:"KI (SCHWARZ)"})]})]}),!ae&&l.jsx("div",{className:"text-center mb-4",children:l.jsxs("span",{className:"bg-[#8338EC] text-white px-4 py-2 border-3 border-[var(--color-border)] font-black",style:{boxShadow:"3px 3px 0px #000"},children:["LEVEL ",h]})}),l.jsxs("button",{onClick:()=>we(!1),className:"w-full py-4 bg-[#06FFA5] hover:bg-emerald-300 text-[var(--color-text)] font-black uppercase text-xl border-4 border-[var(--color-border)] transition-all flex items-center justify-center gap-3",style:{boxShadow:"6px 6px 0px #000"},children:[l.jsx(Xr,{size:28}),"SPIEL STARTEN"]})]})}),K!=="playing"&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-[var(--color-bg)] p-6 max-w-md w-full border-4 border-[var(--color-border)]",style:{boxShadow:"10px 10px 0px #000"},children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center border-4 border-[var(--color-border)] ${K==="won"?"bg-[#06FFA5]":"bg-red-400"}`,children:l.jsx(Ya,{size:40,className:K==="won"?"text-[var(--color-text)]":"text-white"})}),l.jsx("h2",{className:"text-3xl font-black uppercase mb-2 text-[var(--color-text)]",children:K==="won"?"GEWONNEN!":"VERLOREN!"}),l.jsx("div",{className:"bg-[var(--color-surface)] p-3 border-3 border-[var(--color-border)] mb-4 inline-block",style:{boxShadow:"3px 3px 0px #000"},children:l.jsx("p",{className:"text-[var(--color-text)] font-bold",children:K==="won"?`+${50+h*5} XP, +${20+h*2} Mnzen`:"+10 XP, +5 Mnzen"})}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("button",{onClick:i,className:"px-6 py-3 bg-[var(--color-surface)] hover:bg-gray-100 text-[var(--color-text)] font-black uppercase border-3 border-[var(--color-border)]",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:"MEN"}),!ae&&l.jsx("button",{onClick:st,className:"px-6 py-3 bg-[#06FFA5] hover:bg-emerald-300 text-[var(--color-text)] font-black uppercase border-3 border-[var(--color-border)]",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:"NOCHMAL"})]})]})})}),W&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-[var(--color-surface)] p-6 border-4 border-[var(--color-border)] max-w-sm w-full",style:{boxShadow:"8px 8px 0px var(--color-border)"},children:[l.jsx("h3",{className:"text-xl font-black uppercase mb-4 text-[var(--color-text)] text-center",children:"HINWEIS FREISCHALTEN"}),l.jsxs("div",{className:"w-full h-40 bg-black flex items-center justify-center relative overflow-hidden border-4 border-[var(--color-border)] mb-4",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsx("img",{src:Tf,alt:"Ad",className:"w-full h-full object-cover opacity-50"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"text-5xl font-black font-mono text-white drop-shadow-[4px_4px_0px_#000]",children:k>0?`${k}s`:"FERTIG"})}),l.jsx("div",{className:"absolute top-2 right-2 bg-[#FF006E] px-2 py-1 text-[10px] font-black text-white border-2 border-[var(--color-border)]",children:"AD"})]}),he>0&&l.jsx("div",{className:"text-center mb-3",children:l.jsxs("span",{className:"bg-[#FF006E] text-white px-3 py-1 text-xs font-black border-2 border-[var(--color-border)]",children:["+",he,"s Wartezeit"]})}),k>0&&l.jsxs("button",{onClick:()=>{const Te=30+he*2;e.coins>=Te&&H(0)},className:"w-full py-3 mb-2 font-black uppercase text-sm flex items-center justify-center gap-2 bg-[#FFBE0B] text-[var(--color-text)] border-3 border-[var(--color-border)]",style:{boxShadow:"4px 4px 0px var(--color-border)",opacity:e.coins>=30+he*2?1:.5},children:[l.jsx(ws,{size:16})," SKIP (",30+he*2," Coins)"]}),l.jsx("button",{disabled:k>0,onClick:Ce,className:"w-full py-3 font-black uppercase text-sm border-3 border-[var(--color-border)]",style:{background:k>0?"#E5E5E5":"#06FFA5",color:k>0?"#999":"#000",boxShadow:k>0?"none":"4px 4px 0px #000",cursor:k>0?"not-allowed":"pointer"},children:k>0?"BITTE WARTEN...":"HINWEIS ANSEHEN"})]})})]})},Qc=["hearts","diamonds","clubs","spades"],ih={hearts:"",diamonds:"",clubs:"",spades:""},l6={hearts:"text-red-500",diamonds:"text-red-500",clubs:"text-[var(--color-text)]",spades:"text-[var(--color-text)]"},fT={1:"A",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"J",12:"Q",13:"K"},c6=()=>{const t=[];for(const e of Qc)for(let n=1;n<=13;n++)t.push({suit:e,value:n,id:`${e}-${n}`});for(const e of Qc)for(let n=1;n<=13;n++)t.push({suit:e,value:n,id:`${e}-${n}-2`});return t},pT=t=>{const e=[...t];for(let n=e.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[e[n],e[i]]=[e[i],e[n]]}return e},u6=t=>{if(t.length<3||t.length>4)return!1;const e=t[0].value,n=new Set(t.map(i=>i.suit));return t.every(i=>i.value===e)&&n.size===t.length},d6=t=>{if(t.length<3)return!1;const e=t[0].suit;if(!t.every(i=>i.suit===e))return!1;const n=t.map(i=>i.value).sort((i,o)=>i-o);for(let i=1;i<n.length;i++)if(n[i]!==n[i-1]+1)return!1;return!0},s0=t=>u6(t)?{valid:!0,type:"set"}:d6(t)?{valid:!0,type:"run"}:{valid:!1,type:null},mT=t=>t.value===1?11:t.value>=10?10:t.value,h6=t=>t<=15?1:t<=40?2:t<=75?3:4,f6=({language:t,user:e,onGameEnd:n,onBack:i,multiplayerGameId:o,opponentName:c,isHost:d=!0,levelId:h=1})=>{const[f,p]=_.useState([]),[E,y]=_.useState([]),[b,T]=_.useState([]),[N,R]=_.useState([]),[I,O]=_.useState([]),[$,U]=_.useState([]),[K,ne]=_.useState(new Set),[P,Z]=_.useState("player"),[J,we]=_.useState("draw"),[De,ve]=_.useState("playing"),[he,qe]=_.useState(!0),[W,Y]=_.useState(new Set),[k,H]=_.useState(0),[ae,Se]=_.useState(!1),[ge,w]=_.useState(5),[q,L]=_.useState(""),se=!!o,Le=h6(h);_.useEffect(()=>{he||xe()},[he]);const xe=()=>{const be=pT(c6()),ke=be.splice(0,13),fe=be.splice(0,13),Me=be.splice(0,1);p(be),T(Ae(ke)),R(fe),y(Me),O([]),U([]),ne(new Set),Z("player"),we("draw"),ve("playing"),L("Ziehe eine Karte vom Stapel oder Ablagestapel")},Ae=be=>[...be].sort((ke,fe)=>ke.suit!==fe.suit?Qc.indexOf(ke.suit)-Qc.indexOf(fe.suit):ke.value-fe.value);_.useEffect(()=>{if(!se||!o)return;const be=At(Rt,`games/${o}`);return oa(be,ke=>{if(ke.exists()){const fe=ke.val();if(fe.deck&&p(fe.deck),fe.discardPile&&y(fe.discardPile),d?(fe.hostHand&&T(fe.hostHand),fe.guestHand&&R(fe.guestHand),fe.hostMelds&&O(fe.hostMelds.map(Me=>({cards:Me,type:"set"}))),fe.guestMelds&&U(fe.guestMelds.map(Me=>({cards:Me,type:"set"})))):(fe.guestHand&&T(fe.guestHand),fe.hostHand&&R(fe.hostHand),fe.guestMelds&&O(fe.guestMelds.map(Me=>({cards:Me,type:"set"}))),fe.hostMelds&&U(fe.hostMelds.map(Me=>({cards:Me,type:"set"})))),fe.currentPlayer){const Me=d&&fe.currentPlayer==="host"||!d&&fe.currentPlayer==="guest";Z(Me?"player":"ai")}if(fe.phase&&we(fe.phase),fe.status==="finished"&&fe.winner){const Me=d&&fe.winner==="host"||!d&&fe.winner==="guest";ve(Me?"won":"lost")}}}),()=>Ja(be)},[se,o,d]);const Ge=_.useCallback(()=>{!se||!o||Xt(async()=>{const{update:be}=await Promise.resolve().then(()=>Pc);return{update:be}},void 0,import.meta.url).then(({update:be})=>{const ke=At(Rt,`games/${o}`),fe={deck:f,discardPile:E,currentPlayer:P==="player"?d?"host":"guest":d?"guest":"host",phase:J,lastActivity:Date.now()};d?(fe.hostHand=b,fe.hostMelds=I.map(Me=>Me.cards)):(fe.guestHand=b,fe.guestMelds=I.map(Me=>Me.cards)),be(ke,fe)})},[se,o,f,E,b,I,P,J,d]);_.useEffect(()=>{if(se||De!=="playing"||he||P!=="ai")return;const be=setTimeout(()=>{ue()},1e3);return()=>clearTimeout(be)},[P,J,De,he,se]);const ue=()=>{if(J==="draw"){const be=E[E.length-1];let ke=!1;if(be&&Le>=2){const fe=[...N,be];for(let Me=0;Me<fe.length-2;Me++){for(let xt=Me+1;xt<fe.length-1;xt++){for(let $e=xt+1;$e<fe.length;$e++){const mt=[fe[Me],fe[xt],fe[$e]];if(mt.some(vt=>vt.id===be.id)&&s0(mt).valid){ke=!0;break}}if(ke)break}if(ke)break}}if(ke&&be){const fe=[...E];fe.pop(),y(fe),R(Me=>[...Me,be])}else if(f.length>0){const fe=[...f],Me=fe.pop();p(fe),R(xt=>[...xt,Me])}we("play"),setTimeout(()=>{Ce()},800)}},Ce=()=>{const be=[...N],ke=[],fe=new Set;for(let xt=1;xt<=13;xt++){const $e=be.filter((mt,vt)=>mt.value===xt&&!fe.has(vt));if($e.length>=3){const mt=$e.slice(0,Math.min(4,$e.length));ke.push({cards:mt,type:"set"}),mt.forEach(vt=>{const ns=be.findIndex((Zs,hr)=>Zs.id===vt.id&&!fe.has(hr));ns!==-1&&fe.add(ns)})}}for(const xt of Qc){const $e=be.filter((vt,ns)=>vt.suit===xt&&!fe.has(ns)).sort((vt,ns)=>vt.value-ns.value);let mt=0;for(let vt=1;vt<=$e.length;vt++)if(vt===$e.length||$e[vt].value!==$e[vt-1].value+1){if(vt-mt>=3){const Zs=$e.slice(mt,vt);ke.push({cards:Zs,type:"run"}),Zs.forEach(hr=>{const ha=be.findIndex((pi,An)=>pi.id===hr.id&&!fe.has(An));ha!==-1&&fe.add(ha)})}mt=vt}}if(ke.length>0){U(mt=>[...mt,...ke]);const xt=new Set(ke.flatMap(mt=>mt.cards.map(vt=>vt.id))),$e=be.filter(mt=>!xt.has(mt.id));if(R($e),$e.length===0){ve("lost"),n(10,5);return}}const Me=N.filter((xt,$e)=>!fe.has($e));if(Me.length>0){const xt=Me.reduce(($e,mt)=>mT(mt)>mT($e)?mt:$e,Me[0]);R($e=>$e.filter(mt=>mt.id!==xt.id)),y($e=>[...$e,xt])}Z("player"),we("draw"),L("Dein Zug! Ziehe eine Karte.")},st=()=>{if(P!=="player"||J!=="draw")return;if(f.length===0){if(E.length>1){const fe=E[E.length-1],Me=pT(E.slice(0,-1));p(Me),y([fe])}return}const be=[...f],ke=be.pop();p(be),T(fe=>Ae([...fe,ke])),we("play"),L("Lege Karten ab oder wirf eine Karte weg."),se&&setTimeout(Ge,100)},it=()=>{if(P!=="player"||J!=="draw"||E.length===0)return;const be=[...E],ke=be.pop();y(be),T(fe=>Ae([...fe,ke])),we("play"),L("Lege Karten ab oder wirf eine Karte weg."),se&&setTimeout(Ge,100)},Te=be=>{P!=="player"||J!=="play"||ne(ke=>{const fe=new Set(ke);return fe.has(be)?fe.delete(be):fe.add(be),fe})},Ee=()=>{if(K.size<3){L("Mindestens 3 Karten fr eine Kombination!");return}const be=b.filter(fe=>K.has(fe.id)),ke=s0(be);if(ke.valid&&ke.type){if(O(Me=>[...Me,{cards:be,type:ke.type}]),T(Me=>Me.filter(xt=>!K.has(xt.id))),ne(new Set),b.filter(Me=>!K.has(Me.id)).length===0){ve("won"),n(50+h*5,20+h*2);return}L("Kombination gelegt! Weiter oder Karte abwerfen."),se&&setTimeout(Ge,100)}else L("Ungltige Kombination! Braucht 3+ gleiche oder Reihenfolge.")},ye=be=>{if(P!=="player"||J!=="play")return;const ke=b.find(fe=>fe.id===be);ke&&(T(fe=>fe.filter(Me=>Me.id!==be)),y(fe=>[...fe,ke]),ne(new Set),b.length,se?(Z("ai"),we("draw"),L(`${c||"Gegner"} ist am Zug...`),setTimeout(Ge,100)):(Z("ai"),we("draw"),L("KI ist am Zug...")))},ie=()=>{w(5+k),Se(!0)};_.useEffect(()=>{if(!ae||ge<=0)return;const be=setTimeout(()=>w(ke=>ke-1),1e3);return()=>clearTimeout(be)},[ae,ge]);const Fe=()=>{const be=new Set;for(let ke=0;ke<b.length-2;ke++)for(let fe=ke+1;fe<b.length-1;fe++)for(let Me=fe+1;Me<b.length;Me++){const xt=[b[ke],b[fe],b[Me]];s0(xt).valid&&xt.forEach($e=>be.add($e.id))}be.size>0?(Y(be),setTimeout(()=>Y(new Set),3e3)):L("Keine Kombination gefunden. Ziehe weiter Karten!"),H(ke=>ke+5),Se(!1)},We="#059669",ot=(be,ke,fe,Me)=>{const $e=be.suit==="hearts"||be.suit==="diamonds"?"#DC2626":"#1F2937";return l.jsxs("div",{onClick:ke,className:`relative cursor-pointer transition-all duration-200 select-none
          ${fe?"-translate-y-4 scale-110":"hover:-translate-y-1 hover:scale-102"}
        `,style:{width:"70px",height:"98px",background:Me?"linear-gradient(145deg, #D1FAE5 0%, #A7F3D0 100%)":"linear-gradient(145deg, #FFFFFF 0%, #F8F8F8 100%)",borderRadius:"10px",border:fe?"4px solid #FFBE0B":Me?"4px solid #06FFA5":"2px solid #CCC",boxShadow:fe?"0 12px 28px rgba(255,190,11,0.5), 0 6px 12px rgba(0,0,0,0.2)":Me?"0 12px 28px rgba(6,255,165,0.6), 0 6px 12px rgba(0,0,0,0.2), 0 0 20px rgba(6,255,165,0.4)":"0 2px 6px rgba(0,0,0,0.15), 0 4px 12px rgba(0,0,0,0.1)",animation:Me?"pulse 1s ease-in-out infinite":"none"},children:[Me&&l.jsx("div",{className:"absolute inset-0 rounded-lg animate-ping",style:{background:"rgba(6,255,165,0.3)"}}),l.jsxs("div",{className:"absolute top-1.5 left-2 flex flex-col items-center leading-none",children:[l.jsx("span",{style:{color:$e,fontSize:"16px",fontWeight:800,fontFamily:"Georgia, serif"},children:fT[be.value]}),l.jsx("span",{style:{color:$e,fontSize:"14px",marginTop:"-2px"},children:ih[be.suit]})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("span",{style:{color:$e,fontSize:"32px"},children:ih[be.suit]})}),l.jsxs("div",{className:"absolute bottom-1.5 right-2 flex flex-col items-center leading-none rotate-180",children:[l.jsx("span",{style:{color:$e,fontSize:"16px",fontWeight:800,fontFamily:"Georgia, serif"},children:fT[be.value]}),l.jsx("span",{style:{color:$e,fontSize:"14px",marginTop:"-2px"},children:ih[be.suit]})]}),l.jsx("div",{className:"absolute inset-1 pointer-events-none",style:{border:"1px solid rgba(0,0,0,0.05)",borderRadius:"8px"}})]},be.id)},_t=()=>l.jsx("div",{style:{width:"70px",height:"98px",background:"linear-gradient(145deg, #1E40AF 0%, #1E3A8A 100%)",borderRadius:"8px",border:"2px solid #1E3A8A",boxShadow:"0 2px 4px rgba(0,0,0,0.2), 0 4px 8px rgba(0,0,0,0.1)",position:"relative",overflow:"hidden"},children:l.jsx("div",{className:"absolute inset-2 flex items-center justify-center",style:{background:`repeating-linear-gradient(
            45deg,
            transparent,
            transparent 4px,
            rgba(255,255,255,0.1) 4px,
            rgba(255,255,255,0.1) 8px
          )`,borderRadius:"4px",border:"2px solid rgba(255,255,255,0.2)"},children:l.jsx("div",{className:"w-8 h-8 flex items-center justify-center",style:{background:"rgba(255,255,255,0.15)",borderRadius:"50%",border:"2px solid rgba(255,255,255,0.3)"},children:l.jsx("span",{className:"text-white/60 text-lg font-black",children:"L"})})})});return l.jsxs("div",{className:"min-h-screen p-4 geo-pattern",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:i,className:"p-3 border-3 border-[var(--color-border)] transition-all hover:-translate-y-1 hover:scale-105",style:{background:We,boxShadow:"4px 4px 0px var(--color-border)"},children:l.jsx(vn,{size:24,className:"text-white"})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 bg-[#FFBE0B] px-4 py-2 border-3 border-[var(--color-border)] font-black",style:{boxShadow:"3px 3px 0px #000"},children:[l.jsx(Rs,{size:20,className:"text-[var(--color-text)]"}),l.jsx("span",{className:"text-[var(--color-text)] text-lg",children:e.coins})]}),!se&&l.jsxs("div",{className:"px-4 py-2 border-3 border-[var(--color-border)] font-black text-white",style:{background:"#8338EC",boxShadow:"3px 3px 0px #000"},children:["LEVEL ",h]})]})]}),q&&l.jsx("div",{className:"text-center mb-4",children:l.jsx("span",{className:"bg-[#059669] text-white px-5 py-3 border-3 border-[var(--color-border)] text-sm font-black",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:q})}),l.jsxs("div",{className:"max-w-4xl mx-auto p-5 md:p-8 mt-4",style:{background:"var(--color-bg)",border:"6px solid transparent",backgroundImage:"linear-gradient(var(--color-bg), var(--color-bg)), linear-gradient(90deg, #FF006E 0%, #FF7F00 16.66%, #FFBE0B 33.33%, #06FFA5 50%, #0096FF 66.66%, #8338EC 83.33%, #FF006E 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",boxShadow:"8px 8px 0px var(--color-border)"},children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 mb-6 border-4 border-[var(--color-border)]",style:{background:We},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-black text-white uppercase text-lg",children:"ROMM"})]}),l.jsx("div",{className:`px-4 py-2 font-black text-sm uppercase border-2 border-[var(--color-border)] ${P==="player"?"bg-[#06FFA5] text-[var(--color-text)]":"bg-[var(--color-surface)] text-[var(--color-text)]"}`,children:P==="player"?"DEIN ZUG":se?c==null?void 0:c.toUpperCase():"KI DENKT"})]}),l.jsxs("div",{className:"mb-6 p-4 border-3 border-[var(--color-border)]",style:{background:"#E5E5E5",boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("span",{className:"font-black uppercase text-sm text-[var(--color-text)]",children:[se?c:" KI"," (",N.length," Karten)"]}),P==="ai"&&l.jsx("span",{className:"text-[#FF006E] animate-pulse font-black",children:" Denkt..."})]}),l.jsx("div",{className:"flex gap-1 flex-wrap justify-center",children:N.map((be,ke)=>l.jsx("div",{style:{marginLeft:ke>0?"-25px":"0"},children:_t()},ke))}),$.length>0&&l.jsx("div",{className:"mt-3 flex gap-3 flex-wrap justify-center",children:$.map((be,ke)=>l.jsx("div",{className:"flex -space-x-4 p-2 rounded-lg",style:{background:"rgba(255,255,255,0.1)"},children:be.cards.map((fe,Me)=>l.jsx("div",{style:{marginLeft:Me>0?"-20px":"0",transform:"scale(0.75)"},children:ot(fe)},fe.id))},ke))})]}),l.jsxs("div",{className:"flex justify-center gap-12 items-center py-6",children:[l.jsxs("div",{className:"text-center relative",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-1 left-1 opacity-60",children:_t()}),l.jsx("div",{className:"absolute top-0.5 left-0.5 opacity-80",children:_t()}),l.jsx("div",{onClick:st,className:`relative cursor-pointer transition-all duration-200 ${P==="player"&&J==="draw"?"hover:scale-105 hover:-translate-y-1":"opacity-50"}`,children:_t()})]}),l.jsxs("span",{className:"text-white/80 text-xs mt-2 block font-bold",children:["Stapel (",f.length,")"]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{onClick:it,className:`cursor-pointer transition-all duration-200 ${P==="player"&&J==="draw"&&E.length>0?"hover:scale-105 hover:-translate-y-1":""}`,children:E.length>0?ot(E[E.length-1]):l.jsx("div",{style:{width:"60px",height:"84px",border:"2px dashed rgba(255,255,255,0.3)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.4)",fontSize:"10px"},children:"Leer"})}),l.jsx("span",{className:"text-white/80 text-xs mt-2 block font-bold",children:"Ablage"})]})]}),I.length>0&&l.jsxs("div",{className:"mb-4 p-3 rounded-xl",style:{background:"rgba(255,255,255,0.1)"},children:[l.jsx("span",{className:"text-xs font-black uppercase mb-3 block text-white/90",children:" Deine Kombinationen:"}),l.jsx("div",{className:"flex gap-4 flex-wrap justify-center",children:I.map((be,ke)=>l.jsx("div",{className:"flex -space-x-3 p-2 rounded-lg",style:{background:"rgba(255,255,255,0.1)"},children:be.cards.map((fe,Me)=>l.jsx("div",{style:{marginLeft:Me>0?"-15px":"0"},children:ot(fe)},fe.id))},ke))})]}),l.jsxs("div",{className:"p-4 rounded-xl",style:{background:"rgba(0,0,0,0.25)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("span",{className:"font-black uppercase text-sm text-white/90",children:[" Deine Karten (",b.length,")"]}),P==="player"&&l.jsx("span",{className:`px-4 py-2 text-xs font-black rounded-lg ${J==="draw"?"bg-blue-500 text-white":"bg-yellow-400 text-[var(--color-text)]"}`,style:{boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:J==="draw"?" KARTE ZIEHEN":" KARTE ABLEGEN"})]}),l.jsx("div",{className:"flex justify-center items-end py-4",style:{minHeight:"120px"},children:b.map((be,ke)=>{const Me=(b.length-1)/2,xt=ke-Me,$e=xt*3,mt=Math.abs(xt)*3;return l.jsx("div",{onClick:()=>J==="play"&&Te(be.id),style:{marginLeft:ke>0?"-20px":"0",transform:`rotate(${$e}deg) translateY(${mt}px)`,transformOrigin:"bottom center",zIndex:K.has(be.id)?100:ke},children:ot(be,void 0,K.has(be.id),W.has(be.id))},be.id)})}),J==="play"&&P==="player"&&l.jsxs("div",{className:"flex gap-3 mt-4 justify-center flex-wrap",children:[K.size>=3&&l.jsxs("button",{onClick:Ee,className:"flex items-center gap-2 px-5 py-3 bg-emerald-500 hover:bg-emerald-400 text-white font-black uppercase rounded-lg transition-all hover:scale-105",style:{boxShadow:"0 4px 12px rgba(16,185,129,0.4)"},children:[l.jsx(Xn,{size:18}),"KOMBINATION LEGEN"]}),K.size===1&&l.jsxs("button",{onClick:()=>ye(Array.from(K)[0]),className:"flex items-center gap-2 px-5 py-3 bg-red-500 hover:bg-red-400 text-white font-black uppercase rounded-lg transition-all hover:scale-105",style:{boxShadow:"0 4px 12px rgba(239,68,68,0.4)"},children:[l.jsx(Al,{size:18}),"ABWERFEN"]}),l.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-5 py-3 bg-amber-400 hover:bg-amber-300 text-[var(--color-text)] font-black uppercase rounded-lg transition-all hover:scale-105",style:{boxShadow:"0 4px 12px rgba(251,191,36,0.4)"},children:[l.jsx(iu,{size:18}),"HINWEIS"]})]})]})]}),he&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-[var(--color-bg)] p-6 max-w-md w-full border-4 border-[var(--color-border)]",style:{boxShadow:"10px 10px 0px #000"},children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx("div",{className:"p-3 bg-[#059669] border-3 border-[var(--color-border)]",style:{boxShadow:"3px 3px 0px #000"},children:l.jsx(Cn,{size:28,className:"text-white"})}),l.jsx("h2",{className:"text-3xl font-black uppercase text-[var(--color-text)]",children:"ROMM"})]}),l.jsxs("div",{className:"bg-[var(--color-surface)] p-4 border-3 border-[var(--color-border)] mb-4",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsx("h3",{className:"font-black text-sm mb-2 text-[var(--color-text)] uppercase",children:"Spielregeln"}),l.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[l.jsx("li",{children:" Ziehe vom Stapel oder Ablage"}),l.jsx("li",{children:" Bilde 3+ Karten Kombinationen"}),l.jsx("li",{children:" Wirf eine Karte ab"}),l.jsx("li",{children:" Ziel: Alle Karten ablegen!"})]})]}),l.jsx("div",{className:"flex gap-3 mb-4 justify-center bg-[var(--color-surface)] p-3 border-3 border-[var(--color-border)]",children:["hearts","diamonds","clubs","spades"].map(be=>l.jsx("span",{className:`text-3xl ${l6[be]}`,children:ih[be]},be))}),!se&&l.jsx("div",{className:"text-center mb-4",children:l.jsxs("span",{className:"bg-[#8338EC] text-white px-4 py-2 border-3 border-[var(--color-border)] font-black",style:{boxShadow:"3px 3px 0px #000"},children:["LEVEL ",h]})}),l.jsxs("button",{onClick:()=>qe(!1),className:"w-full py-4 bg-[#06FFA5] hover:bg-emerald-300 text-[var(--color-text)] font-black uppercase text-xl border-4 border-[var(--color-border)] transition-all flex items-center justify-center gap-3",style:{boxShadow:"6px 6px 0px #000"},children:[l.jsx(Xr,{size:28}),"SPIEL STARTEN"]})]})}),De!=="playing"&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-[var(--color-bg)] p-6 max-w-md w-full border-4 border-[var(--color-border)]",style:{boxShadow:"10px 10px 0px #000"},children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center border-4 border-[var(--color-border)] ${De==="won"?"bg-[#06FFA5]":"bg-red-400"}`,children:l.jsx(Ya,{size:40,className:De==="won"?"text-[var(--color-text)]":"text-white"})}),l.jsx("h2",{className:"text-3xl font-black uppercase mb-2 text-[var(--color-text)]",children:De==="won"?"GEWONNEN!":"VERLOREN!"}),l.jsx("div",{className:"bg-[var(--color-surface)] p-3 border-3 border-[var(--color-border)] mb-4 inline-block",style:{boxShadow:"3px 3px 0px #000"},children:l.jsx("p",{className:"text-[var(--color-text)] font-bold",children:De==="won"?`+${50+h*5} XP, +${20+h*2} Mnzen`:"+10 XP, +5 Mnzen"})}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("button",{onClick:i,className:"px-6 py-3 bg-[var(--color-surface)] hover:bg-gray-100 text-[var(--color-text)] font-black uppercase border-3 border-[var(--color-border)]",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:"MEN"}),!se&&l.jsx("button",{onClick:()=>{ve("playing"),qe(!1),xe()},className:"px-6 py-3 bg-[#06FFA5] hover:bg-emerald-300 text-[var(--color-text)] font-black uppercase border-3 border-[var(--color-border)]",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:"NOCHMAL"})]})]})})}),ae&&l.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-[var(--color-surface)] p-6 border-4 border-[var(--color-border)] max-w-sm w-full",style:{boxShadow:"8px 8px 0px var(--color-border)"},children:[l.jsx("h3",{className:"text-xl font-black uppercase mb-4 text-[var(--color-text)] text-center",children:"HINWEIS FREISCHALTEN"}),l.jsxs("div",{className:"w-full h-40 bg-black flex items-center justify-center relative overflow-hidden border-4 border-[var(--color-border)] mb-4",style:{boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsx("img",{src:Tf,alt:"Ad",className:"w-full h-full object-cover opacity-50"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"text-5xl font-black font-mono text-white drop-shadow-[4px_4px_0px_#000]",children:ge>0?`${ge}s`:"FERTIG"})}),l.jsx("div",{className:"absolute top-2 right-2 bg-[#FF006E] px-2 py-1 text-[10px] font-black text-white border-2 border-[var(--color-border)]",children:"AD"})]}),k>0&&l.jsx("div",{className:"text-center mb-3",children:l.jsxs("span",{className:"bg-[#FF006E] text-white px-3 py-1 text-xs font-black border-2 border-[var(--color-border)]",children:["+",k,"s Wartezeit"]})}),ge>0&&l.jsxs("button",{onClick:()=>{const be=30+k*2;e.coins>=be&&w(0)},className:"w-full py-3 mb-2 font-black uppercase text-sm flex items-center justify-center gap-2 bg-[#FFBE0B] text-[var(--color-text)] border-3 border-[var(--color-border)]",style:{boxShadow:"4px 4px 0px var(--color-border)",opacity:e.coins>=30+k*2?1:.5},children:[l.jsx(ws,{size:16})," SKIP (",30+k*2," Coins)"]}),l.jsx("button",{disabled:ge>0,onClick:Fe,className:"w-full py-3 font-black uppercase text-sm border-3 border-[var(--color-border)]",style:{background:ge>0?"#E5E5E5":"#06FFA5",color:ge>0?"#999":"#000",boxShadow:ge>0?"none":"4px 4px 0px #000",cursor:ge>0?"not-allowed":"pointer"},children:ge>0?"BITTE WARTEN...":"HINWEIS ANSEHEN"})]})})]})},vE=_.createContext({});function TE(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const SE=typeof window<"u",l_=SE?_.useLayoutEffect:_.useEffect,Sf=_.createContext(null);function AE(t,e){t.indexOf(e)===-1&&t.push(e)}function NE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ur=(t,e,n)=>n>e?e:n<t?t:n;let _E=()=>{};const dr={},c_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function u_(t){return typeof t=="object"&&t!==null}const d_=t=>/^0[^.\s]+$/u.test(t);function wE(t){let e;return()=>(e===void 0&&(e=t()),e)}const qs=t=>t,p6=(t,e)=>n=>e(t(n)),ku=(...t)=>t.reduce(p6),gu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class RE{constructor(){this.subscriptions=[]}add(e){return AE(this.subscriptions,e),()=>NE(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let c=0;c<o;c++){const d=this.subscriptions[c];d&&d(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ci=t=>t*1e3,Ys=t=>t/1e3;function h_(t,e){return e?t*(1e3/e):0}const f_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,m6=1e-7,g6=12;function E6(t,e,n,i,o){let c,d,h=0;do d=e+(n-e)/2,c=f_(d,i,o)-t,c>0?n=d:e=d;while(Math.abs(c)>m6&&++h<g6);return d}function ju(t,e,n,i){if(t===e&&n===i)return qs;const o=c=>E6(c,0,1,t,n);return c=>c===0||c===1?c:f_(o(c),e,i)}const p_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,m_=t=>e=>1-t(1-e),g_=ju(.33,1.53,.69,.99),CE=m_(g_),E_=p_(CE),x_=t=>(t*=2)<1?.5*CE(t):.5*(2-Math.pow(2,-10*(t-1))),IE=t=>1-Math.sin(Math.acos(t)),y_=m_(IE),b_=p_(IE),x6=ju(.42,0,1,1),y6=ju(0,0,.58,1),v_=ju(.42,0,.58,1),b6=t=>Array.isArray(t)&&typeof t[0]!="number",T_=t=>Array.isArray(t)&&typeof t[0]=="number",v6={linear:qs,easeIn:x6,easeInOut:v_,easeOut:y6,circIn:IE,circInOut:b_,circOut:y_,backIn:CE,backInOut:E_,backOut:g_,anticipate:x_},T6=t=>typeof t=="string",gT=t=>{if(T_(t)){_E(t.length===4);const[e,n,i,o]=t;return ju(e,n,i,o)}else if(T6(t))return v6[t];return t},rh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function S6(t,e){let n=new Set,i=new Set,o=!1,c=!1;const d=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(E){d.has(E)&&(p.schedule(E),t()),E(h)}const p={schedule:(E,y=!1,b=!1)=>{const N=b&&o?n:i;return y&&d.add(E),N.has(E)||N.add(E),E},cancel:E=>{i.delete(E),d.delete(E)},process:E=>{if(h=E,o){c=!0;return}o=!0,[n,i]=[i,n],n.forEach(f),n.clear(),o=!1,c&&(c=!1,p.process(E))}};return p}const A6=40;function S_(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,d=rh.reduce((U,K)=>(U[K]=S6(c),U),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:E,update:y,preRender:b,render:T,postRender:N}=d,R=()=>{const U=dr.useManualTiming?o.timestamp:performance.now();n=!1,dr.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(U-o.timestamp,A6),1)),o.timestamp=U,o.isProcessing=!0,h.process(o),f.process(o),p.process(o),E.process(o),y.process(o),b.process(o),T.process(o),N.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(R))},I=()=>{n=!0,i=!0,o.isProcessing||t(R)};return{schedule:rh.reduce((U,K)=>{const ne=d[K];return U[K]=(P,Z=!1,J=!1)=>(n||I(),ne.schedule(P,Z,J)),U},{}),cancel:U=>{for(let K=0;K<rh.length;K++)d[rh[K]].cancel(U)},state:o,steps:d}}const{schedule:Yt,cancel:la,state:Pn,steps:i0}=S_(typeof requestAnimationFrame<"u"?requestAnimationFrame:qs,!0);let xh;function N6(){xh=void 0}const hs={now:()=>(xh===void 0&&hs.set(Pn.isProcessing||dr.useManualTiming?Pn.timestamp:performance.now()),xh),set:t=>{xh=t,queueMicrotask(N6)}},A_=t=>e=>typeof e=="string"&&e.startsWith(t),ME=A_("--"),_6=A_("var(--"),DE=t=>_6(t)?w6.test(t.split("/*")[0].trim()):!1,w6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Eu={...kl,transform:t=>ur(0,1,t)},ah={...kl,default:1},Jc=t=>Math.round(t*1e5)/1e5,LE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R6(t){return t==null}const C6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,OE=(t,e)=>n=>!!(typeof n=="string"&&C6.test(n)&&n.startsWith(t)||e&&!R6(n)&&Object.prototype.hasOwnProperty.call(n,e)),N_=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,c,d,h]=i.match(LE);return{[t]:parseFloat(o),[e]:parseFloat(c),[n]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},I6=t=>ur(0,255,t),r0={...kl,transform:t=>Math.round(I6(t))},Ba={test:OE("rgb","red"),parse:N_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+r0.transform(t)+", "+r0.transform(e)+", "+r0.transform(n)+", "+Jc(Eu.transform(i))+")"};function M6(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const J0={test:OE("#"),parse:M6,transform:Ba.transform},Fu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vr=Fu("deg"),Ii=Fu("%"),Je=Fu("px"),D6=Fu("vh"),L6=Fu("vw"),ET={...Ii,parse:t=>Ii.parse(t)/100,transform:t=>Ii.transform(t*100)},el={test:OE("hsl","hue"),parse:N_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ii.transform(Jc(e))+", "+Ii.transform(Jc(n))+", "+Jc(Eu.transform(i))+")"},mn={test:t=>Ba.test(t)||J0.test(t)||el.test(t),parse:t=>Ba.test(t)?Ba.parse(t):el.test(t)?el.parse(t):J0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ba.transform(t):el.transform(t),getAnimatableNone:t=>{const e=mn.parse(t);return e.alpha=0,mn.transform(e)}},O6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function k6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(LE))==null?void 0:e.length)||0)+(((n=t.match(O6))==null?void 0:n.length)||0)>0}const __="number",w_="color",j6="var",F6="var(",xT="${}",P6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let c=0;const h=e.replace(P6,f=>(mn.test(f)?(i.color.push(c),o.push(w_),n.push(mn.parse(f))):f.startsWith(F6)?(i.var.push(c),o.push(j6),n.push(f)):(i.number.push(c),o.push(__),n.push(parseFloat(f))),++c,xT)).split(xT);return{values:n,split:h,indexes:i,types:o}}function R_(t){return xu(t).values}function C_(t){const{split:e,types:n}=xu(t),i=e.length;return o=>{let c="";for(let d=0;d<i;d++)if(c+=e[d],o[d]!==void 0){const h=n[d];h===__?c+=Jc(o[d]):h===w_?c+=mn.transform(o[d]):c+=o[d]}return c}}const U6=t=>typeof t=="number"?0:mn.test(t)?mn.getAnimatableNone(t):t;function H6(t){const e=R_(t);return C_(t)(e.map(U6))}const ca={test:k6,parse:R_,createTransformer:C_,getAnimatableNone:H6};function a0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B6({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,c=0,d=0;if(!e)o=c=d=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;o=a0(f,h,t+1/3),c=a0(f,h,t),d=a0(f,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:i}}function Zh(t,e){return n=>n>0?e:t}const Zt=(t,e,n)=>t+(e-t)*n,o0=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},G6=[J0,Ba,el],z6=t=>G6.find(e=>e.test(t));function yT(t){const e=z6(t);if(!e)return!1;let n=e.parse(t);return e===el&&(n=B6(n)),n}const bT=(t,e)=>{const n=yT(t),i=yT(e);if(!n||!i)return Zh(t,e);const o={...n};return c=>(o.red=o0(n.red,i.red,c),o.green=o0(n.green,i.green,c),o.blue=o0(n.blue,i.blue,c),o.alpha=Zt(n.alpha,i.alpha,c),Ba.transform(o))},eg=new Set(["none","hidden"]);function V6(t,e){return eg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function K6(t,e){return n=>Zt(t,e,n)}function kE(t){return typeof t=="number"?K6:typeof t=="string"?DE(t)?Zh:mn.test(t)?bT:q6:Array.isArray(t)?I_:typeof t=="object"?mn.test(t)?bT:W6:Zh}function I_(t,e){const n=[...t],i=n.length,o=t.map((c,d)=>kE(c)(c,e[d]));return c=>{for(let d=0;d<i;d++)n[d]=o[d](c);return n}}function W6(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=kE(t[o])(t[o],e[o]));return o=>{for(const c in i)n[c]=i[c](o);return n}}function Y6(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],d=t.indexes[c][i[c]],h=t.values[d]??0;n[o]=h,i[c]++}return n}const q6=(t,e)=>{const n=ca.createTransformer(e),i=xu(t),o=xu(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?eg.has(t)&&!o.values.length||eg.has(e)&&!i.values.length?V6(t,e):ku(I_(Y6(i,o),o.values),n):Zh(t,e)};function M_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Zt(t,e,n):kE(t)(t,e)}const $6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Yt.update(e,n),stop:()=>la(e),now:()=>Pn.isProcessing?Pn.timestamp:hs.now()}},D_=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let c=0;c<o;c++)i+=Math.round(t(c/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Qh=2e4;function jE(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Qh;)e+=n,i=t.next(e);return e>=Qh?1/0:e}function X6(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(jE(i),Qh);return{type:"keyframes",ease:c=>i.next(o*c).value/e,duration:Ys(o)}}const Z6=5;function L_(t,e,n){const i=Math.max(e-Z6,0);return h_(n-t(i),e-i)}const tn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},l0=.001;function Q6({duration:t=tn.duration,bounce:e=tn.bounce,velocity:n=tn.velocity,mass:i=tn.mass}){let o,c,d=1-e;d=ur(tn.minDamping,tn.maxDamping,d),t=ur(tn.minDuration,tn.maxDuration,Ys(t)),d<1?(o=p=>{const E=p*d,y=E*t,b=E-n,T=tg(p,d),N=Math.exp(-y);return l0-b/T*N},c=p=>{const y=p*d*t,b=y*n+n,T=Math.pow(d,2)*Math.pow(p,2)*t,N=Math.exp(-y),R=tg(Math.pow(p,2),d);return(-o(p)+l0>0?-1:1)*((b-T)*N)/R}):(o=p=>{const E=Math.exp(-p*t),y=(p-n)*t+1;return-l0+E*y},c=p=>{const E=Math.exp(-p*t),y=(n-p)*(t*t);return E*y});const h=5/t,f=e5(o,c,h);if(t=Ci(t),isNaN(f))return{stiffness:tn.stiffness,damping:tn.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:d*2*Math.sqrt(i*p),duration:t}}}const J6=12;function e5(t,e,n){let i=n;for(let o=1;o<J6;o++)i=i-t(i)/e(i);return i}function tg(t,e){return t*Math.sqrt(1-e*e)}const t5=["duration","bounce"],n5=["stiffness","damping","mass"];function vT(t,e){return e.some(n=>t[n]!==void 0)}function s5(t){let e={velocity:tn.velocity,stiffness:tn.stiffness,damping:tn.damping,mass:tn.mass,isResolvedFromDuration:!1,...t};if(!vT(t,n5)&&vT(t,t5))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,c=2*ur(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:tn.mass,stiffness:o,damping:c}}else{const n=Q6(t);e={...e,...n,mass:tn.mass},e.isResolvedFromDuration=!0}return e}function Jh(t=tn.visualDuration,e=tn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const c=n.keyframes[0],d=n.keyframes[n.keyframes.length-1],h={done:!1,value:c},{stiffness:f,damping:p,mass:E,duration:y,velocity:b,isResolvedFromDuration:T}=s5({...n,velocity:-Ys(n.velocity||0)}),N=b||0,R=p/(2*Math.sqrt(f*E)),I=d-c,O=Ys(Math.sqrt(f/E)),$=Math.abs(I)<5;i||(i=$?tn.restSpeed.granular:tn.restSpeed.default),o||(o=$?tn.restDelta.granular:tn.restDelta.default);let U;if(R<1){const ne=tg(O,R);U=P=>{const Z=Math.exp(-R*O*P);return d-Z*((N+R*O*I)/ne*Math.sin(ne*P)+I*Math.cos(ne*P))}}else if(R===1)U=ne=>d-Math.exp(-O*ne)*(I+(N+O*I)*ne);else{const ne=O*Math.sqrt(R*R-1);U=P=>{const Z=Math.exp(-R*O*P),J=Math.min(ne*P,300);return d-Z*((N+R*O*I)*Math.sinh(J)+ne*I*Math.cosh(J))/ne}}const K={calculatedDuration:T&&y||null,next:ne=>{const P=U(ne);if(T)h.done=ne>=y;else{let Z=ne===0?N:0;R<1&&(Z=ne===0?Ci(N):L_(U,ne,P));const J=Math.abs(Z)<=i,we=Math.abs(d-P)<=o;h.done=J&&we}return h.value=h.done?d:P,h},toString:()=>{const ne=Math.min(jE(K),Qh),P=D_(Z=>K.next(ne*Z).value,ne,30);return ne+"ms "+P},toTransition:()=>{}};return K}Jh.applyToOptions=t=>{const e=X6(t,100,Jh);return t.ease=e.ease,t.duration=Ci(e.duration),t.type="keyframes",t};function ng({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:d,min:h,max:f,restDelta:p=.5,restSpeed:E}){const y=t[0],b={done:!1,value:y},T=J=>h!==void 0&&J<h||f!==void 0&&J>f,N=J=>h===void 0?f:f===void 0||Math.abs(h-J)<Math.abs(f-J)?h:f;let R=n*e;const I=y+R,O=d===void 0?I:d(I);O!==I&&(R=O-y);const $=J=>-R*Math.exp(-J/i),U=J=>O+$(J),K=J=>{const we=$(J),De=U(J);b.done=Math.abs(we)<=p,b.value=b.done?O:De};let ne,P;const Z=J=>{T(b.value)&&(ne=J,P=Jh({keyframes:[b.value,N(b.value)],velocity:L_(U,J,b.value),damping:o,stiffness:c,restDelta:p,restSpeed:E}))};return Z(0),{calculatedDuration:null,next:J=>{let we=!1;return!P&&ne===void 0&&(we=!0,K(J),Z(J)),ne!==void 0&&J>=ne?P.next(J-ne):(!we&&K(J),b)}}}function i5(t,e,n){const i=[],o=n||dr.mix||M_,c=t.length-1;for(let d=0;d<c;d++){let h=o(t[d],t[d+1]);if(e){const f=Array.isArray(e)?e[d]||qs:e;h=ku(f,h)}i.push(h)}return i}function r5(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const c=t.length;if(_E(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const d=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=i5(e,i,o),f=h.length,p=E=>{if(d&&E<t[0])return e[0];let y=0;if(f>1)for(;y<t.length-2&&!(E<t[y+1]);y++);const b=gu(t[y],t[y+1],E);return h[y](b)};return n?E=>p(ur(t[0],t[c-1],E)):p}function a5(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=gu(0,e,i);t.push(Zt(n,1,o))}}function o5(t){const e=[0];return a5(e,t.length-1),e}function l5(t,e){return t.map(n=>n*e)}function c5(t,e){return t.map(()=>e||v_).splice(0,t.length-1)}function eu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=b6(i)?i.map(gT):gT(i),c={done:!1,value:e[0]},d=l5(n&&n.length===e.length?n:o5(e),t),h=r5(d,e,{ease:Array.isArray(o)?o:c5(e,o)});return{calculatedDuration:t,next:f=>(c.value=h(f),c.done=f>=t,c)}}const u5=t=>t!==null;function FE(t,{repeat:e,repeatType:n="loop"},i,o=1){const c=t.filter(u5),h=o<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!h||i===void 0?c[h]:i}const d5={decay:ng,inertia:ng,tween:eu,keyframes:eu,spring:Jh};function O_(t){typeof t.type=="string"&&(t.type=d5[t.type])}class PE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const h5=t=>t/100;class UE extends PE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==hs.now()&&this.tick(hs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;O_(e);const{type:n=eu,repeat:i=0,repeatDelay:o=0,repeatType:c,velocity:d=0}=e;let{keyframes:h}=e;const f=n||eu;f!==eu&&typeof h[0]!="number"&&(this.mixKeyframes=ku(h5,M_(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-d})),p.calculatedDuration===null&&(p.calculatedDuration=jE(p));const{calculatedDuration:E}=p;this.calculatedDuration=E,this.resolvedDuration=E+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:c,mirroredGenerator:d,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:E,repeat:y,repeatType:b,repeatDelay:T,type:N,onUpdate:R,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?O<0:O>o;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let U=this.currentTime,K=i;if(y){const J=Math.min(this.currentTime,o)/h;let we=Math.floor(J),De=J%1;!De&&J>=1&&(De=1),De===1&&we--,we=Math.min(we,y+1),!!(we%2)&&(b==="reverse"?(De=1-De,T&&(De-=T/h)):b==="mirror"&&(K=d)),U=ur(0,1,De)*h}const ne=$?{done:!1,value:E[0]}:K.next(U);c&&(ne.value=c(ne.value));let{done:P}=ne;!$&&f!==null&&(P=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return Z&&N!==ng&&(ne.value=FE(E,this.options,I,this.speed)),R&&R(ne.value),Z&&this.finish(),ne}then(e,n){return this.finished.then(e,n)}get duration(){return Ys(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ys(e)}get time(){return Ys(this.currentTime)}set time(e){var n;e=Ci(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ys(this.currentTime))}play(){var o,c;if(this.isStopped)return;const{driver:e=$6,startTime:n}=this.options;this.driver||(this.driver=e(d=>this.tick(d))),(c=(o=this.options).onPlay)==null||c.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function f5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ga=t=>t*180/Math.PI,sg=t=>{const e=Ga(Math.atan2(t[1],t[0]));return ig(e)},p5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:sg,rotateZ:sg,skewX:t=>Ga(Math.atan(t[1])),skewY:t=>Ga(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ig=t=>(t=t%360,t<0&&(t+=360),t),TT=sg,ST=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),AT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),m5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ST,scaleY:AT,scale:t=>(ST(t)+AT(t))/2,rotateX:t=>ig(Ga(Math.atan2(t[6],t[5]))),rotateY:t=>ig(Ga(Math.atan2(-t[2],t[0]))),rotateZ:TT,rotate:TT,skewX:t=>Ga(Math.atan(t[4])),skewY:t=>Ga(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function rg(t){return t.includes("scale")?1:0}function ag(t,e){if(!t||t==="none")return rg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=m5,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=p5,o=h}if(!o)return rg(e);const c=i[e],d=o[1].split(",").map(E5);return typeof c=="function"?c(d):d[c]}const g5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ag(n,e)};function E5(t){return parseFloat(t.trim())}const jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fl=new Set(jl),NT=t=>t===kl||t===Je,x5=new Set(["x","y","z"]),y5=jl.filter(t=>!x5.has(t));function b5(t){const e=[];return y5.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ka={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ag(e,"x"),y:(t,{transform:e})=>ag(e,"y")};Ka.translateX=Ka.x;Ka.translateY=Ka.y;const Wa=new Set;let og=!1,lg=!1,cg=!1;function k_(){if(lg){const t=Array.from(Wa).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=b5(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([c,d])=>{var h;(h=i.getValue(c))==null||h.set(d)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}lg=!1,og=!1,Wa.forEach(t=>t.complete(cg)),Wa.clear()}function j_(){Wa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lg=!0)})}function v5(){cg=!0,j_(),k_(),cg=!1}class HE{constructor(e,n,i,o,c,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=c,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Wa.add(this),og||(og=!0,Yt.read(j_),Yt.resolveKeyframes(k_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const c=o==null?void 0:o.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&n){const h=i.readValue(n,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),o&&c===void 0&&o.set(e[0])}f5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wa.delete(this)}cancel(){this.state==="scheduled"&&(Wa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const T5=t=>t.startsWith("--");function S5(t,e,n){T5(e)?t.style.setProperty(e,n):t.style[e]=n}const A5=wE(()=>window.ScrollTimeline!==void 0),N5={};function _5(t,e){const n=wE(t);return()=>N5[e]??n()}const F_=_5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,_T={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bc([0,.65,.55,1]),circOut:Bc([.55,0,1,.45]),backIn:Bc([.31,.01,.66,-.59]),backOut:Bc([.33,1.53,.69,.99])};function P_(t,e){if(t)return typeof t=="function"?F_()?D_(t,e):"ease-out":T_(t)?Bc(t):Array.isArray(t)?t.map(n=>P_(n,e)||_T.easeOut):_T[t]}function w5(t,e,n,{delay:i=0,duration:o=300,repeat:c=0,repeatType:d="loop",ease:h="easeOut",times:f}={},p=void 0){const E={[e]:n};f&&(E.offset=f);const y=P_(h,o);Array.isArray(y)&&(E.easing=y);const b={delay:i,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(E,b)}function U_(t){return typeof t=="function"&&"applyToOptions"in t}function R5({type:t,...e}){return U_(t)&&F_()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class C5 extends PE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:c,allowFlatten:d=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!c,this.allowFlatten=d,this.options=e,_E(typeof e.type!="string");const p=R5(e);this.animation=w5(n,i,o,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const E=FE(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(E):S5(n,i,E),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Ys(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ys(e)}get time(){return Ys(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ci(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&A5()?(this.animation.timeline=e,qs):n(this)}}const H_={anticipate:x_,backInOut:E_,circInOut:b_};function I5(t){return t in H_}function M5(t){typeof t.ease=="string"&&I5(t.ease)&&(t.ease=H_[t.ease])}const wT=10;class D5 extends C5{constructor(e){M5(e),O_(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:c,...d}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new UE({...d,autoplay:!1}),f=Ci(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-wT).value,h.sample(f).value,wT),h.stop()}}const RT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ca.test(t)||t==="0")&&!t.startsWith("url("));function L5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function O5(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],d=RT(o,e),h=RT(c,e);return!d||!h?!1:L5(t)||(n==="spring"||U_(n))&&i}function ug(t){t.duration=0,t.type="keyframes"}const k5=new Set(["opacity","clipPath","filter","transform"]),j5=wE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function F5(t){var E;const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:c,type:d}=t;if(!(((E=e==null?void 0:e.owner)==null?void 0:E.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return j5()&&n&&k5.has(n)&&(n!=="transform"||!p)&&!f&&!i&&o!=="mirror"&&c!==0&&d!=="inertia"}const P5=40;class U5 extends PE{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:d="loop",keyframes:h,name:f,motionValue:p,element:E,...y}){var N;super(),this.stop=()=>{var R,I;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=hs.now();const b={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:c,repeatType:d,name:f,motionValue:p,element:E,...y},T=(E==null?void 0:E.KeyframeResolver)||HE;this.keyframeResolver=new T(h,(R,I,O)=>this.onKeyframesResolved(R,I,b,!O),f,p,E),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:c,type:d,velocity:h,delay:f,isHandoff:p,onUpdate:E}=i;this.resolvedAt=hs.now(),O5(e,c,d,h)||((dr.instantAnimations||!f)&&(E==null||E(FE(e,i,n))),e[0]=e[e.length-1],ug(i),i.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>P5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},T=!p&&F5(b)?new D5({...b,element:b.motionValue.owner.current}):new UE(b);T.finished.then(()=>this.notifyFinished()).catch(qs),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),v5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const H5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B5(t){const e=H5.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function B_(t,e,n=1){const[i,o]=B5(t);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const d=c.trim();return c_(d)?parseFloat(d):d}return DE(o)?B_(o,e,n+1):o}function BE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const G_=new Set(["width","height","top","left","right","bottom",...jl]),G5={test:t=>t==="auto",parse:t=>t},z_=t=>e=>e.test(t),V_=[kl,Je,Ii,Vr,L6,D6,G5],CT=t=>V_.find(z_(t));function z5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||d_(t):!0}const V5=new Set(["brightness","contrast","saturate","opacity"]);function K5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(LE)||[];if(!i)return t;const o=n.replace(i,"");let c=V5.has(e)?1:0;return i!==n&&(c*=100),e+"("+c+o+")"}const W5=/\b([a-z-]*)\(.*?\)/gu,dg={...ca,getAnimatableNone:t=>{const e=t.match(W5);return e?e.map(K5).join(" "):t}},IT={...kl,transform:Math.round},Y5={rotate:Vr,rotateX:Vr,rotateY:Vr,rotateZ:Vr,scale:ah,scaleX:ah,scaleY:ah,scaleZ:ah,skew:Vr,skewX:Vr,skewY:Vr,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:Eu,originX:ET,originY:ET,originZ:Je},GE={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je,...Y5,zIndex:IT,fillOpacity:Eu,strokeOpacity:Eu,numOctaves:IT},q5={...GE,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:dg,WebkitFilter:dg},K_=t=>q5[t];function W_(t,e){let n=K_(t);return n!==dg&&(n=ca),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $5=new Set(["auto","none","0"]);function X5(t,e,n){let i=0,o;for(;i<t.length&&!o;){const c=t[i];typeof c=="string"&&!$5.has(c)&&xu(c).values.length&&(o=t[i]),i++}if(o&&n)for(const c of e)t[c]=W_(n,o)}class Z5 extends HE{constructor(e,n,i,o,c){super(e,n,i,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),DE(p))){const E=B_(p,n.current);E!==void 0&&(e[f]=E),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!G_.has(i)||e.length!==2)return;const[o,c]=e,d=CT(o),h=CT(c);if(d!==h)if(NT(d)&&NT(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Ka[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||z5(e[o]))&&i.push(o);i.length&&X5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ka[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=Ka[n](e.measureViewportBox(),window.getComputedStyle(e.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function Q5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(n==null?void 0:n[t])??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Y_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function q_(t){return u_(t)&&"offsetHeight"in t}const MT=30,J5=t=>!isNaN(parseFloat(t));class eF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var c;const o=hs.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=hs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=J5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new RE);const i=this.events[e].add(n);return e==="change"?()=>{i(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MT);return h_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tl(t,e){return new eF(t,e)}const{schedule:zE}=S_(queueMicrotask,!1),li={x:!1,y:!1};function $_(){return li.x||li.y}function tF(t){return t==="x"||t==="y"?li[t]?null:(li[t]=!0,()=>{li[t]=!1}):li.x||li.y?null:(li.x=li.y=!0,()=>{li.x=li.y=!1})}function X_(t,e){const n=Q5(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function DT(t){return!(t.pointerType==="touch"||$_())}function nF(t,e,n={}){const[i,o,c]=X_(t,n),d=h=>{if(!DT(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const E=y=>{DT(y)&&(p(y),f.removeEventListener("pointerleave",E))};f.addEventListener("pointerleave",E,o)};return i.forEach(h=>{h.addEventListener("pointerenter",d,o)}),c}const Z_=(t,e)=>e?t===e?!0:Z_(t,e.parentElement):!1,VE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,sF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iF(t){return sF.has(t.tagName)||t.tabIndex!==-1}const yh=new WeakSet;function LT(t){return e=>{e.key==="Enter"&&t(e)}}function c0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rF=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=LT(()=>{if(yh.has(n))return;c0(n,"down");const o=LT(()=>{c0(n,"up")}),c=()=>c0(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function OT(t){return VE(t)&&!$_()}function aF(t,e,n={}){const[i,o,c]=X_(t,n),d=h=>{const f=h.currentTarget;if(!OT(h))return;yh.add(f);const p=e(f,h),E=(T,N)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",b),yh.has(f)&&yh.delete(f),OT(T)&&typeof p=="function"&&p(T,{success:N})},y=T=>{E(T,f===window||f===document||n.useGlobalTarget||Z_(f,T.target))},b=T=>{E(T,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",b,o)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",d,o),q_(h)&&(h.addEventListener("focus",p=>rF(p,o)),!iF(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function Q_(t){return u_(t)&&"ownerSVGElement"in t}function oF(t){return Q_(t)&&t.tagName==="svg"}const Kn=t=>!!(t&&t.getVelocity),lF=[...V_,mn,ca],cF=t=>lF.find(z_(t)),KE=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function kT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function uF(...t){return e=>{let n=!1;const i=t.map(o=>{const c=kT(o,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():kT(t[o],null)}}}}function dF(...t){return _.useCallback(uF(...t),t)}class hF extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=q_(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fF({children:t,isPresent:e,anchorX:n,root:i}){const o=_.useId(),c=_.useRef(null),d=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=_.useContext(KE),f=dF(c,t==null?void 0:t.ref);return _.useInsertionEffect(()=>{const{width:p,height:E,top:y,left:b,right:T}=d.current;if(e||!c.current||!p||!E)return;const N=n==="left"?`left: ${b}`:`right: ${T}`;c.current.dataset.motionPopId=o;const R=document.createElement("style");h&&(R.nonce=h);const I=i??document.head;return I.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${E}px !important;
            ${N}px !important;
            top: ${y}px !important;
          }
        `),()=>{I.contains(R)&&I.removeChild(R)}},[e]),l.jsx(hF,{isPresent:e,childRef:c,sizeRef:d,children:_.cloneElement(t,{ref:f})})}const pF=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:c,mode:d,anchorX:h,root:f})=>{const p=TE(mF),E=_.useId();let y=!0,b=_.useMemo(()=>(y=!1,{id:E,initial:e,isPresent:n,custom:o,onExitComplete:T=>{p.set(T,!0);for(const N of p.values())if(!N)return;i&&i()},register:T=>(p.set(T,!1),()=>p.delete(T))}),[n,p,i]);return c&&y&&(b={...b}),_.useMemo(()=>{p.forEach((T,N)=>p.set(N,!1))},[n]),_.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),d==="popLayout"&&(t=l.jsx(fF,{isPresent:n,anchorX:h,root:f,children:t})),l.jsx(Sf.Provider,{value:b,children:t})};function mF(){return new Map}function J_(t=!0){const e=_.useContext(Sf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,c=_.useId();_.useEffect(()=>{if(t)return o(c)},[t]);const d=_.useCallback(()=>t&&i&&i(c),[c,i,t]);return!n&&i?[!1,d]:[!0]}const oh=t=>t.key||"";function jT(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const gF=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:c="sync",propagate:d=!1,anchorX:h="left",root:f})=>{const[p,E]=J_(d),y=_.useMemo(()=>jT(t),[t]),b=d&&!p?[]:y.map(oh),T=_.useRef(!0),N=_.useRef(y),R=TE(()=>new Map),[I,O]=_.useState(y),[$,U]=_.useState(y);l_(()=>{T.current=!1,N.current=y;for(let P=0;P<$.length;P++){const Z=oh($[P]);b.includes(Z)?R.delete(Z):R.get(Z)!==!0&&R.set(Z,!1)}},[$,b.length,b.join("-")]);const K=[];if(y!==I){let P=[...y];for(let Z=0;Z<$.length;Z++){const J=$[Z],we=oh(J);b.includes(we)||(P.splice(Z,0,J),K.push(J))}return c==="wait"&&K.length&&(P=K),U(jT(P)),O(y),null}const{forceRender:ne}=_.useContext(vE);return l.jsx(l.Fragment,{children:$.map(P=>{const Z=oh(P),J=d&&!p?!1:y===$||b.includes(Z),we=()=>{if(R.has(Z))R.set(Z,!0);else return;let De=!0;R.forEach(ve=>{ve||(De=!1)}),De&&(ne==null||ne(),U(N.current),d&&(E==null||E()),i&&i())};return l.jsx(pF,{isPresent:J,initial:!T.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:f,onExitComplete:J?void 0:we,anchorX:h,children:P},Z)})})},ew=_.createContext({strict:!1}),FT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const t in FT)Sl[t]={isEnabled:e=>FT[t].some(n=>!!e[n])};function EF(t){for(const e in t)Sl[e]={...Sl[e],...t[e]}}const xF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ef(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xF.has(t)}let tw=t=>!ef(t);function yF(t){typeof t=="function"&&(tw=e=>e.startsWith("on")?!ef(e):t(e))}try{yF(require("@emotion/is-prop-valid").default)}catch{}function bF(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(tw(o)||n===!0&&ef(o)||!e&&!ef(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const Af=_.createContext({});function Nf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function yu(t){return typeof t=="string"||Array.isArray(t)}const WE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YE=["initial",...WE];function _f(t){return Nf(t.animate)||YE.some(e=>yu(t[e]))}function nw(t){return!!(_f(t)||t.variants)}function vF(t,e){if(_f(t)){const{initial:n,animate:i}=t;return{initial:n===!1||yu(n)?n:void 0,animate:yu(i)?i:void 0}}return t.inherit!==!1?e:{}}function TF(t){const{initial:e,animate:n}=vF(t,_.useContext(Af));return _.useMemo(()=>({initial:e,animate:n}),[PT(e),PT(n)])}function PT(t){return Array.isArray(t)?t.join(" "):t}const bu={};function SF(t){for(const e in t)bu[e]=t[e],ME(e)&&(bu[e].isCSSVariable=!0)}function sw(t,{layout:e,layoutId:n}){return Fl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bu[t]||t==="opacity")}const AF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NF=jl.length;function _F(t,e,n){let i="",o=!0;for(let c=0;c<NF;c++){const d=jl[c],h=t[d];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(d.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=Y_(h,GE[d]);if(!f){o=!1;const E=AF[d]||d;i+=`${E}(${p}) `}n&&(e[d]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function qE(t,e,n){const{style:i,vars:o,transformOrigin:c}=t;let d=!1,h=!1;for(const f in e){const p=e[f];if(Fl.has(f)){d=!0;continue}else if(ME(f)){o[f]=p;continue}else{const E=Y_(p,GE[f]);f.startsWith("origin")?(h=!0,c[f]=E):i[f]=E}}if(e.transform||(d||n?i.transform=_F(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:E=0}=c;i.transformOrigin=`${f} ${p} ${E}`}}const $E=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iw(t,e,n){for(const i in e)!Kn(e[i])&&!sw(i,n)&&(t[i]=e[i])}function wF({transformTemplate:t},e){return _.useMemo(()=>{const n=$E();return qE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RF(t,e){const n=t.style||{},i={};return iw(i,n,t),Object.assign(i,wF(t,e)),i}function CF(t,e){const n={},i=RF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const IF={offset:"stroke-dashoffset",array:"stroke-dasharray"},MF={offset:"strokeDashoffset",array:"strokeDasharray"};function DF(t,e,n=1,i=0,o=!0){t.pathLength=1;const c=o?IF:MF;t[c.offset]=Je.transform(-i);const d=Je.transform(e),h=Je.transform(n);t[c.array]=`${d} ${h}`}function rw(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:c=1,pathOffset:d=0,...h},f,p,E){if(qE(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:b}=t;y.transform&&(b.transform=y.transform,delete y.transform),(b.transform||y.transformOrigin)&&(b.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),b.transform&&(b.transformBox=(E==null?void 0:E.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),o!==void 0&&DF(y,o,c,d,!1)}const aw=()=>({...$E(),attrs:{}}),ow=t=>typeof t=="string"&&t.toLowerCase()==="svg";function LF(t,e,n,i){const o=_.useMemo(()=>{const c=aw();return rw(c,e,ow(i),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};iw(c,t.style,t),o.style={...c,...o.style}}return o}const OF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XE(t){return typeof t!="string"||t.includes("-")?!1:!!(OF.indexOf(t)>-1||/[A-Z]/u.test(t))}function kF(t,e,n,{latestValues:i},o,c=!1){const h=(XE(t)?LF:CF)(e,i,o,t),f=bF(e,typeof t=="string",c),p=t!==_.Fragment?{...f,...h,ref:n}:{},{children:E}=e,y=_.useMemo(()=>Kn(E)?E.get():E,[E]);return _.createElement(t,{...p,children:y})}function UT(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function ZE(t,e,n,i){if(typeof e=="function"){const[o,c]=UT(i);e=e(n!==void 0?n:t.custom,o,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,c]=UT(i);e=e(n!==void 0?n:t.custom,o,c)}return e}function bh(t){return Kn(t)?t.get():t}function jF({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:FF(n,i,o,t),renderState:e()}}function FF(t,e,n,i){const o={},c=i(t,{});for(const b in c)o[b]=bh(c[b]);let{initial:d,animate:h}=t;const f=_f(t),p=nw(t);e&&p&&!f&&t.inherit!==!1&&(d===void 0&&(d=e.initial),h===void 0&&(h=e.animate));let E=n?n.initial===!1:!1;E=E||d===!1;const y=E?h:d;if(y&&typeof y!="boolean"&&!Nf(y)){const b=Array.isArray(y)?y:[y];for(let T=0;T<b.length;T++){const N=ZE(t,b[T]);if(N){const{transitionEnd:R,transition:I,...O}=N;for(const $ in O){let U=O[$];if(Array.isArray(U)){const K=E?U.length-1:0;U=U[K]}U!==null&&(o[$]=U)}for(const $ in R)o[$]=R[$]}}}return o}const lw=t=>(e,n)=>{const i=_.useContext(Af),o=_.useContext(Sf),c=()=>jF(t,e,i,o);return n?c():TE(c)};function QE(t,e,n){var c;const{style:i}=t,o={};for(const d in i)(Kn(i[d])||e.style&&Kn(e.style[d])||sw(d,t)||((c=n==null?void 0:n.getValue(d))==null?void 0:c.liveStyle)!==void 0)&&(o[d]=i[d]);return o}const PF=lw({scrapeMotionValuesFromProps:QE,createRenderState:$E});function cw(t,e,n){const i=QE(t,e,n);for(const o in t)if(Kn(t[o])||Kn(e[o])){const c=jl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[c]=t[o]}return i}const UF=lw({scrapeMotionValuesFromProps:cw,createRenderState:aw}),HF=Symbol.for("motionComponentSymbol");function tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function BF(t,e,n){return _.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):tl(n)&&(n.current=i))},[e])}const JE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GF="framerAppearId",uw="data-"+JE(GF),dw=_.createContext({});function zF(t,e,n,i,o){var R,I;const{visualElement:c}=_.useContext(Af),d=_.useContext(ew),h=_.useContext(Sf),f=_.useContext(KE).reducedMotion,p=_.useRef(null);i=i||d.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const E=p.current,y=_.useContext(dw);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&VF(p.current,n,o,y);const b=_.useRef(!1);_.useInsertionEffect(()=>{E&&b.current&&E.update(n,h)});const T=n[uw],N=_.useRef(!!T&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,T))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,T)));return l_(()=>{E&&(b.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),N.current&&E.animationState&&E.animationState.animateChanges())}),_.useEffect(()=>{E&&(!N.current&&E.animationState&&E.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)==null||O.call(window,T)}),N.current=!1),E.enteringChildren=void 0)}),E}function VF(t,e,n,i){const{layoutId:o,layout:c,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:E}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:hw(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!d||h&&tl(h),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:E,layoutScroll:f,layoutRoot:p})}function hw(t){if(t)return t.options.allowProjection!==!1?t.projection:hw(t.parent)}function u0(t,{forwardMotionProps:e=!1}={},n,i){n&&EF(n);const o=XE(t)?UF:PF;function c(h,f){let p;const E={..._.useContext(KE),...h,layoutId:KF(h)},{isStatic:y}=E,b=TF(h),T=o(h,y);if(!y&&SE){WF();const N=YF(E);p=N.MeasureLayout,b.visualElement=zF(t,T,E,i,N.ProjectionNode)}return l.jsxs(Af.Provider,{value:b,children:[p&&b.visualElement?l.jsx(p,{visualElement:b.visualElement,...E}):null,kF(t,h,BF(T,b.visualElement,f),T,y,e)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=_.forwardRef(c);return d[HF]=t,d}function KF({layoutId:t}){const e=_.useContext(vE).id;return e&&t!==void 0?e+"-"+t:t}function WF(t,e){_.useContext(ew).strict}function YF(t){const{drag:e,layout:n}=Sl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function qF(t,e){if(typeof Proxy>"u")return u0;const n=new Map,i=(c,d)=>u0(c,d,t,e),o=(c,d)=>i(c,d);return new Proxy(o,{get:(c,d)=>d==="create"?i:(n.has(d)||n.set(d,u0(d,void 0,t,e)),n.get(d))})}function fw({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function $F({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function XF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function d0(t){return t===void 0||t===1}function hg({scale:t,scaleX:e,scaleY:n}){return!d0(t)||!d0(e)||!d0(n)}function Ua(t){return hg(t)||pw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function pw(t){return HT(t.x)||HT(t.y)}function HT(t){return t&&t!=="0%"}function tf(t,e,n){const i=t-n,o=e*i;return n+o}function BT(t,e,n,i,o){return o!==void 0&&(t=tf(t,o,i)),tf(t,n,i)+e}function fg(t,e=0,n=1,i,o){t.min=BT(t.min,e,n,i,o),t.max=BT(t.max,e,n,i,o)}function mw(t,{x:e,y:n}){fg(t.x,e.translate,e.scale,e.originPoint),fg(t.y,n.translate,n.scale,n.originPoint)}const GT=.999999999999,zT=1.0000000000001;function ZF(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let c,d;for(let h=0;h<o;h++){c=n[h],d=c.projectionDelta;const{visualElement:f}=c.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&sl(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,mw(t,d)),i&&Ua(c.latestValues)&&sl(t,c.latestValues))}e.x<zT&&e.x>GT&&(e.x=1),e.y<zT&&e.y>GT&&(e.y=1)}function nl(t,e){t.min=t.min+e,t.max=t.max+e}function VT(t,e,n,i,o=.5){const c=Zt(t.min,t.max,o);fg(t,e,n,c,i)}function sl(t,e){VT(t.x,e.x,e.scaleX,e.scale,e.originX),VT(t.y,e.y,e.scaleY,e.scale,e.originY)}function gw(t,e){return fw(XF(t.getBoundingClientRect(),e))}function QF(t,e,n){const i=gw(t,n),{scroll:o}=e;return o&&(nl(i.x,o.offset.x),nl(i.y,o.offset.y)),i}const KT=()=>({translate:0,scale:1,origin:0,originPoint:0}),il=()=>({x:KT(),y:KT()}),WT=()=>({min:0,max:0}),ln=()=>({x:WT(),y:WT()}),pg={current:null},Ew={current:!1};function JF(){if(Ew.current=!0,!!SE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pg.current=t.matches;t.addEventListener("change",e),e()}else pg.current=!1}const eP=new WeakMap;function tP(t,e,n){for(const i in e){const o=e[i],c=n[i];if(Kn(o))t.addValue(i,o);else if(Kn(c))t.addValue(i,Tl(o,{owner:t}));else if(c!==o)if(t.hasValue(i)){const d=t.getValue(i);d.liveStyle===!0?d.jump(o):d.hasAnimated||d.set(o)}else{const d=t.getStaticValue(i);t.addValue(i,Tl(d!==void 0?d:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const YT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nP{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:c,visualState:d},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=HE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=hs.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Yt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=d;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=_f(n),this.isVariantNode=nw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:E,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in y){const T=y[b];f[b]!==void 0&&Kn(T)&&T.set(f[b])}}mount(e){var n;this.current=e,eP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),Ew.current||JF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),la(this.notifyUpdate),la(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Fl.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Yt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sl){const n=Sl[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<YT.length;i++){const o=YT[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,d=e[c];d&&(this.propEventSubscriptions[o]=this.on(o,d))}this.prevMotionValues=tP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Tl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(c_(i)||d_(i))?i=parseFloat(i):!cF(i)&&ca.test(n)&&(i=W_(e,n)),this.setBaseTarget(e,Kn(i)?i.get():i)),Kn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var c;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const d=ZE(this.props,n,(c=this.presenceContext)==null?void 0:c.custom);d&&(i=d[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Kn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new RE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){zE.render(this.render)}}class xw extends nP{constructor(){super(...arguments),this.KeyframeResolver=Z5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yw(t,{style:e,vars:n},i,o){const c=t.style;let d;for(d in e)c[d]=e[d];o==null||o.applyProjectionStyles(c,i);for(d in n)c.setProperty(d,n[d])}function sP(t){return window.getComputedStyle(t)}class iP extends xw{constructor(){super(...arguments),this.type="html",this.renderInstance=yw}readValueFromInstance(e,n){var i;if(Fl.has(n))return(i=this.projection)!=null&&i.isProjecting?rg(n):g5(e,n);{const o=sP(e),c=(ME(n)?o.getPropertyValue(n):o[n])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gw(e,n)}build(e,n,i){qE(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return QE(e,n,i)}}const bw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rP(t,e,n,i){yw(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(bw.has(o)?o:JE(o),e.attrs[o])}class aP extends xw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Fl.has(n)){const i=K_(n);return i&&i.default||0}return n=bw.has(n)?n:JE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return cw(e,n,i)}build(e,n,i){rw(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){rP(e,n,i,o)}mount(e){this.isSVGTag=ow(e.tagName),super.mount(e)}}const oP=(t,e)=>XE(t)?new aP(e):new iP(e,{allowProjection:t!==_.Fragment});function ul(t,e,n){const i=t.getProps();return ZE(i,e,n!==void 0?n:i.custom,t)}const mg=t=>Array.isArray(t);function lP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tl(n))}function cP(t){return mg(t)?t[t.length-1]||0:t}function uP(t,e){const n=ul(t,e);let{transitionEnd:i={},transition:o={},...c}=n||{};c={...c,...i};for(const d in c){const h=cP(c[d]);lP(t,d,h)}}function dP(t){return!!(Kn(t)&&t.add)}function gg(t,e){const n=t.getValue("willChange");if(dP(n))return n.add(e);if(!n&&dr.WillChange){const i=new dr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function vw(t){return t.props[uw]}const hP=t=>t!==null;function fP(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(hP),c=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[c]}const pP={type:"spring",stiffness:500,damping:25,restSpeed:10},mP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gP={type:"keyframes",duration:.8},EP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xP=(t,{keyframes:e})=>e.length>2?gP:Fl.has(t)?t.startsWith("scale")?mP(e[1]):pP:EP;function yP({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:c,repeatType:d,repeatDelay:h,from:f,elapsed:p,...E}){return!!Object.keys(E).length}const ex=(t,e,n,i={},o,c)=>d=>{const h=BE(i,t)||{},f=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ci(f);const E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{d(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:c?void 0:o};yP(h)||Object.assign(E,xP(t,E)),E.duration&&(E.duration=Ci(E.duration)),E.repeatDelay&&(E.repeatDelay=Ci(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let y=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(ug(E),E.delay===0&&(y=!0)),(dr.instantAnimations||dr.skipAnimations)&&(y=!0,ug(E),E.delay=0),E.allowFlatten=!h.type&&!h.ease,y&&!c&&e.get()!==void 0){const b=fP(E.keyframes,h);if(b!==void 0){Yt.update(()=>{E.onUpdate(b),E.onComplete()});return}}return h.isSync?new UE(E):new U5(E)};function bP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Tw(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;i&&(c=i);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const E in h){const y=t.getValue(E,t.latestValues[E]??null),b=h[E];if(b===void 0||p&&bP(p,E))continue;const T={delay:n,...BE(c||{},E)},N=y.get();if(N!==void 0&&!y.isAnimating&&!Array.isArray(b)&&b===N&&!T.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const O=vw(t);if(O){const $=window.MotionHandoffAnimation(O,E,Yt);$!==null&&(T.startTime=$,R=!0)}}gg(t,E),y.start(ex(E,y,b,t.shouldReduceMotion&&G_.has(E)?{type:!1}:T,t,R));const I=y.animation;I&&f.push(I)}return d&&Promise.all(f).then(()=>{Yt.update(()=>{d&&uP(t,d)})}),f}function Sw(t,e,n,i=0,o=1){const c=Array.from(t).sort((p,E)=>p.sortNodePosition(E)).indexOf(e),d=t.size,h=(d-1)*i;return typeof n=="function"?n(c,d):o===1?c*i:h-c*i}function Eg(t,e,n={}){var f;const i=ul(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const c=i?()=>Promise.all(Tw(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:E=0,staggerChildren:y,staggerDirection:b}=o;return vP(t,e,p,E,y,b,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,E]=h==="beforeChildren"?[c,d]:[d,c];return p().then(()=>E())}else return Promise.all([c(),d(n.delay)])}function vP(t,e,n=0,i=0,o=0,c=1,d){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Eg(f,e,{...d,delay:n+(typeof i=="function"?0:i)+Sw(t.variantChildren,f,i,o,c)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function TP(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(c=>Eg(t,c,n));i=Promise.all(o)}else if(typeof e=="string")i=Eg(t,e,n);else{const o=typeof e=="function"?ul(t,e,n.custom):e;i=Promise.all(Tw(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function Aw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const SP=YE.length;function Nw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Nw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<SP;n++){const i=YE[n],o=t.props[i];(yu(o)||o===!1)&&(e[i]=o)}return e}const AP=[...WE].reverse(),NP=WE.length;function _P(t){return e=>Promise.all(e.map(({animation:n,options:i})=>TP(t,n,i)))}function wP(t){let e=_P(t),n=qT(),i=!0;const o=f=>(p,E)=>{var b;const y=ul(t,E,f==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(y){const{transition:T,transitionEnd:N,...R}=y;p={...p,...R,...N}}return p};function c(f){e=f(t)}function d(f){const{props:p}=t,E=Nw(t.parent)||{},y=[],b=new Set;let T={},N=1/0;for(let I=0;I<NP;I++){const O=AP[I],$=n[O],U=p[O]!==void 0?p[O]:E[O],K=yu(U),ne=O===f?$.isActive:null;ne===!1&&(N=I);let P=U===E[O]&&U!==p[O]&&K;if(P&&i&&t.manuallyAnimateOnMount&&(P=!1),$.protectedKeys={...T},!$.isActive&&ne===null||!U&&!$.prevProp||Nf(U)||typeof U=="boolean")continue;const Z=RP($.prevProp,U);let J=Z||O===f&&$.isActive&&!P&&K||I>N&&K,we=!1;const De=Array.isArray(U)?U:[U];let ve=De.reduce(o(O),{});ne===!1&&(ve={});const{prevResolvedValues:he={}}=$,qe={...he,...ve},W=H=>{J=!0,b.has(H)&&(we=!0,b.delete(H)),$.needsAnimating[H]=!0;const ae=t.getValue(H);ae&&(ae.liveStyle=!1)};for(const H in qe){const ae=ve[H],Se=he[H];if(T.hasOwnProperty(H))continue;let ge=!1;mg(ae)&&mg(Se)?ge=!Aw(ae,Se):ge=ae!==Se,ge?ae!=null?W(H):b.add(H):ae!==void 0&&b.has(H)?W(H):$.protectedKeys[H]=!0}$.prevProp=U,$.prevResolvedValues=ve,$.isActive&&(T={...T,...ve}),i&&t.blockInitialAnimation&&(J=!1);const Y=P&&Z;J&&(!Y||we)&&y.push(...De.map(H=>{const ae={type:O};if(typeof H=="string"&&i&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:Se}=t,ge=ul(Se,H);if(Se.enteringChildren&&ge){const{delayChildren:w}=ge.transition||{};ae.delay=Sw(Se.enteringChildren,t,w)}}return{animation:H,options:ae}}))}if(b.size){const I={};if(typeof p.initial!="boolean"){const O=ul(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(I.transition=O.transition)}b.forEach(O=>{const $=t.getBaseTarget(O),U=t.getValue(O);U&&(U.liveStyle=!0),I[O]=$??null}),y.push({animation:I})}let R=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(R=!1),i=!1,R?e(y):Promise.resolve()}function h(f,p){var y;if(n[f].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(b=>{var T;return(T=b.animationState)==null?void 0:T.setActive(f,p)}),n[f].isActive=p;const E=d(f);for(const b in n)n[b].protectedKeys={};return E}return{animateChanges:d,setActive:h,setAnimateFunction:c,getState:()=>n,reset:()=>{n=qT()}}}function RP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Aw(e,t):!1}function ja(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qT(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}class da{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CP extends da{constructor(e){super(e),e.animationState||(e.animationState=wP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let IP=0;class MP extends da{constructor(){super(...arguments),this.id=IP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const DP={animation:{Feature:CP},exit:{Feature:MP}};function vu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Pu(t){return{point:{x:t.pageX,y:t.pageY}}}const LP=t=>e=>VE(e)&&t(e,Pu(e));function tu(t,e,n,i){return vu(t,e,LP(n),i)}const _w=1e-4,OP=1-_w,kP=1+_w,ww=.01,jP=0-ww,FP=0+ww;function Jn(t){return t.max-t.min}function PP(t,e,n){return Math.abs(t-e)<=n}function $T(t,e,n,i=.5){t.origin=i,t.originPoint=Zt(e.min,e.max,t.origin),t.scale=Jn(n)/Jn(e),t.translate=Zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=OP&&t.scale<=kP||isNaN(t.scale))&&(t.scale=1),(t.translate>=jP&&t.translate<=FP||isNaN(t.translate))&&(t.translate=0)}function nu(t,e,n,i){$T(t.x,e.x,n.x,i?i.originX:void 0),$T(t.y,e.y,n.y,i?i.originY:void 0)}function XT(t,e,n){t.min=n.min+e.min,t.max=t.min+Jn(e)}function UP(t,e,n){XT(t.x,e.x,n.x),XT(t.y,e.y,n.y)}function ZT(t,e,n){t.min=e.min-n.min,t.max=t.min+Jn(e)}function su(t,e,n){ZT(t.x,e.x,n.x),ZT(t.y,e.y,n.y)}function Ks(t){return[t("x"),t("y")]}const Rw=({current:t})=>t?t.ownerDocument.defaultView:null,QT=(t,e)=>Math.abs(t-e);function HP(t,e){const n=QT(t.x,e.x),i=QT(t.y,e.y);return Math.sqrt(n**2+i**2)}class Cw{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=f0(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,N=HP(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!N)return;const{point:R}=b,{timestamp:I}=Pn;this.history.push({...R,timestamp:I});const{onStart:O,onMove:$}=this.handlers;T||(O&&O(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,b)},this.handlePointerMove=(b,T)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=h0(T,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(b,T)=>{this.end();const{onEnd:N,onSessionEnd:R,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=f0(b.type==="pointercancel"?this.lastMoveEventInfo:h0(T,this.transformPagePoint),this.history);this.startEvent&&N&&N(b,O),R&&R(b,O)},!VE(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=d,this.contextWindow=o||window;const h=Pu(e),f=h0(h,this.transformPagePoint),{point:p}=f,{timestamp:E}=Pn;this.history=[{...p,timestamp:E}];const{onSessionStart:y}=n;y&&y(e,f0(f,this.history)),this.removeListeners=ku(tu(this.contextWindow,"pointermove",this.handlePointerMove),tu(this.contextWindow,"pointerup",this.handlePointerUp),tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),la(this.updatePoint)}}function h0(t,e){return e?{point:e(t.point)}:t}function JT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function f0({point:t},e){return{point:t,delta:JT(t,Iw(e)),offset:JT(t,BP(e)),velocity:GP(e,.1)}}function BP(t){return t[0]}function Iw(t){return t[t.length-1]}function GP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=Iw(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Ci(e)));)n--;if(!i)return{x:0,y:0};const c=Ys(o.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const d={x:(o.x-i.x)/c,y:(o.y-i.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function zP(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Zt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Zt(n,t,i.max):Math.min(t,n)),t}function eS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function VP(t,{top:e,left:n,bottom:i,right:o}){return{x:eS(t.x,n,o),y:eS(t.y,e,i)}}function tS(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function KP(t,e){return{x:tS(t.x,e.x),y:tS(t.y,e.y)}}function WP(t,e){let n=.5;const i=Jn(t),o=Jn(e);return o>i?n=gu(e.min,e.max-i,t.min):i>o&&(n=gu(t.min,t.max-o,e.min)),ur(0,1,n)}function YP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xg=.35;function qP(t=xg){return t===!1?t=0:t===!0&&(t=xg),{x:nS(t,"left","right"),y:nS(t,"top","bottom")}}function nS(t,e,n){return{min:sS(t,e),max:sS(t,n)}}function sS(t,e){return typeof t=="number"?t:t[e]||0}const $P=new WeakMap;class XP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=y=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pu(y).point)},d=(y,b)=>{const{drag:T,dragPropagation:N,onDragStart:R}=this.getProps();if(T&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tF(T),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ks(O=>{let $=this.getAxisMotionValue(O).get()||0;if(Ii.test($)){const{projection:U}=this.visualElement;if(U&&U.layout){const K=U.layout.layoutBox[O];K&&($=Jn(K)*(parseFloat($)/100))}}this.originPoint[O]=$}),R&&Yt.postRender(()=>R(y,b)),gg(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b;const{dragPropagation:T,dragDirectionLock:N,onDirectionLock:R,onDrag:I}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:O}=b;if(N&&this.currentDirection===null){this.currentDirection=ZP(O),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",b.point,O),this.updateAxis("y",b.point,O),this.visualElement.render(),I&&I(y,b)},f=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b,this.stop(y,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ks(y=>{var b;return this.getAnimationState(y)==="paused"&&((b=this.getAxisMotionValue(y).animation)==null?void 0:b.play())}),{dragSnapToOrigin:E}=this.getProps();this.panSession=new Cw(e,{onSessionStart:c,onStart:d,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,distanceThreshold:i,contextWindow:Rw(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!i)return;const{velocity:d}=o;this.startAnimation(d);const{onDragEnd:h}=this.getProps();h&&Yt.postRender(()=>h(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!lh(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let d=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(d=zP(d,this.constraints[e],this.elastic[e])),c.set(d)}resolveConstraints(){var c;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,o=this.constraints;e&&tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=VP(i.layoutBox,e):this.constraints=!1,this.elastic=qP(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ks(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=YP(i.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tl(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=QF(i,o.root,this.visualElement.getTransformPagePoint());let d=KP(o.layout.layoutBox,c);if(n){const h=n($F(d));this.hasMutatedConstraints=!!h,h&&(d=fw(h))}return d}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Ks(E=>{if(!lh(E,n,this.currentDirection))return;let y=f&&f[E]||{};d&&(y={min:0,max:0});const b=o?200:1e6,T=o?40:1e7,N={type:"inertia",velocity:i?e[E]:0,bounceStiffness:b,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(E,N)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return gg(this.visualElement,e),i.start(ex(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ks(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ks(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ks(n=>{const{drag:i}=this.getProps();if(!lh(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(n);if(o&&o.layout){const{min:d,max:h}=o.layout.layoutBox[n];c.set(e[n]-Zt(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!tl(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ks(d=>{const h=this.getAxisMotionValue(d);if(h&&this.constraints!==!1){const f=h.get();o[d]=WP({min:f,max:f},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ks(d=>{if(!lh(d,e,null))return;const h=this.getAxisMotionValue(d),{min:f,max:p}=this.constraints[d];h.set(Zt(f,p,o[d]))})}addListeners(){if(!this.visualElement.current)return;$P.set(this.visualElement,this);const e=this.visualElement.current,n=tu(e,"pointerdown",f=>{const{drag:p,dragListener:E=!0}=this.getProps();p&&E&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();tl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Yt.read(i);const d=vu(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ks(E=>{const y=this.getAxisMotionValue(E);y&&(this.originPoint[E]+=f[E].translate,y.set(y.get()+f[E].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:d=xg,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:c,dragElastic:d,dragMomentum:h}}}function lh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ZP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QP extends da{constructor(e){super(e),this.removeGroupControls=qs,this.removeListeners=qs,this.controls=new XP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qs}unmount(){this.removeGroupControls(),this.removeListeners()}}const iS=t=>(e,n)=>{t&&Yt.postRender(()=>t(e,n))};class JP extends da{constructor(){super(...arguments),this.removePointerDownListener=qs}onPointerDown(e){this.session=new Cw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:iS(e),onStart:iS(n),onMove:i,onEnd:(c,d)=>{delete this.session,o&&Yt.postRender(()=>o(c,d))}}}mount(){this.removePointerDownListener=tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Je.test(t))t=parseFloat(t);else return t;const n=rS(t,e.target.x),i=rS(t,e.target.y);return`${n}% ${i}%`}},eU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=ca.parse(t);if(o.length>5)return i;const c=ca.createTransformer(t),d=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;o[0+d]/=h,o[1+d]/=f;const p=Zt(h,f,.5);return typeof o[2+d]=="number"&&(o[2+d]/=p),typeof o[3+d]=="number"&&(o[3+d]/=p),c(o)}};let p0=!1;class tU extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:c}=e;SF(nU),c&&(n.group&&n.group.add(c),i&&i.register&&o&&i.register(c),p0&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),vh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:c}=this.props,{projection:d}=i;return d&&(d.isPresent=c,p0=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==c?d.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?d.promote():d.relegate()||Yt.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;p0=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Mw(t){const[e,n]=J_(),i=_.useContext(vE);return l.jsx(tU,{...t,layoutGroup:i,switchLayoutGroup:_.useContext(dw),isPresent:e,safeToRemove:n})}const nU={borderRadius:{...Fc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fc,borderTopRightRadius:Fc,borderBottomLeftRadius:Fc,borderBottomRightRadius:Fc,boxShadow:eU};function sU(t,e,n){const i=Kn(t)?t:Tl(t);return i.start(ex("",i,e,n)),i.animation}const iU=(t,e)=>t.depth-e.depth;class rU{constructor(){this.children=[],this.isDirty=!1}add(e){AE(this.children,e),this.isDirty=!0}remove(e){NE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iU),this.isDirty=!1,this.children.forEach(e)}}function aU(t,e){const n=hs.now(),i=({timestamp:o})=>{const c=o-n;c>=e&&(la(i),t(c-e))};return Yt.setup(i,!0),()=>la(i)}const Dw=["TopLeft","TopRight","BottomLeft","BottomRight"],oU=Dw.length,aS=t=>typeof t=="string"?parseFloat(t):t,oS=t=>typeof t=="number"||Je.test(t);function lU(t,e,n,i,o,c){o?(t.opacity=Zt(0,n.opacity??1,cU(i)),t.opacityExit=Zt(e.opacity??1,0,uU(i))):c&&(t.opacity=Zt(e.opacity??1,n.opacity??1,i));for(let d=0;d<oU;d++){const h=`border${Dw[d]}Radius`;let f=lS(e,h),p=lS(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||oS(f)===oS(p)?(t[h]=Math.max(Zt(aS(f),aS(p),i),0),(Ii.test(p)||Ii.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Zt(e.rotate||0,n.rotate||0,i))}function lS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cU=Lw(0,.5,y_),uU=Lw(.5,.95,qs);function Lw(t,e,n){return i=>i<t?0:i>e?1:n(gu(t,e,i))}function cS(t,e){t.min=e.min,t.max=e.max}function Vs(t,e){cS(t.x,e.x),cS(t.y,e.y)}function uS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function dS(t,e,n,i,o){return t-=e,t=tf(t,1/n,i),o!==void 0&&(t=tf(t,1/o,i)),t}function dU(t,e=0,n=1,i=.5,o,c=t,d=t){if(Ii.test(e)&&(e=parseFloat(e),e=Zt(d.min,d.max,e/100)-d.min),typeof e!="number")return;let h=Zt(c.min,c.max,i);t===c&&(h-=e),t.min=dS(t.min,e,n,h,o),t.max=dS(t.max,e,n,h,o)}function hS(t,e,[n,i,o],c,d){dU(t,e[n],e[i],e[o],e.scale,c,d)}const hU=["x","scaleX","originX"],fU=["y","scaleY","originY"];function fS(t,e,n,i){hS(t.x,e,hU,n?n.x:void 0,i?i.x:void 0),hS(t.y,e,fU,n?n.y:void 0,i?i.y:void 0)}function pS(t){return t.translate===0&&t.scale===1}function Ow(t){return pS(t.x)&&pS(t.y)}function mS(t,e){return t.min===e.min&&t.max===e.max}function pU(t,e){return mS(t.x,e.x)&&mS(t.y,e.y)}function gS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kw(t,e){return gS(t.x,e.x)&&gS(t.y,e.y)}function ES(t){return Jn(t.x)/Jn(t.y)}function xS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class mU{constructor(){this.members=[]}add(e){AE(this.members,e),e.scheduleRender()}remove(e){if(NE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gU(t,e,n){let i="";const o=t.x.translate/e.x,c=t.y.translate/e.y,d=(n==null?void 0:n.z)||0;if((o||c||d)&&(i=`translate3d(${o}px, ${c}px, ${d}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:E,rotateX:y,rotateY:b,skewX:T,skewY:N}=n;p&&(i=`perspective(${p}px) ${i}`),E&&(i+=`rotate(${E}deg) `),y&&(i+=`rotateX(${y}deg) `),b&&(i+=`rotateY(${b}deg) `),T&&(i+=`skewX(${T}deg) `),N&&(i+=`skewY(${N}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const m0=["","X","Y","Z"],EU=1e3;let xU=0;function g0(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function jw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=vw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Yt,!(o||c))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&jw(i)}function Fw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(d={},h=e==null?void 0:e()){this.id=xU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vU),this.nodes.forEach(NU),this.nodes.forEach(_U),this.nodes.forEach(TU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new rU)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new RE),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const f=this.eventHandlers.get(d);f&&f.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=Q_(d)&&!oF(d),this.instance=d;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let E,y=0;const b=()=>this.root.updateBlockedByResize=!1;Yt.read(()=>{y=window.innerWidth}),t(d,()=>{const T=window.innerWidth;T!==y&&(y=T,this.root.updateBlockedByResize=!0,E&&E(),E=aU(b,250),vh.hasAnimatedSinceResize&&(vh.hasAnimatedSinceResize=!1,this.nodes.forEach(vS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:y,hasRelativeLayoutChanged:b,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||MU,{onLayoutAnimationStart:R,onLayoutAnimationComplete:I}=p.getProps(),O=!this.targetLayout||!kw(this.targetLayout,T),$=!y&&b;if(this.options.layoutRoot||this.resumeFrom||$||y&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...BE(N,"layout"),onPlay:R,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(E,$)}else y||vS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),la(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wU),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const y=this.path[E];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AU),this.nodes.forEach(yU),this.nodes.forEach(bU)):this.nodes.forEach(bS),this.clearAllSnapshots();const h=hs.now();Pn.delta=ur(0,1e3/60,h-Pn.timestamp),Pn.timestamp=h,Pn.isProcessing=!0,i0.update.process(Pn),i0.preRender.process(Pn),i0.render.process(Pn),Pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SU),this.sharedNodes.forEach(RU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jn(this.snapshot.measuredBox.x)&&!Jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Ow(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,E=p!==this.prevTransformTemplateValue;d&&this.instance&&(h||Ua(this.latestValues)||E)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return d&&(f=this.removeTransform(f)),DU(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:d}=this.options;if(!d)return ln();const h=d.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(LU))){const{scroll:E}=this.root;E&&(nl(h.x,E.offset.x),nl(h.y,E.offset.y))}return h}removeElementScroll(d){var f;const h=ln();if(Vs(h,d),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const E=this.path[p],{scroll:y,options:b}=E;E!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&Vs(h,d),nl(h.x,y.offset.x),nl(h.y,y.offset.y))}return h}applyTransform(d,h=!1){const f=ln();Vs(f,d);for(let p=0;p<this.path.length;p++){const E=this.path[p];!h&&E.options.layoutScroll&&E.scroll&&E!==E.root&&sl(f,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),Ua(E.latestValues)&&sl(f,E.latestValues)}return Ua(this.latestValues)&&sl(f,this.latestValues),f}removeTransform(d){const h=ln();Vs(h,d);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ua(p.latestValues))continue;hg(p.latestValues)&&p.updateSnapshot();const E=ln(),y=p.measurePageBox();Vs(E,y),fS(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,E)}return Ua(this.latestValues)&&fS(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var b;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(d||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:y}=this.options;if(!(!this.layout||!(E||y))){if(this.resolvedRelativeTargetAt=Pn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),su(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vs(this.target,this.layout.layoutBox),mw(this.target,this.targetDelta)):Vs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),su(this.relativeTargetOrigin,this.target,T.target),Vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hg(this.parent.latestValues)||pw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let f=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Pn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||E))return;Vs(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,b=this.treeScale.y;ZF(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ln());const{target:T}=d;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uS(this.prevProjectionDelta.x,this.projectionDelta.x),uS(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==b||!xS(this.projectionDelta.x,this.prevProjectionDelta.x)||!xS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),d){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=il(),this.projectionDelta=il(),this.projectionDeltaWithTransform=il()}setAnimationOrigin(d,h=!1){const f=this.snapshot,p=f?f.latestValues:{},E={...this.latestValues},y=il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=ln(),T=f?f.source:void 0,N=this.layout?this.layout.source:void 0,R=T!==N,I=this.getStack(),O=!I||I.members.length<=1,$=!!(R&&!O&&this.options.crossfade===!0&&!this.path.some(IU));this.animationProgress=0;let U;this.mixTargetDelta=K=>{const ne=K/1e3;TS(y.x,d.x,ne),TS(y.y,d.y,ne),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(su(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CU(this.relativeTarget,this.relativeTargetOrigin,b,ne),U&&pU(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=ln()),Vs(U,this.relativeTarget)),R&&(this.animationValues=E,lU(E,p,this.latestValues,ne,$,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(la(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{vh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tl(0)),this.currentAnimation=sU(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:E=>{this.mixTargetDelta(E),d.onUpdate&&d.onUpdate(E)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:E}=d;if(!(!h||!f||!p)){if(this!==d&&this.layout&&p&&Pw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ln();const y=Jn(this.layout.layoutBox.x);f.x.min=d.target.x.min,f.x.max=f.x.min+y;const b=Jn(this.layout.layoutBox.y);f.y.min=d.target.y.min,f.y.max=f.y.min+b}Vs(h,f),sl(h,E),nu(this.projectionDeltaWithTransform,this.layoutCorrected,h,E)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new mU),this.sharedNodes.get(d).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var h;const{layoutId:d}=this.options;return d?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:d}=this.options;return d?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:f}=d;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&g0("z",d,p,this.animationValues);for(let E=0;E<m0.length;E++)g0(`rotate${m0[E]}`,d,p,this.animationValues),g0(`skew${m0[E]}`,d,p,this.animationValues);d.render();for(const E in p)d.setStaticValue(E,p[E]),this.animationValues&&(this.animationValues[E]=p[E]);d.scheduleRender()}applyProjectionStyles(d,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=bh(h==null?void 0:h.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=bh(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ua(this.latestValues)&&(d.transform=f?f({},""):"none",this.hasProjected=!1);return}d.visibility="";const E=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=gU(this.projectionDeltaWithTransform,this.treeScale,E);f&&(y=f(E,y)),d.transform=y;const{x:b,y:T}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${T.origin*100}% 0`,p.animationValues?d.opacity=p===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:d.opacity=p===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const N in bu){if(E[N]===void 0)continue;const{correct:R,applyTo:I,isCSSVariable:O}=bu[N],$=y==="none"?E[N]:R(E[N],p);if(I){const U=I.length;for(let K=0;K<U;K++)d[I[K]]=$}else O?this.options.visualElement.renderState.vars[N]=$:d[N]=$}this.options.layoutId&&(d.pointerEvents=p===this?bh(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var h;return(h=d.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(yS),this.root.sharedNodes.clear()}}}function yU(t){t.updateLayout()}function bU(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:c}=t.options,d=e.source!==t.layout.source;c==="size"?Ks(y=>{const b=d?e.measuredBox[y]:e.layoutBox[y],T=Jn(b);b.min=i[y].min,b.max=b.min+T}):Pw(c,e.layoutBox,i)&&Ks(y=>{const b=d?e.measuredBox[y]:e.layoutBox[y],T=Jn(i[y]);b.max=b.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const h=il();nu(h,i,e.layoutBox);const f=il();d?nu(f,t.applyTransform(o,!0),e.measuredBox):nu(f,i,e.layoutBox);const p=!Ow(h);let E=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:T}=y;if(b&&T){const N=ln();su(N,e.layoutBox,b.layoutBox);const R=ln();su(R,i,T.layoutBox),kw(N,R)||(E=!0),y.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=N,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:E})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function vU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SU(t){t.clearSnapshot()}function yS(t){t.clearMeasurements()}function bS(t){t.isLayoutDirty=!1}function AU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function vS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NU(t){t.resolveTargetDelta()}function _U(t){t.calcProjection()}function wU(t){t.resetSkewAndRotation()}function RU(t){t.removeLeadSnapshot()}function TS(t,e,n){t.translate=Zt(e.translate,0,n),t.scale=Zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function SS(t,e,n,i){t.min=Zt(e.min,n.min,i),t.max=Zt(e.max,n.max,i)}function CU(t,e,n,i){SS(t.x,e.x,n.x,i),SS(t.y,e.y,n.y,i)}function IU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const MU={duration:.45,ease:[.4,0,.1,1]},AS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NS=AS("applewebkit/")&&!AS("chrome/")?Math.round:qs;function _S(t){t.min=NS(t.min),t.max=NS(t.max)}function DU(t){_S(t.x),_S(t.y)}function Pw(t,e,n){return t==="position"||t==="preserve-aspect"&&!PP(ES(e),ES(n),.2)}function LU(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const OU=Fw({attachResizeListener:(t,e)=>vu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),E0={current:void 0},Uw=Fw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!E0.current){const t=new OU({});t.mount(window),t.setOptions({layoutScroll:!0}),E0.current=t}return E0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kU={pan:{Feature:JP},drag:{Feature:QP,ProjectionNode:Uw,MeasureLayout:Mw}};function wS(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,c=i[o];c&&Yt.postRender(()=>c(e,Pu(e)))}class jU extends da{mount(){const{current:e}=this.node;e&&(this.unmount=nF(e,(n,i)=>(wS(this.node,i,"Start"),o=>wS(this.node,o,"End"))))}unmount(){}}class FU extends da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ku(vu(this.node.current,"focus",()=>this.onFocus()),vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RS(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),c=i[o];c&&Yt.postRender(()=>c(e,Pu(e)))}class PU extends da{mount(){const{current:e}=this.node;e&&(this.unmount=aF(e,(n,i)=>(RS(this.node,i,"Start"),(o,{success:c})=>RS(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yg=new WeakMap,x0=new WeakMap,UU=t=>{const e=yg.get(t.target);e&&e(t)},HU=t=>{t.forEach(UU)};function BU({root:t,...e}){const n=t||document;x0.has(n)||x0.set(n,{});const i=x0.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(HU,{root:t,...e})),i[o]}function GU(t,e,n){const i=BU(e);return yg.set(t,n),i.observe(t),()=>{yg.delete(t),i.unobserve(t)}}const zU={some:0,all:1};class VU extends da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:c}=e,d={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:zU[o]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:E,onViewportLeave:y}=this.node.getProps(),b=p?E:y;b&&b(f)};return GU(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KU(e,n))&&this.startObserver()}unmount(){}}function KU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WU={inView:{Feature:VU},tap:{Feature:PU},focus:{Feature:FU},hover:{Feature:jU}},YU={layout:{ProjectionNode:Uw,MeasureLayout:Mw}},qU={...DP,...WU,...kU,...YU},y0=qF(qU,oP);var $n=(t=>(t[t.SPADES=0]="SPADES",t[t.HEARTS=1]="HEARTS",t[t.DIAMONDS=2]="DIAMONDS",t[t.CLUBS=3]="CLUBS",t))($n||{}),Mn=(t=>(t[t.SEVEN=7]="SEVEN",t[t.EIGHT=8]="EIGHT",t[t.NINE=9]="NINE",t[t.TEN=10]="TEN",t[t.JACK=11]="JACK",t[t.QUEEN=12]="QUEEN",t[t.KING=13]="KING",t[t.ACE=14]="ACE",t))(Mn||{});function tx(){const t=[],e=[0,1,2,3],n=[7,8,9,10,11,12,13,14];return e.forEach(i=>{n.forEach(o=>{let c,d=!1;o===7?(c="draw_two",d=!0):o===8?(c="skip",d=!0):o===11&&(c="wish",d=!0),t.push({id:`${$n[i]}_${o}`,suit:i,rank:o,points:o>=11?10:o,isAction:d,actionType:c})})}),wf(t)}function wf(t){const e=[...t];for(let n=e.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[e[n],e[i]]=[e[i],e[n]]}return e}function Ji(t,e){const n=t.slice(0,e),i=t.slice(e);return{drawn:n,remaining:i}}function Th(t,e,n){return t.rank===11?!0:n!==void 0?t.suit===n:t.suit===e.suit||t.rank===e.rank}function bg(t){switch(t){case 0:case 3:return"#000000";case 1:case 2:return"#DC143C"}}function vg(t){switch(t){case 0:return"";case 1:return"";case 2:return"";case 3:return""}}function Tg(t,e="de"){if(e==="de")switch(t){case 0:return"Pik";case 1:return"Herz";case 2:return"Karo";case 3:return"Kreuz"}else if(e==="en")switch(t){case 0:return"Spades";case 1:return"Hearts";case 2:return"Diamonds";case 3:return"Clubs"}else switch(t){case 0:return"Picas";case 1:return"Corazones";case 2:return"Diamantes";case 3:return"Trboles"}}const $U=Object.freeze(Object.defineProperty({__proto__:null,CardRank:Mn,CardSuit:$n,canPlayCard:Th,drawCards:Ji,generateDeck:tx,getSuitColor:bg,getSuitName:Tg,getSuitSymbol:vg,shuffleDeck:wf},Symbol.toStringTag,{value:"Module"})),XU={[$n.HEARTS]:"herz",[$n.DIAMONDS]:"karo",[$n.CLUBS]:"kreuz",[$n.SPADES]:"pik"},ZU={[Mn.SEVEN]:"7",[Mn.EIGHT]:"8",[Mn.NINE]:"9",[Mn.TEN]:"10",[Mn.JACK]:"bube",[Mn.QUEEN]:"dame",[Mn.KING]:"koenig",[Mn.ACE]:"ass"};function CS(t){const e=XU[t.suit],n=ZU[t.rank];return`/assets/skat_karten/${e}_${n}.png`}const QU=({code:t})=>{const[e,n]=_.useState(!1),i=()=>{navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3)};return l.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-white/5 text-center relative group cursor-pointer",onClick:i,children:[l.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest mb-2",children:"Dein Freundescode"}),l.jsxs("div",{className:"text-3xl font-mono font-black text-cyan-400 tracking-[0.2em] flex items-center justify-center gap-3 hover:text-white transition-colors",children:[t||"-----",e?l.jsx(Xn,{size:20,className:"text-green-500"}):l.jsx(jS,{size:20,className:"opacity-50"})]}),l.jsx("p",{className:"text-[10px] text-gray-600 mt-2",children:e?"Kopiert!":"Tippen zum Kopieren"})]})},JU=({isOpen:t,onClose:e,friendCode:n,onAddFriend:i})=>{const[o,c]=fs.useState("");return l.jsx(Pt,{isOpen:t,onClose:e,title:"Freunde",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(QU,{code:n||""}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})," Online"]}),l.jsxs("div",{className:"p-4 bg-white/5 rounded-xl flex flex-col items-center justify-center text-center min-h-[100px] border border-white/5 border-dashed",children:[l.jsx(ci,{size:24,className:"text-gray-600 mb-2"}),l.jsx("p",{className:"text-gray-500 text-xs font-medium",children:"Keine Freunde online"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:o,onChange:d=>c(d.target.value.toUpperCase()),placeholder:"CODE EINGEBEN",className:"flex-1 bg-white/5 border border-white/10 rounded-lg px-4 text-center font-mono uppercase text-white focus:border-cyan-400 outline-none",maxLength:6}),l.jsx(zc,{onClick:()=>{i(o),c("")},disabled:o.length<6,children:"ADD"})]})]})})};async function Hw(t,e,n){console.log("[MultiplayerGame] Initializing RUMMY game:",t);try{const i=["hearts","diamonds","clubs","spades"],o=[];for(const E of i)for(let y=1;y<=13;y++)o.push({id:`${E}-${y}`,suit:E,value:y});for(let E=o.length-1;E>0;E--){const y=Math.floor(Math.random()*(E+1));[o[E],o[y]]=[o[y],o[E]]}const c=o.splice(0,7),d=o.splice(0,7),h=[o.splice(0,1)[0]],f={gameId:t,players:{host:e,guest:n},deck:o,discardPile:h,hostHand:c,guestHand:d,hostMelds:[],guestMelds:[],currentPlayer:"host",phase:"draw",status:"playing",createdAt:Date.now(),lastActivity:Date.now()};console.log("[MultiplayerGame] Writing RUMMY game state to Firebase...");const p=Mi(f);return await Dn(At(Rt,`games/${t}`),p),console.log("[MultiplayerGame] RUMMY Game state written successfully"),!0}catch(i){return console.error("[MultiplayerGame] Error initializing rummy game:",i),!1}}async function Bw(t,e,n){console.log("[MultiplayerGame] Initializing NINE MENS MORRIS game:",t);try{const i={gameId:t,players:{host:e,guest:n},board:Array(24).fill(null),currentPlayer:"white",phase:"placing",piecesToPlace:{white:9,black:9},mustRemove:!1,status:"playing",moveHistory:[],createdAt:Date.now(),lastActivity:Date.now()};console.log("[MultiplayerGame] Writing MORRIS game state to Firebase...",i);const o=Mi(i);return await Dn(At(Rt,`games/${t}`),o),console.log("[MultiplayerGame] MORRIS Game state written successfully"),!0}catch(i){return console.error("[MultiplayerGame] Error initializing morris game:",i),!1}}async function Gw(t,e,n){console.log("[MultiplayerGame] Initializing CHESS game:",t);try{const i={gameId:t,players:{host:e,guest:n},fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",turn:"w",status:"playing",lastMove:null,createdAt:Date.now(),lastActivity:Date.now()};console.log("[MultiplayerGame] Writing CHESS game state to Firebase...",i);const o=Mi(i);return await Dn(At(Rt,`games/${t}`),o),console.log("[MultiplayerGame] CHESS Game state written successfully"),!0}catch(i){return console.error("[MultiplayerGame] Error initializing chess game:",i),!1}}async function zw(t,e,n,i,o,c,d){console.log("[MultiplayerGame] Initializing game:",t);try{const h={gameId:t,players:{host:e,guest:n},deck:i,discardPile:o,hands:{[e]:c,[n]:d},currentTurn:e,wishedSuit:null,drawCount:0,status:"playing",lastMove:null,createdAt:Date.now(),lastActivity:Date.now()};console.log("[MultiplayerGame] Writing game state to Firebase...",h);const f=Mi(h);return await Dn(At(Rt,`games/${t}`),f),console.log("[MultiplayerGame] Game state written successfully"),!0}catch(h){return console.error("[MultiplayerGame] Error initializing multiplayer game:",h),!1}}function Vw(t,e){const n=At(Rt,`games/${t}`);return oa(n,i=>{if(i.exists()){const o=i.val();e(o)}}),()=>Ja(n)}async function Kw(t,e,n,i,o){try{const c=At(Rt,`games/${t}`),d=await Dl(c);if(!d.exists())return!1;const h=d.val();if(h.currentTurn!==e)return console.error("Not your turn!"),!1;const f={hands:{...h.hands,[e]:i},discardPile:[...h.discardPile,n],lastMove:{player:e,action:"play",card:n,suit:o,timestamp:Date.now()},lastActivity:Date.now()},p=h.currentTurn===h.players.host?h.players.guest:h.players.host;n.rank===Mn.SEVEN?(f.drawCount=(h.drawCount||0)+2,f.currentTurn=p,f.wishedSuit=null):n.rank===Mn.JACK?(f.wishedSuit=o||null,f.currentTurn=p,f.drawCount=0):n.rank===Mn.EIGHT?(f.currentTurn=e,f.wishedSuit=null,f.drawCount=0):(f.currentTurn=p,f.drawCount=0,f.wishedSuit=null),i.length===0&&(f.status="finished",f.winner=e);const E=Mi(f);return await Mu(c,E),!0}catch(c){return console.error("Error playing card:",c),!1}}async function Ww(t,e,n){try{const i=At(Rt,`games/${t}`),o=await Dl(i);if(!o.exists())return!1;const c=o.val();if(c.currentTurn!==e)return console.error("Not your turn!"),!1;const d=Math.min(n,c.deck.length),h=c.deck.slice(0,d),f=c.deck.slice(d),p={hands:{...c.hands,[e]:[...c.hands[e],...h]},deck:f,currentTurn:c.currentTurn===c.players.host?c.players.guest:c.players.host,drawCount:0,lastMove:{player:e,action:"draw",timestamp:Date.now()},lastActivity:Date.now()},E=Mi(p);return await Mu(i,E),!0}catch(i){return console.error("Error drawing cards:",i),!1}}const e8=Object.freeze(Object.defineProperty({__proto__:null,drawCardsMultiplayer:Ww,initializeChessGame:Gw,initializeMultiplayerGame:zw,initializeNineMensMorrisGame:Bw,initializeRummyGame:Hw,playCardMultiplayer:Kw,subscribeToGameState:Vw},Symbol.toStringTag,{value:"Module"}));function b0({onBack:t,onGameEnd:e,friendCode:n,gameId:i,opponentUsername:o,currentUsername:c}){const[d,h]=_.useState([]),[f,p]=_.useState([]),[E,y]=_.useState([]),[b,T]=_.useState([]),[N,R]=_.useState("player"),[I,O]=_.useState("playing"),[$,U]=_.useState(null),[K,ne]=_.useState(0),[P,Z]=_.useState(!1),[J,we]=_.useState(null),[De,ve]=_.useState(!1),he=!!i;_.useEffect(()=>{if(!i||!c)return;ve(!0);const ue=Vw(i,Ce=>{if(!Ce)return;h(Ce.deck||[]),p(Ce.discardPile||[]);const st=Ce.wishedSuit!==null&&Ce.wishedSuit!==void 0?Number(Ce.wishedSuit):null;U(st),ne(Ce.drawCount||0),y(Ce.hands[c]||[]);const it=Ce.players.host===c?Ce.players.guest:Ce.players.host;T(Ce.hands[it]||[]),R(Ce.currentTurn===c?"player":"ai"),Ce.status==="finished"&&(Ce.winner===c?O("won"):O("lost")),ve(!1)});return()=>{ue()}},[i,c]);const[qe,W]=_.useState(!1),[Y,k]=_.useState(!1),H=_.useCallback(()=>f[f.length-1],[f]),ae=_.useCallback(ue=>{p(Ce=>[...Ce,ue])},[]),Se=_.useCallback(()=>{R(ue=>ue==="player"?"ai":"player")},[]),ge=_.useCallback((ue,Ce,st)=>{let it=0,Te=null;ue.rank===Mn.SEVEN?it=K+2:ue.rank===Mn.JACK&&(Ce==="player"?Te=st||null:Te=[$n.HEARTS,$n.DIAMONDS,$n.CLUBS,$n.SPADES][Math.floor(Math.random()*4)]),ne(it),U(Te),ue.rank===Mn.EIGHT?R(Ce):Se()},[K,Se]),w=_.useCallback((ue,Ce)=>{if(console.log("[SkatGame] playCard called",{card:ue,suitWish:Ce,isMultiplayer:he,gameId:i,currentUsername:c}),he){if(i&&c){const st=E.filter(it=>it.id!==ue.id);Kw(i,c,ue,st,Ce)}else console.error("[SkatGame] Missing multiplayer data:",{gameId:i,currentUsername:c});return}y(st=>st.filter(it=>it.id!==ue.id)),ae(ue),ge(ue,"player",Ce),E.filter(st=>st.id!==ue.id).length===0&&O("won")},[E,ae,ge,he,i,c]),q=_.useCallback(ue=>{if(he){ue==="player"&&i&&c&&Ww(i,c,K>0?K:1);return}if(d.length===0){if(f.length<=1)return;const Ce=f[f.length-1],st=f.slice(0,f.length-1),it=wf(st);h(it),p([Ce]);const Te=K>0?K:1,{drawn:Ee,remaining:ye}=Ji(it,Te);ue==="player"?y(ie=>[...ie,...Ee]):T(ie=>[...ie,...Ee]),h(ye)}else{const Ce=K>0?K:1,st=Math.min(Ce,d.length),{drawn:it,remaining:Te}=Ji(d,st);ue==="player"?y(Ee=>[...Ee,...it]):T(Ee=>[...Ee,...it]),h(Te)}ne(0),Se()},[d,f,K,Se,he,i,c]),L=_.useCallback(()=>{if(he)return;const ue=H(),Ce=b.filter(st=>Th(st,ue,$||void 0));if(Ce.length>0){const it=Ce.find(Te=>Te.isAction)||Ce[0];T(Te=>Te.filter(Ee=>Ee.id!==it.id)),ae(it),ge(it,"ai"),b.filter(Te=>Te.id!==it.id).length===0&&O("lost")}else q("ai")},[b,$,H,q,ae,ge,he]),se=_.useCallback(()=>{if(he)return;const ue=tx(),{drawn:Ce,remaining:st}=Ji(ue,5),{drawn:it,remaining:Te}=Ji(st,5),{drawn:Ee,remaining:ye}=Ji(Te,1);y(Ce),T(it),p(Ee),h(ye),R("player"),O("playing"),U(null),ne(0),Z(!1),we(null),Ee[0].rank===Mn.SEVEN&&ne(2)},[he]);_.useEffect(()=>{se()},[se]),_.useEffect(()=>{if(N==="ai"&&I==="playing"){const ue=setTimeout(()=>{L()},1500);return()=>clearTimeout(ue)}},[N,I,L]);const Le=ue=>{if(console.log("[SkatGame] Card clicked:",ue,"Turn:",N,"Status:",I),N!=="player"||I!=="playing")return;const Ce=H();if(console.log("[SkatGame] Validating against top card:",Ce,"Wished:",$),Th(ue,Ce,$||void 0)){if(ue.rank===Mn.JACK){we(ue),Z(!0);return}w(ue)}else console.log("[SkatGame] Invalid move")},xe=ue=>{J&&(w(J,ue),Z(!1),we(null))},Ae=ue=>{console.log("Adding friend:",ue)},Ge=ue=>l.jsx("span",{style:{color:bg(ue),fontSize:"1.5rem"},children:vg(ue)});return l.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-between p-4 overflow-hidden z-[100] geo-pattern geo-shapes",style:{background:"var(--color-bg)"},children:[l.jsxs("div",{className:"absolute top-0 left-0 right-0 flex h-3 w-full z-50",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#0096FF"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsxs("div",{className:"w-full max-w-6xl flex justify-between items-center relative z-10 mt-6 px-4",children:[l.jsx("button",{onClick:t,className:"w-14 h-14 flex items-center justify-center transition-all active:translate-y-1 hover:-translate-y-1",style:{background:"#FF006E",border:"3px solid var(--color-border)",boxShadow:"4px 4px 0px var(--color-border)"},children:l.jsx(vn,{size:26,style:{color:"var(--color-text)"}})}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-black uppercase tracking-widest",style:{color:"var(--color-text)",transform:"skewX(-3deg)"},children:"Mau Mau"}),he&&l.jsxs("div",{className:"flex items-center gap-2 mt-1 px-3 py-1 rounded-full border-2 border-[var(--color-border)]",style:{background:"#06FFA5"},children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-black animate-pulse"}),l.jsx("span",{className:"text-[10px] font-bold text-[var(--color-text)] uppercase tracking-wider",children:"Multiplayer"})]})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx("button",{onClick:()=>k(!0),className:"w-12 h-12 flex items-center justify-center transition-all active:translate-y-1",style:{background:"#8338EC",border:"3px solid var(--color-border)",boxShadow:"4px 4px 0px var(--color-border)"},children:l.jsx(Zn,{size:20,style:{color:"#FFF"}})})})]}),l.jsx("div",{className:"flex -space-x-8 pt-8 relative z-0",children:b.map((ue,Ce)=>l.jsxs(y0.div,{initial:{y:-100},animate:{y:0},className:"w-20 h-32 rounded-xl border-2 border-[var(--color-border)] shadow-xl relative overflow-hidden",style:{zIndex:Ce,background:"#8338EC"},children:[l.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuMDUiLz4KPC9zdmc+')]"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-10 h-10 bg-[var(--color-surface)] rounded-full flex items-center justify-center border-2 border-[var(--color-border)]",children:l.jsx("span",{className:"font-black text-xs",children:"AI"})})})]},`ai-${ue.id}`))}),l.jsxs("div",{className:"flex items-center gap-8 md:gap-12 my-6 relative z-0",children:[l.jsx("div",{onClick:()=>N==="player"&&q("player"),className:`w-28 h-40 rounded-2xl flex items-center justify-center cursor-pointer transition-transform relative overflow-hidden group border-4 border-[var(--color-border)] shadow-[6px_6px_0px_#000] ${N==="player"?"animate-pulse":""}`,style:{background:"var(--color-surface)"},children:l.jsxs("div",{className:"font-black text-center z-10 group-hover:scale-110 transition-transform",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest mb-1 text-[var(--color-text)]",children:"Deck"}),l.jsx("div",{className:"text-3xl font-mono text-[var(--color-text)]",children:d.length})]})}),l.jsxs("div",{className:"relative w-28 h-40",children:[f.slice(-3).map((ue,Ce)=>l.jsx(y0.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1,rotate:Math.random()*6-3},className:"absolute inset-0",style:{zIndex:Ce},children:l.jsx("img",{src:CS(ue),alt:`${Tg(ue.suit)} ${ue.rank}`,className:"w-full h-full object-contain drop-shadow-2xl",onError:st=>{st.target.src="https://placehold.co/100x150?text=Card"}})},ue.id)),$!==null&&l.jsxs("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2 px-4 py-2 rounded-xl shadow-xl animate-bounce flex gap-2 items-center border-2 border-[var(--color-border)] z-20 whitespace-nowrap",style:{background:"var(--color-surface)"},children:[l.jsx("span",{className:"text-[10px] font-black text-[var(--color-text)] uppercase tracking-wider",children:"Wunsch:"}),Ge($)]}),K>0&&l.jsxs("div",{className:"absolute -right-6 -top-6 bg-[#FF006E] text-white w-12 h-12 rounded-full flex items-center justify-center font-black text-lg border-2 border-[var(--color-border)] shadow-lg animate-pulse z-20",children:["+",K]})]})]}),l.jsx("div",{className:"px-8 py-3 rounded-xl shadow-[4px_4px_0px_#000] mb-2 border-2 border-[var(--color-border)]",style:{background:"var(--color-surface)"},children:l.jsx("div",{className:"font-black text-sm uppercase tracking-widest",children:I==="playing"?N==="player"?l.jsx("span",{className:"text-[#06FFA5] animate-pulse bg-black px-2 py-1",children:"Dein Zug"}):l.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:["Gegner denkt nach ",l.jsx("span",{className:"inline-block w-1 h-1 bg-black rounded-full animate-bounce"})]}):I==="won"?l.jsx("span",{className:"text-[#FFBE0B]",children:"Gewonnen!"}):l.jsx("span",{className:"text-[#FF006E]",children:"Verloren"})})}),l.jsx("div",{className:"flex -space-x-8 pb-6 items-end h-48 overflow-visible px-4 perspective-1000 w-full justify-center max-w-3xl",children:l.jsx(gF,{children:E.map((ue,Ce)=>{const st=N==="player"&&Th(ue,H(),$||void 0);return l.jsx(y0.div,{layout:!0,initial:{y:200,opacity:0},animate:{y:st?-30:0,opacity:1,scale:st?1.1:1,zIndex:Ce},whileHover:{y:-60,scale:1.2,zIndex:100},onClick:()=>Le(ue),className:"w-28 h-40 relative cursor-pointer transition-all duration-200 origin-bottom",children:l.jsx("img",{src:CS(ue),alt:`${Tg(ue.suit)} ${ue.rank}`,className:`w-full h-full object-contain drop-shadow-2xl ${!st&&N==="player"?"brightness-50 grayscale-[50%]":""}`})},ue.id)})})}),l.jsx(Pt,{isOpen:P,title:"Farbe Wnschen",children:l.jsx("div",{className:"grid grid-cols-2 gap-4",children:[$n.HEARTS,$n.DIAMONDS,$n.CLUBS,$n.SPADES].map(ue=>l.jsx("button",{onClick:()=>xe(ue),className:"p-6 bg-[var(--color-surface)]/5 hover:bg-[var(--color-surface)]/10 rounded-2xl flex items-center justify-center text-5xl border-2 border-transparent hover:border-cyan-400 transition-all active:scale-95",children:l.jsx("span",{style:{color:bg(ue)},children:vg(ue)})},ue))})}),l.jsx(Pt,{isOpen:qe,onClose:()=>W(!1),title:"Changelog",children:l.jsx("div",{className:"space-y-4 text-sm",children:l.jsxs("div",{className:"p-4 bg-[var(--color-surface)]/5 rounded-xl border border-white/10",children:[l.jsx("h4",{className:"font-bold text-cyan-400 mb-2 uppercase tracking-wide",children:"v2.7.0 - Mau Mau Update"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-cyan-500",children:""})," Skat Mau Mau umbenannt zu Mau Mau"]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-cyan-500",children:""})," Neues Design im LexiMix Stil"]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-cyan-500",children:""})," Belohnungen fr Siege (XP & Coins)"]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-cyan-500",children:""})," Freundesliste (Beta)"]})]})]})})}),l.jsx(JU,{isOpen:Y,onClose:()=>k(!1),friendCode:n,onAddFriend:Ae}),l.jsx(Pt,{isOpen:I!=="playing",title:I==="won"?"VICTORY!":"DEFEAT",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-6 animate-bounce drop-shadow-lg",children:I==="won"?"":""}),l.jsx("p",{className:"text-gray-400 mb-8 font-medium",children:I==="won"?"Du hast das Match dominiert!":"Der Gegner war besser."}),I==="won"?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[l.jsxs("div",{className:"bg-yellow-500/10 px-5 py-3 rounded-2xl flex flex-col items-center border border-yellow-500/30 min-w-[100px]",children:[l.jsx("span",{className:"text-[10px] font-bold text-yellow-500 uppercase tracking-widest mb-1",children:"Coins"}),l.jsxs("div",{className:"flex items-center gap-1 text-2xl font-black text-yellow-400",children:[l.jsx(Rs,{size:20,fill:"currentColor"})," 150"]})]}),l.jsxs("div",{className:"bg-purple-500/10 px-5 py-3 rounded-2xl flex flex-col items-center border border-purple-500/30 min-w-[100px]",children:[l.jsx("span",{className:"text-[10px] font-bold text-purple-500 uppercase tracking-widest mb-1",children:"XP"}),l.jsxs("div",{className:"flex items-center gap-1 text-2xl font-black text-purple-400",children:[l.jsx(Tu,{size:20,fill:"currentColor"})," 75"]})]})]}),l.jsxs("button",{onClick:()=>e(150,75),className:"w-full py-4 font-black uppercase tracking-widest transition-all active:scale-95 flex items-center justify-center gap-2",style:{background:"#FFBE0B",color:"var(--color-text)",border:"3px solid var(--color-border)",boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsx(Ya,{size:18,className:"mr-2",fill:"currentColor"}),"Belohnung abholen"]})]}):l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("button",{onClick:se,className:"w-full py-3 font-black uppercase transition-all active:scale-95 flex items-center justify-center gap-2",style:{background:"#06FFA5",color:"var(--color-text)",border:"3px solid var(--color-border)",boxShadow:"4px 4px 0px var(--color-border)"},children:[l.jsx(Ag,{size:18}),"Nochmal versuchen"]}),l.jsx("button",{onClick:t,className:"w-full py-3 font-black uppercase transition-all active:scale-95",style:{background:"#F5F5F5",color:"var(--color-text)",border:"3px solid var(--color-border)"},children:"Zurck zum Men"})]})]})})]})}const t8=({isOpen:t,onClose:e,currentUsername:n,friends:i,onStartGame:o,onInviteSent:c,mode:d=me.SKAT_MAU_MAU})=>{const[h,f]=_.useState([]),[p,E]=_.useState(new Map),[y,b]=_.useState(!1),[T,N]=_.useState(!1),[R,I]=_.useState(0);_.useEffect(()=>{if(!t||!n)return;const P=At(Rt,`gameInvites/${n}`);return oa(P,Z=>{if(Z.exists()){const J=Z.val(),we=Object.values(J);f(we.filter(De=>De.status==="pending"))}else f([])}),()=>{Ja(P)}},[t,n]),_.useEffect(()=>{if(!t||!n||p.size===0)return;const P=[];return p.forEach((Z,J)=>{const we=At(Rt,`games/${Z}`);oa(we,De=>{var ve;if(De.exists()){const he=De.val();he.status==="playing"&&((ve=he.players)==null?void 0:ve.host)===n&&(console.log("[Multiplayer] Game accepted by guest, starting game for host"),E(qe=>{const W=new Map(qe);return W.delete(J),W}),o(J,Z),e())}}),P.push(()=>Ja(we))}),()=>{P.forEach(Z=>Z())}},[t,n,p,o,e]),_.useEffect(()=>{let P;return T?P=setInterval(()=>{I(Z=>Z+1),R%2===0&&Xt(async()=>{const{findMatch:Z}=await import("./matchmaking-BjUpIg_S.js");return{findMatch:Z}},[],import.meta.url).then(({findMatch:Z})=>{Z(d,n,n)})},1e3):I(0),()=>clearInterval(P)},[T,d,n,R]);const O=async()=>{N(!0);try{const{joinMatchmakingQueue:P,listenForMatch:Z,leaveMatchmakingQueue:J}=await Xt(async()=>{const{joinMatchmakingQueue:De,listenForMatch:ve,leaveMatchmakingQueue:he}=await import("./matchmaking-BjUpIg_S.js");return{joinMatchmakingQueue:De,listenForMatch:ve,leaveMatchmakingQueue:he}},[],import.meta.url);await P(d,n,n,"EN");const we=Z(n,async De=>{De.mode===d&&(N(!1),o(De.opponentName,De.gameId),e())});window.matchListener=we}catch(P){console.error("Error starting matchmaking:",P),N(!1)}},$=async()=>{N(!1);try{const{leaveMatchmakingQueue:P}=await Xt(async()=>{const{leaveMatchmakingQueue:Z}=await import("./matchmaking-BjUpIg_S.js");return{leaveMatchmakingQueue:Z}},[],import.meta.url);await P(d,n),window.matchListener&&window.matchListener()}catch(P){console.error("Error leaving queue:",P)}},U=async P=>{if(p.has(P))return;b(!0);const Z=`game_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;try{const J={from:n,to:P,gameId:Z,timestamp:Date.now(),status:"pending",mode:d};await Dn(At(Rt,`gameInvites/${P}/${Z}`),J),E(we=>new Map(we).set(P,Z)),c&&c(P,Z),setTimeout(()=>{E(we=>{const De=new Map(we);return De.delete(P),De})},6e4)}catch(J){console.error("Error sending invite:",J)}b(!1)},K=async P=>{b(!0);try{await Dn(At(Rt,`gameInvites/${n}/${P.gameId}/status`),"accepted");const Z=P.mode||me.SKAT_MAU_MAU;if(Z===me.CHESS)await Gw(P.gameId,P.from,n);else if(Z===me.NINE_MENS_MORRIS)await Bw(P.gameId,P.from,n);else if(Z===me.CHECKERS)await Dn(At(Rt,`games/${P.gameId}`),{players:{host:P.from,guest:n},status:"playing",currentPlayer:"red",createdAt:Date.now()});else if(Z===me.RUMMY)await Hw(P.gameId,P.from,n);else{let J=tx();J=wf(J);const we=Ji(J,5),De=we.drawn;J=we.remaining;const ve=Ji(J,5),he=ve.drawn;J=ve.remaining;const qe=Ji(J,1),W=qe.drawn;J=qe.remaining,await zw(P.gameId,P.from,n,J,W,De,he)}f(J=>J.filter(we=>we.gameId!==P.gameId)),o(P.from,P.gameId),e()}catch(Z){console.error("Error accepting invite:",Z)}b(!1)},ne=async P=>{try{await Dn(At(Rt,`gameInvites/${n}/${P.gameId}/status`),"declined"),f(Z=>Z.filter(J=>J.gameId!==P.gameId))}catch(Z){console.error("Error declining invite:",Z)}};return l.jsx(Pt,{isOpen:t,onClose:e,title:`Lobby: ${d===me.CHESS?"CHESS":"MAU MAU"}`,children:l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("div",{className:"relative bg-gradient-to-br from-purple-500 to-pink-500 border-4 border-black p-4",style:{transform:"skew(-1deg)",boxShadow:"6px 6px 0px #000"},children:l.jsxs("div",{style:{transform:"skew(1deg)"},children:[l.jsxs("h4",{className:"text-sm font-black text-black mb-3 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Zn,{size:16})," RANDOM MATCH"]}),T?l.jsxs("div",{className:"text-center py-4 bg-black/20 border-2 border-black rounded-lg",children:[l.jsx("div",{className:"animate-spin w-10 h-10 border-4 border-white border-t-transparent rounded-full mx-auto mb-3"}),l.jsx("p",{className:"text-white font-black text-lg animate-pulse uppercase",children:"Suche Gegner..."}),l.jsxs("p",{className:"text-sm text-white/80 mt-1 font-mono",children:[R,"s"]}),l.jsx("button",{onClick:$,className:"mt-4 px-6 py-2 bg-red-500 hover:bg-red-400 text-white border-3 border-black font-black uppercase text-sm transition-all hover:translate-x-1 hover:-translate-y-1",style:{boxShadow:"4px 4px 0px #000"},children:"ABBRECHEN"})]}):l.jsxs("button",{onClick:O,className:"w-full py-4 bg-yellow-400 hover:bg-yellow-300 text-black font-black uppercase text-lg border-4 border-black transition-all flex items-center justify-center gap-3 group hover:translate-x-1 hover:-translate-y-1",style:{boxShadow:"6px 6px 0px #000"},children:[l.jsx(Zn,{size:24,className:"group-hover:rotate-12 transition-transform"}),"GEGNER FINDEN"]})]})}),l.jsxs("div",{className:"relative flex py-2 items-center",children:[l.jsx("div",{className:"flex-grow border-t border-gray-700"}),l.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-500 text-xs uppercase",children:"ODER"}),l.jsx("div",{className:"flex-grow border-t border-gray-700"})]}),h.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-bold text-yellow-400 mb-3 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Qr,{size:16})," Einladungen (",h.length,")"]}),l.jsx("div",{className:"space-y-2",children:h.map(P=>l.jsxs("div",{className:"flex items-center justify-between bg-yellow-900/20 border-2 border-yellow-500/50 rounded-xl p-3 animate-pulse",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-600 to-orange-600 rounded-full flex items-center justify-center",children:P.mode===me.CHESS?l.jsx(Xr,{size:20,className:"text-white"}):l.jsx(Zn,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-white",children:P.from}),l.jsxs("p",{className:"text-xs text-gray-400",children:[P.mode===me.CHESS?"Schach":"Mau Mau"," Einladung"]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>K(P),disabled:y,className:"p-2 bg-green-600 hover:bg-green-500 rounded-lg transition-colors disabled:opacity-50",children:l.jsx(Xn,{size:18,className:"text-white"})}),l.jsx("button",{onClick:()=>ne(P),disabled:y,className:"p-2 bg-red-600 hover:bg-red-500 rounded-lg transition-colors disabled:opacity-50",children:l.jsx(Al,{size:18,className:"text-white"})})]})]},P.gameId))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-300 mb-3 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Zn,{size:16})," Freunde einladen"]}),i.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(PS,{size:48,className:"mx-auto mb-3 opacity-30"}),l.jsx("p",{className:"text-sm",children:"Keine Freunde hinzugefgt"}),l.jsx("p",{className:"text-xs mt-1",children:"Fge Freunde ber deinen Profil hinzu"})]}):l.jsx("div",{className:"space-y-2",children:i.map(P=>{const Z=p.has(P.username);return l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/50 border border-gray-700 rounded-xl p-3 hover:bg-gray-800/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:l.jsx(Zn,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-white",children:P.username}),l.jsx("p",{className:"text-xs text-gray-500",children:"Online"})]})]}),Z?l.jsxs("div",{className:"text-xs text-yellow-400 font-bold flex items-center gap-2",children:[l.jsx(Qr,{size:14})," Gesendet..."]}):l.jsxs("button",{onClick:()=>U(P.username),disabled:y,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:brightness-110 rounded-lg text-white font-bold text-sm transition-all disabled:opacity-50 flex items-center gap-2",children:[l.jsx(c2,{size:14})," Einladen"]})]},P.code)})})]}),l.jsx(zc,{fullWidth:!0,onClick:e,variant:"secondary",children:"Schlieen"})]})})};function n8(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}async function s8(t,e){try{const n=At(Rt,`friendCodes/${e}`);await Dn(n,{username:t,timestamp:Date.now()})}catch(n){throw console.error("Error saving friend code:",n),n}}async function Yw(t){try{const e=At(Rt,`friendCodes/${t}`),n=await Dl(e);return n.exists()?n.val().username:null}catch(e){return console.error("Error looking up friend code:",e),null}}async function qw(t,e,n,i){try{const o=Date.now(),c=At(Rt,`users/${t}/friends/${n}`);await Dn(c,{code:n,username:i,addedAt:o});const d=At(Rt,`users/${i}/friends/${e}`);return await Dn(d,{code:e,username:t,addedAt:o}),!0}catch(o){return console.error("Error adding friend:",o),!1}}async function $w(t,e,n,i){try{const o=At(Rt,`users/${t}/friends/${n}`);await Dn(o,null);const c=At(Rt,`users/${i}/friends/${e}`);return await Dn(c,null),!0}catch(o){return console.error("Error removing friend:",o),!1}}async function i8(t){try{const e=At(Rt,`users/${t}/friends`),n=await Dl(e);if(n.exists()){const i=n.val();return Object.values(i)}return[]}catch(e){return console.error("Error fetching friends:",e),[]}}const IS=Object.freeze(Object.defineProperty({__proto__:null,addFriendToFirebase:qw,generateFriendCode:n8,getFriendsFromFirebase:i8,getUsernameByFriendCode:Yw,removeFriendFromFirebase:$w,saveFriendCodeToFirebase:s8},Symbol.toStringTag,{value:"Module"})),MS=["#FF006E","#FF7F00","#FFBE0B","#06FFA5","#0096FF","#8338EC"],r8=({isOpen:t,onClose:e,currentUsername:n,friendCode:i,friends:o,onFriendsUpdate:c})=>{const[d,h]=_.useState(""),[f,p]=_.useState(!1),[E,y]=_.useState(""),[b,T]=_.useState(""),[N,R]=_.useState(!1),I=()=>{navigator.clipboard.writeText(i),R(!0),setTimeout(()=>R(!1),2e3)},O=async()=>{const U=d.trim().toUpperCase();if(!U){y("Bitte gib einen Freundescode ein");return}if(U===i){y("Du kannst dich nicht selbst hinzufgen");return}if(o.some(K=>K.code===U)){y("Dieser Freund ist bereits in deiner Liste");return}p(!0),y(""),T("");try{const K=await Yw(U);if(!K){y("Freundescode nicht gefunden"),p(!1);return}if(await qw(n,i,U,K)){const P=[...o,{code:U,username:K}];c(P),T(`${K} wurde hinzugefgt!`),h(""),setTimeout(()=>T(""),3e3)}else y("Fehler beim Hinzufgen")}catch{y("Verbindungsfehler")}p(!1)},$=async(U,K)=>{p(!0);try{if(await $w(n,i,U,K)){const P=o.filter(Z=>Z.code!==U);c(P)}}catch(ne){console.error("Error removing friend:",ne)}p(!1)};return l.jsx(Pt,{isOpen:t,onClose:e,title:"Freunde",children:l.jsxs("div",{className:"space-y-5",children:[l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"w-16 h-16 mx-auto flex items-center justify-center mb-3 relative",style:{background:"linear-gradient(135deg, #8338EC, #FF006E)",borderRadius:"16px",boxShadow:"0 8px 24px rgba(131,56,236,0.4)"},children:[l.jsx(Zn,{size:32,style:{color:"#FFF"}}),l.jsx("div",{className:"absolute -top-1 -right-1",children:l.jsx(GI,{size:14,fill:"#FF006E",style:{color:"#FF006E"}})})]})}),l.jsxs("div",{className:"p-4 relative overflow-hidden",style:{background:"var(--color-surface)",border:"3px solid #000",borderRadius:"16px",boxShadow:"6px 6px 0px #8338EC"},children:[l.jsxs("div",{className:"absolute top-0 left-0 right-0 h-1.5 flex",style:{borderRadius:"13px 13px 0 0",overflow:"hidden"},children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#0096FF"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsx("div",{className:"absolute top-3 right-3 opacity-20",children:l.jsx(Cn,{size:20,style:{color:"#8338EC"}})}),l.jsx("p",{className:"text-xs font-black uppercase tracking-wider mt-2 mb-2",style:{color:"#8338EC"},children:"Dein Freundescode"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex-1 px-4 py-3 font-mono text-xl font-black tracking-widest",style:{background:"#F5F5F5",color:"#1a1a2e",borderRadius:"10px"},children:i}),l.jsx("button",{onClick:I,className:"p-3 transition-all active:scale-95",style:{background:N?"linear-gradient(135deg, #06FFA5, #00D68F)":"linear-gradient(135deg, #8338EC, #6B21A8)",borderRadius:"10px",boxShadow:N?"0 4px 12px rgba(6,255,165,0.3)":"0 4px 12px rgba(131,56,236,0.3)"},children:N?l.jsx(Xn,{size:20,style:{color:"#FFF"}}):l.jsx(jS,{size:20,style:{color:"#FFF"}})})]}),l.jsx("p",{className:"text-[11px] mt-2",style:{color:"#999"},children:"Teile diesen Code mit Freunden"})]}),l.jsxs("div",{className:"p-4",style:{background:"var(--color-surface)",border:"3px solid #000",borderRadius:"16px",boxShadow:"6px 6px 0px #06FFA5"},children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"p-1.5",style:{background:"#06FFA520",borderRadius:"8px"},children:l.jsx(PS,{size:16,style:{color:"#06FFA5"}})}),l.jsx("p",{className:"text-xs font-black uppercase tracking-wider",style:{color:"#1a1a2e"},children:"Freund hinzufgen"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:d,onChange:U=>{h(U.target.value.toUpperCase()),y("")},placeholder:"CODE EINGEBEN",maxLength:8,className:"flex-1 px-4 py-3 font-mono uppercase focus:outline-none",style:{background:"#F5F5F5",color:"#1a1a2e",borderRadius:"10px",border:"2px solid transparent"},onFocus:U=>U.currentTarget.style.border="2px solid #06FFA5",onBlur:U=>U.currentTarget.style.border="2px solid transparent"}),l.jsx("button",{onClick:O,disabled:f,className:"px-5 font-black text-lg transition-all active:scale-95 disabled:opacity-50",style:{background:"linear-gradient(135deg, #06FFA5, #00D68F)",color:"#000",borderRadius:"10px",boxShadow:"0 4px 12px rgba(6,255,165,0.3)"},children:f?"...":"+"})]}),E&&l.jsxs("div",{className:"mt-3 p-2 text-sm flex items-center gap-2 font-bold",style:{background:"#FF006E20",color:"#FF006E",borderRadius:"8px"},children:[l.jsx(Gc,{size:14})," ",E]}),b&&l.jsxs("div",{className:"mt-3 p-2 text-sm flex items-center gap-2 font-bold",style:{background:"#06FFA520",color:"#00A86B",borderRadius:"8px"},children:[l.jsx(Xn,{size:14})," ",b]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[l.jsx(Zn,{size:16,style:{color:"#8338EC"}}),l.jsxs("p",{className:"text-xs font-black uppercase tracking-wider",style:{color:"#1a1a2e"},children:["Deine Freunde (",o.length,")"]})]}),o.length===0?l.jsxs("div",{className:"text-center py-8",style:{background:"#F5F5F5",borderRadius:"16px"},children:[l.jsx(Zn,{size:40,style:{color:"#CCC"},className:"mx-auto mb-2"}),l.jsx("p",{className:"text-sm font-bold",style:{color:"#999"},children:"Noch keine Freunde"})]}):l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:o.map((U,K)=>{const ne=MS[K%MS.length];return l.jsxs("div",{className:"flex items-center justify-between p-3 transition-all",style:{background:"var(--color-surface)",border:"2px solid #000",borderRadius:"12px",boxShadow:`4px 4px 0px ${ne}`},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 flex items-center justify-center",style:{background:ne,borderRadius:"10px"},children:l.jsx(Tu,{size:18,fill:"#FFF",style:{color:"#FFF"}})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-black text-sm",style:{color:"#1a1a2e"},children:U.username}),l.jsx("p",{className:"text-[10px] font-mono",style:{color:"#999"},children:U.code})]})]}),l.jsx("button",{onClick:()=>$(U.code,U.username),disabled:f,className:"p-2 transition-all active:scale-95 disabled:opacity-50",style:{background:"#FF006E20",borderRadius:"8px"},children:l.jsx(v2,{size:16,style:{color:"#FF006E"}})})]},U.code)})})]}),l.jsx("button",{onClick:e,className:"w-full py-3 font-black uppercase text-sm transition-all active:scale-98",style:{background:"linear-gradient(135deg, #8338EC, #6B21A8)",color:"#FFF",borderRadius:"12px",boxShadow:"0 4px 16px rgba(131,56,236,0.3)"},children:"Schlieen"})]})})},Xw={[me.CLASSIC]:{[pe.DE]:{[x.BEGINNER]:{1:{target:"APFEL",hintTitle:"OBST",hintDesc:"Runde rote Frucht, die vom Baum fllt"},2:{target:"HUND",hintTitle:"TIER",hintDesc:"Bester Freund des Menschen"},3:{target:"SONNE",hintTitle:"NATUR",hintDesc:"Leuchtet am Tag am Himmel"},4:{target:"HAUS",hintTitle:"GEBUDE",hintDesc:"Wo man wohnt"},5:{target:"BUCH",hintTitle:"MEDIEN",hintDesc:"Hat viele Seiten zum Lesen"},6:{target:"AUTO",hintTitle:"VERKEHR",hintDesc:"Fhrt auf vier Rdern"},7:{target:"WASSER",hintTitle:"GETRNK",hintDesc:"Klare Flssigkeit zum Trinken"},8:{target:"BROT",hintTitle:"ESSEN",hintDesc:"Wird beim Bcker gekauft"},9:{target:"BAUM",hintTitle:"PFLANZE",hintDesc:"Gro, grn und hat Bltter"},10:{target:"BALL",hintTitle:"SPIELZEUG",hintDesc:"Rund und kann geworfen werden"},11:{target:"STUHL",hintTitle:"MBEL",hintDesc:"Darauf sitzt man"},12:{target:"BLUME",hintTitle:"PFLANZE",hintDesc:"Bunt und duftet schn"},13:{target:"FISCH",hintTitle:"TIER",hintDesc:"Schwimmt im Wasser"},14:{target:"MOND",hintTitle:"NATUR",hintDesc:"Leuchtet nachts am Himmel"},15:{target:"TISCH",hintTitle:"MBEL",hintDesc:"Man isst darauf"},16:{target:"NASE",hintTitle:"KRPER",hintDesc:"Damit riecht man"},17:{target:"HAND",hintTitle:"KRPER",hintDesc:"Hat fnf Finger"},18:{target:"FEUER",hintTitle:"ELEMENT",hintDesc:"Hei und orange-rot"},19:{target:"SCHNEE",hintTitle:"WETTER",hintDesc:"Wei und kalt im Winter"},20:{target:"STEIN",hintTitle:"NATUR",hintDesc:"Hart und liegt am Boden"}},[x.LEARNER]:{1:{target:"ELEFANT",hintTitle:"TIER",hintDesc:"Grtes Landtier mit Rssel"},2:{target:"REGENBOGEN",hintTitle:"NATUR",hintDesc:"Bunt nach dem Regen"},3:{target:"GITARRE",hintTitle:"MUSIK",hintDesc:"Saiteninstrument mit sechs Saiten"},4:{target:"FENSTER",hintTitle:"GEBUDE",hintDesc:"Durchsichtig, lsst Licht rein"},5:{target:"ANANAS",hintTitle:"OBST",hintDesc:"Tropische Frucht mit stacheliger Schale"},6:{target:"SCHMETTERLING",hintTitle:"TIER",hintDesc:"Buntes Insekt mit Flgeln"},7:{target:"VULKAN",hintTitle:"NATUR",hintDesc:"Berg mit Lava"},8:{target:"BRIEFMARKE",hintTitle:"POST",hintDesc:"Klebt auf dem Umschlag"},9:{target:"PINGUIN",hintTitle:"TIER",hintDesc:"Schwarz-weier Vogel aus der Antarktis"},10:{target:"MARMELADE",hintTitle:"ESSEN",hintDesc:"Ser Aufstrich aus Frchten"},11:{target:"ZEPPELIN",hintTitle:"VERKEHR",hintDesc:"Fliegendes Luftschiff"},12:{target:"KROKODIL",hintTitle:"TIER",hintDesc:"Grnes Reptil mit vielen Zhnen"},13:{target:"TROMPETE",hintTitle:"MUSIK",hintDesc:"Blechblasinstrument"},14:{target:"BIBLIOTHEK",hintTitle:"GEBUDE",hintDesc:"Ort mit vielen Bchern"},15:{target:"SCHOKOLADE",hintTitle:"SSSIGKEIT",hintDesc:"Braune se Leckerei"},16:{target:"PILZ",hintTitle:"PFLANZE",hintDesc:"Wchst im Wald, oft mit Hut"},17:{target:"RAKETE",hintTitle:"VERKEHR",hintDesc:"Fliegt ins Weltall"},18:{target:"KAMEL",hintTitle:"TIER",hintDesc:"Wstentier mit Hcker"},19:{target:"KOMPASS",hintTitle:"WERKZEUG",hintDesc:"Zeigt Norden an"},20:{target:"PYRAMIDE",hintTitle:"BAUWERK",hintDesc:"Dreieckiges Bauwerk in gypten"}},[x.SKILLED]:{1:{target:"PHOTOSYNTHESE",hintTitle:"BIOLOGIE",hintDesc:"Pflanzen produzieren damit Energie"},2:{target:"QUARANTNE",hintTitle:"MEDIZIN",hintDesc:"Isolation bei Krankheit"},3:{target:"STALAGMIT",hintTitle:"GEOLOGIE",hintDesc:"Tropfstein vom Boden nach oben"},4:{target:"QUATOR",hintTitle:"GEOGRAFIE",hintDesc:"Linie um die Erdmitte"},5:{target:"CHRONOLOGIE",hintTitle:"ZEIT",hintDesc:"Zeitliche Abfolge von Ereignissen"},6:{target:"METAPHER",hintTitle:"SPRACHE",hintDesc:"Bildlicher Vergleich"},7:{target:"VENTILATOR",hintTitle:"TECHNIK",hintDesc:"Gert zum Luft bewegen"},8:{target:"TSUNAMI",hintTitle:"NATUR",hintDesc:"Riesige Meereswelle"},9:{target:"FOSSIL",hintTitle:"GESCHICHTE",hintDesc:"Versteinerter berrest"},10:{target:"ASTEROID",hintTitle:"WELTRAUM",hintDesc:"Kleiner Himmelskrper"},11:{target:"MIKROSKOP",hintTitle:"WISSENSCHAFT",hintDesc:"Vergrert winzige Dinge"},12:{target:"DEMOKRATIE",hintTitle:"POLITIK",hintDesc:"Herrschaft des Volkes"},13:{target:"LABYRINTH",hintTitle:"STRUKTUR",hintDesc:"Verwirrender Irrgarten"},14:{target:"SYMPHONIE",hintTitle:"MUSIK",hintDesc:"Groes Orchesterwerk"},15:{target:"GENERATOR",hintTitle:"TECHNIK",hintDesc:"Erzeugt elektrischen Strom"},16:{target:"RENAISSANCE",hintTitle:"GESCHICHTE",hintDesc:"Kulturelle Wiedergeburt"},17:{target:"METAMORPHOSE",hintTitle:"BIOLOGIE",hintDesc:"Verwandlung eines Lebewesens"},18:{target:"ARCHIPEL",hintTitle:"GEOGRAFIE",hintDesc:"Inselgruppe"},19:{target:"KALLIGRAFIE",hintTitle:"KUNST",hintDesc:"Kunstvolle Schnschrift"},20:{target:"FERMENTATION",hintTitle:"CHEMIE",hintDesc:"Grungsprozess"}},[x.EXPERT]:{1:{target:"QUASAR",hintTitle:"ASTRONOMIE",hintDesc:"Extrem leuchtkrftiges Himmelsobjekt"},2:{target:"PALINDROM",hintTitle:"LINGUISTIK",hintDesc:"Wort das rckwrts gleich ist"},3:{target:"FIBONACCI",hintTitle:"MATHEMATIK",hintDesc:"Zahlenfolge: jede Zahl ist Summe der vorherigen zwei"},4:{target:"OXYMORON",hintTitle:"RHETORIK",hintDesc:"Widersprchliche Begriffskombination"},5:{target:"SYNSTHESIE",hintTitle:"PSYCHOLOGIE",hintDesc:"Vermischung der Sinneswahrnehmungen"},6:{target:"EPIPHANIE",hintTitle:"PHILOSOPHIE",hintDesc:"Pltzliche Erkenntnis"},7:{target:"PARADIGMA",hintTitle:"WISSENSCHAFT",hintDesc:"Grundlegendes Denkmuster"},8:{target:"OSMOSE",hintTitle:"CHEMIE",hintDesc:"Stoffaustausch durch Membran"},9:{target:"ANACHRONISMUS",hintTitle:"ZEITBEGRIFF",hintDesc:"Zeitlich falsches Element"},10:{target:"PARADOXON",hintTitle:"LOGIK",hintDesc:"Scheinbarer Widerspruch"},11:{target:"ISOTOP",hintTitle:"CHEMIE",hintDesc:"Element-Variante mit gleicher Protonenzahl"},12:{target:"KATHARSIS",hintTitle:"LITERATUR",hintDesc:"Emotionale Reinigung"},13:{target:"HIEROGLYPHE",hintTitle:"SCHRIFT",hintDesc:"Altgyptisches Bildzeichen"},14:{target:"NEUTRINO",hintTitle:"PHYSIK",hintDesc:"Fast masseloses Elementarteilchen"},15:{target:"AUTARKIE",hintTitle:"WIRTSCHAFT",hintDesc:"Wirtschaftliche Unabhngigkeit"},16:{target:"APORIE",hintTitle:"PHILOSOPHIE",hintDesc:"Unlsbares Problem"},17:{target:"EKKLESIOLOGIE",hintTitle:"THEOLOGIE",hintDesc:"Lehre von der Kirche"},18:{target:"SYMBIOSE",hintTitle:"BIOLOGIE",hintDesc:"Zusammenleben zum gegenseitigen Nutzen"},19:{target:"ENTROPIE",hintTitle:"PHYSIK",hintDesc:"Ma fr Unordnung"},20:{target:"ALLEGORIE",hintTitle:"LITERATUR",hintDesc:"Erweiterte Metapher mit Bedeutungsebenen"}},[x.MASTER]:{1:{target:"SCHWARZSCHILD",hintTitle:"ASTROPHYSIK",hintDesc:"Radius eines schwarzen Lochs"},2:{target:"EPISTEMOLOGIE",hintTitle:"PHILOSOPHIE",hintDesc:"Erkenntnistheorie"},3:{target:"ONOMATOPOEIA",hintTitle:"LINGUISTIK",hintDesc:"Lautmalerei"},4:{target:"TIOLOGIE",hintTitle:"MEDIZIN",hintDesc:"Lehre von den Krankheitsursachen"},5:{target:"QUINTESSENZ",hintTitle:"PHILOSOPHIE",hintDesc:"Das Wesentliche"},6:{target:"PHNOMENOLOGIE",hintTitle:"PHILOSOPHIE",hintDesc:"Lehre von den Erscheinungen"},7:{target:"SUPRALEITFHIGKEIT",hintTitle:"PHYSIK",hintDesc:"Widerstandsloser Stromfluss bei tiefen Temperaturen"},8:{target:"CHIASMUS",hintTitle:"RHETORIK",hintDesc:"berkreuzstellung von Satzgliedern"},9:{target:"PALIMPSEST",hintTitle:"LITERATUR",hintDesc:"Mehrfach beschriebenes Pergament"},10:{target:"HEURISTIK",hintTitle:"LOGIK",hintDesc:"Problemlsungsmethode"},11:{target:"THERMODYNAMIK",hintTitle:"PHYSIK",hintDesc:"Lehre von Energie und Wrme"},12:{target:"AKKLIMATISIERUNG",hintTitle:"BIOLOGIE",hintDesc:"Anpassung an neue Umgebung"},13:{target:"ASYMPTOTE",hintTitle:"MATHEMATIK",hintDesc:"Annherungslinie ohne Berhrung"},14:{target:"APOTHEOSE",hintTitle:"MYTHOLOGIE",hintDesc:"Vergttlichung"},15:{target:"KRYPTOGRAPHIE",hintTitle:"INFORMATIK",hintDesc:"Verschlsselungstechnik"},16:{target:"ANALEPSE",hintTitle:"NARRATOLOGIE",hintDesc:"Rckblende in Erzhlungen"},17:{target:"ZIRKUMPOLAR",hintTitle:"ASTRONOMIE",hintDesc:"Um den Himmelspol kreisend"},18:{target:"DEUTERAGONIST",hintTitle:"DRAMA",hintDesc:"Zweite Hauptfigur"},19:{target:"ONOMATOLOGIE",hintTitle:"LINGUISTIK",hintDesc:"Namensforschung"},20:{target:"SYZYGIE",hintTitle:"ASTRONOMIE",hintDesc:"Konstellation von drei Himmelskrpern"}}},[pe.EN]:{[x.BEGINNER]:{1:{target:"APPLE",hintTitle:"FRUIT",hintDesc:"Red round fruit from tree"},2:{target:"DOG",hintTitle:"ANIMAL",hintDesc:"Man's best friend"},3:{target:"SUN",hintTitle:"NATURE",hintDesc:"Shines in the sky during day"},4:{target:"HOUSE",hintTitle:"BUILDING",hintDesc:"Where people live"},5:{target:"BOOK",hintTitle:"MEDIA",hintDesc:"Has many pages to read"},6:{target:"CAR",hintTitle:"TRANSPORT",hintDesc:"Drives on four wheels"},7:{target:"WATER",hintTitle:"DRINK",hintDesc:"Clear liquid for drinking"},8:{target:"BREAD",hintTitle:"FOOD",hintDesc:"Bought at the bakery"},9:{target:"TREE",hintTitle:"PLANT",hintDesc:"Tall, green with leaves"},10:{target:"BALL",hintTitle:"TOY",hintDesc:"Round and can be thrown"},11:{target:"CHAIR",hintTitle:"FURNITURE",hintDesc:"You sit on it"},12:{target:"FLOWER",hintTitle:"PLANT",hintDesc:"Colorful and smells nice"},13:{target:"FISH",hintTitle:"ANIMAL",hintDesc:"Swims in water"},14:{target:"MOON",hintTitle:"NATURE",hintDesc:"Shines at night"},15:{target:"TABLE",hintTitle:"FURNITURE",hintDesc:"You eat on it"},16:{target:"NOSE",hintTitle:"BODY",hintDesc:"You smell with it"},17:{target:"HAND",hintTitle:"BODY",hintDesc:"Has five fingers"},18:{target:"FIRE",hintTitle:"ELEMENT",hintDesc:"Hot and orange-red"},19:{target:"SNOW",hintTitle:"WEATHER",hintDesc:"White and cold in winter"},20:{target:"STONE",hintTitle:"NATURE",hintDesc:"Hard and on the ground"}},[x.LEARNER]:{1:{target:"ELEPHANT",hintTitle:"ANIMAL",hintDesc:"Largest land animal with trunk"},2:{target:"RAINBOW",hintTitle:"NATURE",hintDesc:"Colorful after rain"},3:{target:"GUITAR",hintTitle:"MUSIC",hintDesc:"String instrument with six strings"},4:{target:"WINDOW",hintTitle:"BUILDING",hintDesc:"Transparent, lets light in"},5:{target:"PINEAPPLE",hintTitle:"FRUIT",hintDesc:"Tropical fruit with spiky skin"},6:{target:"BUTTERFLY",hintTitle:"ANIMAL",hintDesc:"Colorful insect with wings"},7:{target:"VOLCANO",hintTitle:"NATURE",hintDesc:"Mountain with lava"},8:{target:"STAMP",hintTitle:"POST",hintDesc:"Sticks on envelope"},9:{target:"PENGUIN",hintTitle:"ANIMAL",hintDesc:"Black-white bird from Antarctica"},10:{target:"JAM",hintTitle:"FOOD",hintDesc:"Sweet spread made from fruit"},11:{target:"ZEPPELIN",hintTitle:"TRANSPORT",hintDesc:"Flying airship"},12:{target:"CROCODILE",hintTitle:"ANIMAL",hintDesc:"Green reptile with many teeth"},13:{target:"TRUMPET",hintTitle:"MUSIC",hintDesc:"Brass wind instrument"},14:{target:"LIBRARY",hintTitle:"BUILDING",hintDesc:"Place with many books"},15:{target:"CHOCOLATE",hintTitle:"SWEET",hintDesc:"Brown sweet treat"},16:{target:"MUSHROOM",hintTitle:"PLANT",hintDesc:"Grows in forest, often with cap"},17:{target:"ROCKET",hintTitle:"TRANSPORT",hintDesc:"Flies to outer space"},18:{target:"CAMEL",hintTitle:"ANIMAL",hintDesc:"Desert animal with hump"},19:{target:"COMPASS",hintTitle:"TOOL",hintDesc:"Shows north"},20:{target:"PYRAMID",hintTitle:"STRUCTURE",hintDesc:"Triangular building in Egypt"}},[x.SKILLED]:{1:{target:"PHOTOSYNTHESIS",hintTitle:"BIOLOGY",hintDesc:"Plants produce energy with this"},2:{target:"QUARANTINE",hintTitle:"MEDICINE",hintDesc:"Isolation during illness"},3:{target:"STALAGMITE",hintTitle:"GEOLOGY",hintDesc:"Cave formation growing upward"},4:{target:"EQUATOR",hintTitle:"GEOGRAPHY",hintDesc:"Line around Earth's middle"},5:{target:"CHRONOLOGY",hintTitle:"TIME",hintDesc:"Sequence of events in time"},6:{target:"METAPHOR",hintTitle:"LANGUAGE",hintDesc:"Figurative comparison"},7:{target:"VENTILATOR",hintTitle:"TECH",hintDesc:"Device to move air"},8:{target:"TSUNAMI",hintTitle:"NATURE",hintDesc:"Giant sea wave"},9:{target:"FOSSIL",hintTitle:"HISTORY",hintDesc:"Petrified remains"},10:{target:"ASTEROID",hintTitle:"SPACE",hintDesc:"Small celestial body"},11:{target:"MICROSCOPE",hintTitle:"SCIENCE",hintDesc:"Magnifies tiny things"},12:{target:"DEMOCRACY",hintTitle:"POLITICS",hintDesc:"Rule by the people"},13:{target:"LABYRINTH",hintTitle:"STRUCTURE",hintDesc:"Confusing maze"},14:{target:"SYMPHONY",hintTitle:"MUSIC",hintDesc:"Large orchestral work"},15:{target:"GENERATOR",hintTitle:"TECH",hintDesc:"Creates electrical power"},16:{target:"RENAISSANCE",hintTitle:"HISTORY",hintDesc:"Cultural rebirth"},17:{target:"METAMORPHOSIS",hintTitle:"BIOLOGY",hintDesc:"Transformation of organism"},18:{target:"ARCHIPELAGO",hintTitle:"GEOGRAPHY",hintDesc:"Island group"},19:{target:"CALLIGRAPHY",hintTitle:"ART",hintDesc:"Artistic beautiful writing"},20:{target:"FERMENTATION",hintTitle:"CHEMISTRY",hintDesc:"Process of fermentation"}},[x.EXPERT]:{1:{target:"QUASAR",hintTitle:"ASTRONOMY",hintDesc:"Extremely bright celestial object"},2:{target:"PALINDROME",hintTitle:"LINGUISTICS",hintDesc:"Word that reads same backwards"},3:{target:"FIBONACCI",hintTitle:"MATHEMATICS",hintDesc:"Number sequence where each is sum of previous two"},4:{target:"OXYMORON",hintTitle:"RHETORIC",hintDesc:"Contradictory term combination"},5:{target:"SYNESTHESIA",hintTitle:"PSYCHOLOGY",hintDesc:"Mixing of sensory perceptions"},6:{target:"EPIPHANY",hintTitle:"PHILOSOPHY",hintDesc:"Sudden realization"},7:{target:"PARADIGM",hintTitle:"SCIENCE",hintDesc:"Fundamental thought pattern"},8:{target:"OSMOSIS",hintTitle:"CHEMISTRY",hintDesc:"Material exchange through membrane"},9:{target:"ANACHRONISM",hintTitle:"TIME",hintDesc:"Chronologically misplaced element"},10:{target:"PARADOX",hintTitle:"LOGIC",hintDesc:"Apparent contradiction"},11:{target:"ISOTOPE",hintTitle:"CHEMISTRY",hintDesc:"Element variant with same proton number"},12:{target:"CATHARSIS",hintTitle:"LITERATURE",hintDesc:"Emotional purification"},13:{target:"HIEROGLYPH",hintTitle:"WRITING",hintDesc:"Ancient Egyptian pictograph"},14:{target:"NEUTRINO",hintTitle:"PHYSICS",hintDesc:"Nearly massless elementary particle"},15:{target:"AUTARKY",hintTitle:"ECONOMICS",hintDesc:"Economic independence"},16:{target:"APORIA",hintTitle:"PHILOSOPHY",hintDesc:"Unsolvable problem"},17:{target:"ECCLESIOLOGY",hintTitle:"THEOLOGY",hintDesc:"Study of the church"},18:{target:"SYMBIOSIS",hintTitle:"BIOLOGY",hintDesc:"Living together for mutual benefit"},19:{target:"ENTROPY",hintTitle:"PHYSICS",hintDesc:"Measure of disorder"},20:{target:"ALLEGORY",hintTitle:"LITERATURE",hintDesc:"Extended metaphor with meaning layers"}},[x.MASTER]:{1:{target:"SCHWARZSCHILD",hintTitle:"ASTROPHYSICS",hintDesc:"Radius of a black hole"},2:{target:"EPISTEMOLOGY",hintTitle:"PHILOSOPHY",hintDesc:"Theory of knowledge"},3:{target:"ONOMATOPOEIA",hintTitle:"LINGUISTICS",hintDesc:"Words that imitate sounds"},4:{target:"ETIOLOGY",hintTitle:"MEDICINE",hintDesc:"Study of disease causes"},5:{target:"QUINTESSENCE",hintTitle:"PHILOSOPHY",hintDesc:"The essential element"},6:{target:"PHENOMENOLOGY",hintTitle:"PHILOSOPHY",hintDesc:"Study of phenomena"},7:{target:"SUPERCONDUCTIVITY",hintTitle:"PHYSICS",hintDesc:"Zero electrical resistance at low temperatures"},8:{target:"CHIASMUS",hintTitle:"RHETORIC",hintDesc:"Reversal of grammatical structures"},9:{target:"PALIMPSEST",hintTitle:"LITERATURE",hintDesc:"Manuscript written over earlier text"},10:{target:"HEURISTIC",hintTitle:"LOGIC",hintDesc:"Problem-solving method"},11:{target:"THERMODYNAMICS",hintTitle:"PHYSICS",hintDesc:"Study of energy and heat"},12:{target:"ACCLIMATIZATION",hintTitle:"BIOLOGY",hintDesc:"Adaptation to new environment"},13:{target:"ASYMPTOTE",hintTitle:"MATHEMATICS",hintDesc:"Line approaching without touching"},14:{target:"APOTHEOSIS",hintTitle:"MYTHOLOGY",hintDesc:"Deification"},15:{target:"CRYPTOGRAPHY",hintTitle:"COMPUTING",hintDesc:"Encryption technique"},16:{target:"ANALEPSIS",hintTitle:"NARRATOLOGY",hintDesc:"Flashback in narratives"},17:{target:"CIRCUMPOLAR",hintTitle:"ASTRONOMY",hintDesc:"Circling around celestial pole"},18:{target:"DEUTERAGONIST",hintTitle:"DRAMA",hintDesc:"Second main character"},19:{target:"ONOMATOLOGY",hintTitle:"LINGUISTICS",hintDesc:"Study of names"},20:{target:"SYZYGY",hintTitle:"ASTRONOMY",hintDesc:"Alignment of three celestial bodies"}}},[pe.ES]:{[x.BEGINNER]:{1:{target:"MANZANA",hintTitle:"FRUTA",hintDesc:"Fruta roja y redonda"},2:{target:"PERRO",hintTitle:"ANIMAL",hintDesc:"El mejor amigo del hombre"},3:{target:"SOL",hintTitle:"NATURALEZA",hintDesc:"Brilla en el cielo de da"},4:{target:"CASA",hintTitle:"EDIFICIO",hintDesc:"Donde vive la gente"},5:{target:"LIBRO",hintTitle:"MEDIOS",hintDesc:"Tiene pginas para leer"},6:{target:"COCHE",hintTitle:"TRANSPORTE",hintDesc:"Tiene cuatro ruedas"},7:{target:"AGUA",hintTitle:"BEBIDA",hintDesc:"Lquido claro para beber"},8:{target:"PAN",hintTitle:"COMIDA",hintDesc:"Se compra en la panadera"},9:{target:"ARBOL",hintTitle:"PLANTA",hintDesc:"Alto, verde y con hojas"},10:{target:"PELOTA",hintTitle:"JUGUETE",hintDesc:"Redonda y se puede lanzar"},11:{target:"SILLA",hintTitle:"MUEBLE",hintDesc:"Te sientas en ella"},12:{target:"FLOR",hintTitle:"PLANTA",hintDesc:"Colorida y huele bien"},13:{target:"PEZ",hintTitle:"ANIMAL",hintDesc:"Nada en el agua"},14:{target:"LUNA",hintTitle:"NATURALEZA",hintDesc:"Brilla por la noche"},15:{target:"MESA",hintTitle:"MUEBLE",hintDesc:"Comes sobre ella"},16:{target:"NARIZ",hintTitle:"CUERPO",hintDesc:"Hueles con ella"},17:{target:"MANO",hintTitle:"CUERPO",hintDesc:"Tiene cinco dedos"},18:{target:"FUEGO",hintTitle:"ELEMENTO",hintDesc:"Caliente y naranja"},19:{target:"NIEVE",hintTitle:"TIEMPO",hintDesc:"Blanca y fra en invierno"},20:{target:"PIEDRA",hintTitle:"NATURALEZA",hintDesc:"Dura y est en el suelo"}},[x.LEARNER]:{1:{target:"ELEFANTE",hintTitle:"ANIMAL",hintDesc:"Animal grande con trompa"},2:{target:"ARCOIRIS",hintTitle:"NATURALEZA",hintDesc:"Colorido despus de la lluvia"},3:{target:"GUITARRA",hintTitle:"MUSICA",hintDesc:"Instrumento de seis cuerdas"},4:{target:"VENTANA",hintTitle:"EDIFICIO",hintDesc:"Transparente, deja entrar luz"},5:{target:"PIA",hintTitle:"FRUTA",hintDesc:"Fruta tropical con espinas"},6:{target:"MARIPOSA",hintTitle:"ANIMAL",hintDesc:"Insecto colorido con alas"},7:{target:"VOLCAN",hintTitle:"NATURALEZA",hintDesc:"Montaa con lava"},8:{target:"SELLO",hintTitle:"CORREO",hintDesc:"Se pega en el sobre"},9:{target:"PINGUINO",hintTitle:"ANIMAL",hintDesc:"Pjaro blanco y negro del fro"},10:{target:"MERMELADA",hintTitle:"COMIDA",hintDesc:"Dulce de frutas para untar"},11:{target:"ZEPELIN",hintTitle:"TRANSPORTE",hintDesc:"Dirigible volador"},12:{target:"COCODRILO",hintTitle:"ANIMAL",hintDesc:"Reptil verde con muchos dientes"},13:{target:"TROMPETA",hintTitle:"MUSICA",hintDesc:"Instrumento de viento metal"},14:{target:"BIBLIOTECA",hintTitle:"EDIFICIO",hintDesc:"Lugar con muchos libros"},15:{target:"CHOCOLATE",hintTitle:"DULCE",hintDesc:"Golosina marrn"},16:{target:"SETA",hintTitle:"PLANTA",hintDesc:"Hongo con sombrero"},17:{target:"COHETE",hintTitle:"TRANSPORTE",hintDesc:"Vuela al espacio"},18:{target:"CAMELLO",hintTitle:"ANIMAL",hintDesc:"Animal del desierto con joroba"},19:{target:"BRUJULA",hintTitle:"HERRAMIENTA",hintDesc:"Seala el norte"},20:{target:"PIRAMIDE",hintTitle:"ESTRUCTURA",hintDesc:"Edificio triangular en Egipto"}},[x.SKILLED]:{1:{target:"FOTOSINTESIS",hintTitle:"BIOLOGIA",hintDesc:"Plantas crean energa con esto"},2:{target:"CUARENTENA",hintTitle:"MEDICINA",hintDesc:"Aislamiento por enfermedad"},3:{target:"ESTALAGMITA",hintTitle:"GEOLOGIA",hintDesc:"Formacin de cueva hacia arriba"},4:{target:"ECUADOR",hintTitle:"GEOGRAFIA",hintDesc:"Lnea imaginaria media de la Tierra"},5:{target:"CRONOLOGIA",hintTitle:"TIEMPO",hintDesc:"Orden de eventos en el tiempo"},6:{target:"METAFORA",hintTitle:"LENGUAJE",hintDesc:"Comparacin figurativa"},7:{target:"VENTILADOR",hintTitle:"TECNOLOGIA",hintDesc:"Aparato para mover aire"},8:{target:"TSUNAMI",hintTitle:"NATURALEZA",hintDesc:"Ola gigante"},9:{target:"FOSIL",hintTitle:"HISTORIA",hintDesc:"Resto petrificado"},10:{target:"ASTEROIDE",hintTitle:"ESPACIO",hintDesc:"Pequeo cuerpo celeste"},11:{target:"MICROSCOPIO",hintTitle:"CIENCIA",hintDesc:"Agranda cosas diminutas"},12:{target:"DEMOCRACIA",hintTitle:"POLITICA",hintDesc:"Gobierno del pueblo"},13:{target:"LABERINTO",hintTitle:"ESTRUCTURA",hintDesc:"Camino confuso"},14:{target:"SINFONIA",hintTitle:"MUSICA",hintDesc:"Gran obra orquestal"},15:{target:"GENERADOR",hintTitle:"TECNOLOGIA",hintDesc:"Produce electricidad"},16:{target:"RENACIMIENTO",hintTitle:"HISTORIA",hintDesc:"Renacer cultural"},17:{target:"METAMORFOSIS",hintTitle:"BIOLOGIA",hintDesc:"Transformacin de un ser"},18:{target:"ARCHIPIELAGO",hintTitle:"GEOGRAFIA",hintDesc:"Grupo de islas"},19:{target:"CALIGRAFIA",hintTitle:"ARTE",hintDesc:"Arte de escribir bello"},20:{target:"FERMENTACION",hintTitle:"QUIMICA",hintDesc:"Proceso de transformacin"}},[x.EXPERT]:{1:{target:"CUASAR",hintTitle:"ASTRONOMIA",hintDesc:"Objeto celeste muy brillante"},2:{target:"PALINDROMO",hintTitle:"LINGUISTICA",hintDesc:"Se lee igual al revs"},3:{target:"FIBONACCI",hintTitle:"MATEMATICAS",hintDesc:"Secuencia de suma de anteriores"},4:{target:"OXIMORON",hintTitle:"RETORICA",hintDesc:"Combinacin contradictoria"},5:{target:"SINESTESIA",hintTitle:"PSICOLOGIA",hintDesc:"Mezcla de sentidos"},6:{target:"EPIFANIA",hintTitle:"FILOSOFIA",hintDesc:"Revelacin sbita"},7:{target:"PARADIGMA",hintTitle:"CIENCIA",hintDesc:"Modelo de pensamiento"},8:{target:"OSMOSIS",hintTitle:"QUIMICA",hintDesc:"Intercambio por membrana"},9:{target:"ANACRONISMO",hintTitle:"TIEMPO",hintDesc:"Error cronolgico"},10:{target:"PARADOJA",hintTitle:"LOGICA",hintDesc:"Contradiccin aparente"},11:{target:"ISOTOPO",hintTitle:"QUIMICA",hintDesc:"Variante de elemento"},12:{target:"CATARSIS",hintTitle:"LITERATURA",hintDesc:"Purificacin emocional"},13:{target:"JEROGLIFICO",hintTitle:"ESCRITURA",hintDesc:"Smbolo egipcio antiguo"},14:{target:"NEUTRINO",hintTitle:"FISICA",hintDesc:"Partcula casi sin masa"},15:{target:"AUTARQUIA",hintTitle:"ECONOMIA",hintDesc:"Independencia econmica"},16:{target:"APORIA",hintTitle:"FILOSOFIA",hintDesc:"Problema sin solucin"},17:{target:"ECLESIOLOGIA",hintTitle:"TEOLOGIA",hintDesc:"Estudio de la iglesia"},18:{target:"SIMBIOSIS",hintTitle:"BIOLOGIA",hintDesc:"Vida en comn beneficiosa"},19:{target:"ENTROPIA",hintTitle:"FISICA",hintDesc:"Medida del desorden"},20:{target:"ALEGORIA",hintTitle:"LITERATURA",hintDesc:"Metfora extendida"}},[x.MASTER]:{1:{target:"SCHWARZSCHILD",hintTitle:"ASTROFISICA",hintDesc:"Radio de agujero negro"},2:{target:"EPISTEMOLOGIA",hintTitle:"FILOSOFIA",hintDesc:"Teora del conocimiento"},3:{target:"ONOMATOPEYA",hintTitle:"LINGUISTICA",hintDesc:"Palabra que imita sonido"},4:{target:"ETIOLOGIA",hintTitle:"MEDICINA",hintDesc:"Estudio de causas de enfermedad"},5:{target:"QUINTAESENCIA",hintTitle:"FILOSOFIA",hintDesc:"Lo ms puro"},6:{target:"FENOMENOLOGIA",hintTitle:"FILOSOFIA",hintDesc:"Estudio de fenmenos"},7:{target:"SUPRACONDUCTIVIDAD",hintTitle:"FISICA",hintDesc:"Sin resistencia elctrica"},8:{target:"QUIASMO",hintTitle:"RETORICA",hintDesc:"Cruce de estructuras"},9:{target:"PALIMPSESTO",hintTitle:"LITERATURA",hintDesc:"Escrito sobre texto antiguo"},10:{target:"HEURISTICA",hintTitle:"LOGICA",hintDesc:"Mtodo de resolucin"},11:{target:"TERMODINAMICA",hintTitle:"FISICA",hintDesc:"Estudio del calor y energa"},12:{target:"ACLIMATACION",hintTitle:"BIOLOGIA",hintDesc:"Adaptacin a ambiente"},13:{target:"ASINTOTA",hintTitle:"MATEMATICAS",hintDesc:"Lnea que se acerca sin tocar"},14:{target:"APOTEOSIS",hintTitle:"MITOLOGIA",hintDesc:"Deificacin"},15:{target:"CRIPTOGRAFIA",hintTitle:"INFORMATICA",hintDesc:"Tcnica de cifrado"},16:{target:"ANALEPSIS",hintTitle:"NARRATIVA",hintDesc:"Flashback"},17:{target:"CIRCUMPOLAR",hintTitle:"ASTRONOMIA",hintDesc:"Gira alrededor del polo"},18:{target:"DEUTERAGONISTA",hintTitle:"TEATRO",hintDesc:"Segundo personaje principal"},19:{target:"ONOMATOLOGIA",hintTitle:"LINGUISTICA",hintDesc:"Estudio de nombres propios"},20:{target:"SIZIGIA",hintTitle:"ASTRONOMIA",hintDesc:"Alineacin de astros"}}}},[me.CHALLENGE]:{[pe.DE]:{[x.BEGINNER]:{1:{target:"5",hintTitle:"MATHE",hintDesc:"2 + 3",type:"math"},2:{target:"10",hintTitle:"MATHE",hintDesc:"5  2",type:"math"},3:{target:"EIS",hintTitle:"RTSEL",hintDesc:"Gefrorenes Wasser",type:"word"},4:{target:"8",hintTitle:"MATHE",hintDesc:"16  2",type:"math"},5:{target:"LICHT",hintTitle:"RTSEL",hintDesc:"Gegenteil von Dunkelheit",type:"word"},6:{target:"12",hintTitle:"MATHE",hintDesc:"6 + 6",type:"math"},7:{target:"REGEN",hintTitle:"RTSEL",hintDesc:"Fllt vom Himmel wenn es nass wird",type:"word"},8:{target:"15",hintTitle:"MATHE",hintDesc:"3  5",type:"math"},9:{target:"ECHO",hintTitle:"RTSEL",hintDesc:"Kommt zurck wenn man ruft",type:"word"},10:{target:"20",hintTitle:"MATHE",hintDesc:"10 + 10",type:"math"},11:{target:"SCHATTEN",hintTitle:"RTSEL",hintDesc:"Folgt dir aber ist nicht zu greifen",type:"word"},12:{target:"6",hintTitle:"MATHE",hintDesc:"3 + 3",type:"math"},13:{target:"SPIEGEL",hintTitle:"RTSEL",hintDesc:"Zeigt dich aber ist nicht du",type:"word"},14:{target:"9",hintTitle:"MATHE",hintDesc:"18  2",type:"math"},15:{target:"KERZE",hintTitle:"RTSEL",hintDesc:"Je mehr sie brennt, desto kleiner wird sie",type:"word"},16:{target:"14",hintTitle:"MATHE",hintDesc:"7  2",type:"math"},17:{target:"WOLKE",hintTitle:"RTSEL",hintDesc:"Schwebt am Himmel, ist wei oder grau",type:"word"},18:{target:"18",hintTitle:"MATHE",hintDesc:"9 + 9",type:"math"},19:{target:"TRNE",hintTitle:"RTSEL",hintDesc:"Kommt aus dem Auge wenn man weint",type:"word"},20:{target:"25",hintTitle:"MATHE",hintDesc:"5  5",type:"math"}},[x.LEARNER]:{1:{target:"42",hintTitle:"MATHE",hintDesc:"6  7",type:"math"},2:{target:"36",hintTitle:"MATHE",hintDesc:"6",type:"math"},3:{target:"SCHWEIGEN",hintTitle:"RTSEL",hintDesc:"Man hrt es, aber es macht keinen Ton",type:"word"},4:{target:"50",hintTitle:"MATHE",hintDesc:"100  2",type:"math"},5:{target:"GEHEIMNIS",hintTitle:"RTSEL",hintDesc:"Wird leichter wenn man es teilt",type:"word"},6:{target:"64",hintTitle:"MATHE",hintDesc:"8  8",type:"math"},7:{target:"ZUKUNFT",hintTitle:"RTSEL",hintDesc:"Kommt immer aber ist nie da",type:"word"},8:{target:"27",hintTitle:"MATHE",hintDesc:"3",type:"math"},9:{target:"HUNGER",hintTitle:"RTSEL",hintDesc:"Je mehr man isst, desto weniger wird es",type:"word"},10:{target:"100",hintTitle:"MATHE",hintDesc:"10",type:"math"},11:{target:"VERSPRECHEN",hintTitle:"RTSEL",hintDesc:"Leicht zu brechen, schwer zu halten",type:"word"},12:{target:"81",hintTitle:"MATHE",hintDesc:"9",type:"math"},13:{target:"HORIZONT",hintTitle:"RTSEL",hintDesc:"Je nher du kommst, desto weiter entfernt",type:"word"},14:{target:"49",hintTitle:"MATHE",hintDesc:"7",type:"math"},15:{target:"FLAMME",hintTitle:"RTSEL",hintDesc:"Lebt ohne Krper, trinkt ohne Mund",type:"word"},16:{target:"144",hintTitle:"MATHE",hintDesc:"12",type:"math"},17:{target:"GEDANKE",hintTitle:"RTSEL",hintDesc:"Schneller als Licht aber unsichtbar",type:"word"},18:{target:"72",hintTitle:"MATHE",hintDesc:"8  9",type:"math"},19:{target:"MORGEN",hintTitle:"RTSEL",hintDesc:"Kommt nie, aber jeder wartet darauf",type:"word"},20:{target:"125",hintTitle:"MATHE",hintDesc:"5",type:"math"}},[x.SKILLED]:{1:{target:"169",hintTitle:"MATHE",hintDesc:"13",type:"math"},2:{target:"196",hintTitle:"MATHE",hintDesc:"14",type:"math"},3:{target:"PARADOXON",hintTitle:"RTSEL",hintDesc:"Wahre Aussage die sich selbst widerspricht",type:"word"},4:{target:"216",hintTitle:"MATHE",hintDesc:"6",type:"math"},5:{target:"IRONIE",hintTitle:"RTSEL",hintDesc:"Sagt das Gegenteil von dem was gemeint ist",type:"word"},6:{target:"343",hintTitle:"MATHE",hintDesc:"7",type:"math"},7:{target:"AMBIVALENZ",hintTitle:"RTSEL",hintDesc:"Gleichzeitig zwei gegenstzliche Gefhle",type:"word"},8:{target:"512",hintTitle:"MATHE",hintDesc:"8",type:"math"},9:{target:"DILEMMA",hintTitle:"RTSEL",hintDesc:"Wahl zwischen zwei schlechten Optionen",type:"word"},10:{target:"225",hintTitle:"MATHE",hintDesc:"15",type:"math"},11:{target:"NOSTALGIE",hintTitle:"RTSEL",hintDesc:"Sehnsucht nach der Vergangenheit",type:"word"},12:{target:"289",hintTitle:"MATHE",hintDesc:"17",type:"math"},13:{target:"EUPHEMISMUS",hintTitle:"RTSEL",hintDesc:"Beschnigende Umschreibung",type:"word"},14:{target:"361",hintTitle:"MATHE",hintDesc:"19",type:"math"},15:{target:"MELANCHOLIE",hintTitle:"RTSEL",hintDesc:"Tiefe Schwermut ohne klaren Grund",type:"word"},16:{target:"1000",hintTitle:"MATHE",hintDesc:"10",type:"math"},17:{target:"DJVU",hintTitle:"RTSEL",hintDesc:"Gefhl etwas schon mal erlebt zu haben",type:"word"},18:{target:"729",hintTitle:"MATHE",hintDesc:"9",type:"math"},19:{target:"EUPHORIE",hintTitle:"RTSEL",hintDesc:"berschwngliche Hochstimmung",type:"word"},20:{target:"1728",hintTitle:"MATHE",hintDesc:"12",type:"math"}},[x.EXPERT]:{1:{target:"2197",hintTitle:"MATHE",hintDesc:"13",type:"math"},2:{target:"2744",hintTitle:"MATHE",hintDesc:"14",type:"math"},3:{target:"APATHIE",hintTitle:"RTSEL",hintDesc:"Vllige Teilnahmslosigkeit",type:"word"},4:{target:"3375",hintTitle:"MATHE",hintDesc:"15",type:"math"},5:{target:"ANAMNESE",hintTitle:"RTSEL",hintDesc:"Medizinische Vorgeschichte",type:"word"},6:{target:"4096",hintTitle:"MATHE",hintDesc:"16",type:"math"},7:{target:"OBSOLESZENZ",hintTitle:"RTSEL",hintDesc:"Geplanter Verfall oder Veralten",type:"word"},8:{target:"4913",hintTitle:"MATHE",hintDesc:"17",type:"math"},9:{target:"REKURSION",hintTitle:"RTSEL",hintDesc:"Definiert sich selbst durch sich selbst",type:"word"},10:{target:"5832",hintTitle:"MATHE",hintDesc:"18",type:"math"},11:{target:"AMBIGUITT",hintTitle:"RTSEL",hintDesc:"Mehrdeutigkeit",type:"word"},12:{target:"6859",hintTitle:"MATHE",hintDesc:"19",type:"math"},13:{target:"PLEONASMUS",hintTitle:"RTSEL",hintDesc:"Doppelt gemoppelt hlt besser",type:"word"},14:{target:"8000",hintTitle:"MATHE",hintDesc:"20",type:"math"},15:{target:"TAUTOLOGIE",hintTitle:"RTSEL",hintDesc:"Sagt dasselbe zweimal",type:"word"},16:{target:"529",hintTitle:"MATHE",hintDesc:"23",type:"math"},17:{target:"SOPHISMUS",hintTitle:"RTSEL",hintDesc:"Scheinbar logische Trugschluss",type:"word"},18:{target:"625",hintTitle:"MATHE",hintDesc:"25",type:"math"},19:{target:"ANTITHESE",hintTitle:"RTSEL",hintDesc:"Gegenbehauptung",type:"word"},20:{target:"841",hintTitle:"MATHE",hintDesc:"29",type:"math"}},[x.MASTER]:{1:{target:"961",hintTitle:"MATHE",hintDesc:"31",type:"math"},2:{target:"1369",hintTitle:"MATHE",hintDesc:"37",type:"math"},3:{target:"APOPHENIE",hintTitle:"RTSEL",hintDesc:"Muster in zuflligen Daten erkennen",type:"word"},4:{target:"1681",hintTitle:"MATHE",hintDesc:"41",type:"math"},5:{target:"SYNEKDOCHE",hintTitle:"RTSEL",hintDesc:"Teil fr das Ganze setzen",type:"word"},6:{target:"1849",hintTitle:"MATHE",hintDesc:"43",type:"math"},7:{target:"PARONOMASIE",hintTitle:"RTSEL",hintDesc:"Wortspiel mit hnlichen Klngen",type:"word"},8:{target:"2209",hintTitle:"MATHE",hintDesc:"47",type:"math"},9:{target:"ANAKOLUTH",hintTitle:"RTSEL",hintDesc:"Grammatischer Bruch im Satz",type:"word"},10:{target:"2809",hintTitle:"MATHE",hintDesc:"53",type:"math"},11:{target:"METALEPSE",hintTitle:"RTSEL",hintDesc:"Vertauschung zeitlicher Abfolge",type:"word"},12:{target:"3481",hintTitle:"MATHE",hintDesc:"59",type:"math"},13:{target:"HENDIADYOIN",hintTitle:"RTSEL",hintDesc:"Einen Begriff durch zwei ausdrcken",type:"word"},14:{target:"3721",hintTitle:"MATHE",hintDesc:"61",type:"math"},15:{target:"ZEUGMA",hintTitle:"RTSEL",hintDesc:"Ein Verb fr zwei verschiedene Objekte",type:"word"},16:{target:"4489",hintTitle:"MATHE",hintDesc:"67",type:"math"},17:{target:"APOSIOPESE",hintTitle:"RTSEL",hintDesc:"Pltzliches Abbrechen des Satzes",type:"word"},18:{target:"5041",hintTitle:"MATHE",hintDesc:"71",type:"math"},19:{target:"HYPERBATON",hintTitle:"RTSEL",hintDesc:"Ungewhnliche Wortstellung",type:"word"},20:{target:"5329",hintTitle:"MATHE",hintDesc:"73",type:"math"}}},[pe.EN]:{[x.BEGINNER]:{1:{target:"5",hintTitle:"MATH",hintDesc:"2 + 3",type:"math"},2:{target:"10",hintTitle:"MATH",hintDesc:"5  2",type:"math"},3:{target:"ICE",hintTitle:"RIDDLE",hintDesc:"Frozen water",type:"word"},4:{target:"8",hintTitle:"MATH",hintDesc:"16  2",type:"math"},5:{target:"LIGHT",hintTitle:"RIDDLE",hintDesc:"Opposite of darkness",type:"word"},6:{target:"12",hintTitle:"MATH",hintDesc:"6 + 6",type:"math"},7:{target:"RAIN",hintTitle:"RIDDLE",hintDesc:"Falls from sky when it gets wet",type:"word"},8:{target:"15",hintTitle:"MATH",hintDesc:"3  5",type:"math"},9:{target:"ECHO",hintTitle:"RIDDLE",hintDesc:"Comes back when you shout",type:"word"},10:{target:"20",hintTitle:"MATH",hintDesc:"10 + 10",type:"math"},11:{target:"SHADOW",hintTitle:"RIDDLE",hintDesc:"Follows you but can't be caught",type:"word"},12:{target:"6",hintTitle:"MATH",hintDesc:"3 + 3",type:"math"},13:{target:"MIRROR",hintTitle:"RIDDLE",hintDesc:"Shows you but isn't you",type:"word"},14:{target:"9",hintTitle:"MATH",hintDesc:"18  2",type:"math"},15:{target:"CANDLE",hintTitle:"RIDDLE",hintDesc:"The more it burns, the smaller it gets",type:"word"},16:{target:"14",hintTitle:"MATH",hintDesc:"7  2",type:"math"},17:{target:"CLOUD",hintTitle:"RIDDLE",hintDesc:"Floats in sky, white or gray",type:"word"},18:{target:"18",hintTitle:"MATH",hintDesc:"9 + 9",type:"math"},19:{target:"TEAR",hintTitle:"RIDDLE",hintDesc:"Comes from eye when you cry",type:"word"},20:{target:"25",hintTitle:"MATH",hintDesc:"5  5",type:"math"}},[x.LEARNER]:{1:{target:"42",hintTitle:"MATH",hintDesc:"6  7",type:"math"},2:{target:"36",hintTitle:"MATH",hintDesc:"6",type:"math"},3:{target:"SILENCE",hintTitle:"RIDDLE",hintDesc:"You hear it but it makes no sound",type:"word"},4:{target:"50",hintTitle:"MATH",hintDesc:"100  2",type:"math"},5:{target:"SECRET",hintTitle:"RIDDLE",hintDesc:"Gets lighter when you share it",type:"word"},6:{target:"64",hintTitle:"MATH",hintDesc:"8  8",type:"math"},7:{target:"FUTURE",hintTitle:"RIDDLE",hintDesc:"Always coming but never here",type:"word"},8:{target:"27",hintTitle:"MATH",hintDesc:"3",type:"math"},9:{target:"HUNGER",hintTitle:"RIDDLE",hintDesc:"The more you eat, the less it gets",type:"word"},10:{target:"100",hintTitle:"MATH",hintDesc:"10",type:"math"},11:{target:"PROMISE",hintTitle:"RIDDLE",hintDesc:"Easy to break, hard to keep",type:"word"},12:{target:"81",hintTitle:"MATH",hintDesc:"9",type:"math"},13:{target:"HORIZON",hintTitle:"RIDDLE",hintDesc:"The closer you get, the farther away",type:"word"},14:{target:"49",hintTitle:"MATH",hintDesc:"7",type:"math"},15:{target:"FLAME",hintTitle:"RIDDLE",hintDesc:"Lives without body, drinks without mouth",type:"word"},16:{target:"144",hintTitle:"MATH",hintDesc:"12",type:"math"},17:{target:"THOUGHT",hintTitle:"RIDDLE",hintDesc:"Faster than light but invisible",type:"word"},18:{target:"72",hintTitle:"MATH",hintDesc:"8  9",type:"math"},19:{target:"TOMORROW",hintTitle:"RIDDLE",hintDesc:"Never comes but everyone waits for it",type:"word"},20:{target:"125",hintTitle:"MATH",hintDesc:"5",type:"math"}},[x.SKILLED]:{1:{target:"169",hintTitle:"MATH",hintDesc:"13",type:"math"},2:{target:"196",hintTitle:"MATH",hintDesc:"14",type:"math"},3:{target:"PARADOX",hintTitle:"RIDDLE",hintDesc:"True statement that contradicts itself",type:"word"},4:{target:"216",hintTitle:"MATH",hintDesc:"6",type:"math"},5:{target:"IRONY",hintTitle:"RIDDLE",hintDesc:"Says opposite of what is meant",type:"word"},6:{target:"343",hintTitle:"MATH",hintDesc:"7",type:"math"},7:{target:"AMBIVALENCE",hintTitle:"RIDDLE",hintDesc:"Two opposite feelings at once",type:"word"},8:{target:"512",hintTitle:"MATH",hintDesc:"8",type:"math"},9:{target:"DILEMMA",hintTitle:"RIDDLE",hintDesc:"Choice between two bad options",type:"word"},10:{target:"225",hintTitle:"MATH",hintDesc:"15",type:"math"},11:{target:"NOSTALGIA",hintTitle:"RIDDLE",hintDesc:"Longing for the past",type:"word"},12:{target:"289",hintTitle:"MATH",hintDesc:"17",type:"math"},13:{target:"EUPHEMISM",hintTitle:"RIDDLE",hintDesc:"Mild expression for harsh truth",type:"word"},14:{target:"361",hintTitle:"MATH",hintDesc:"19",type:"math"},15:{target:"MELANCHOLY",hintTitle:"RIDDLE",hintDesc:"Deep sadness without clear reason",type:"word"},16:{target:"1000",hintTitle:"MATH",hintDesc:"10",type:"math"},17:{target:"DEJAVU",hintTitle:"RIDDLE",hintDesc:"Feeling of having experienced before",type:"word"},18:{target:"729",hintTitle:"MATH",hintDesc:"9",type:"math"},19:{target:"EUPHORIA",hintTitle:"RIDDLE",hintDesc:"Intense feeling of happiness",type:"word"},20:{target:"1728",hintTitle:"MATH",hintDesc:"12",type:"math"}},[x.EXPERT]:{1:{target:"2197",hintTitle:"MATH",hintDesc:"13",type:"math"},2:{target:"2744",hintTitle:"MATH",hintDesc:"14",type:"math"},3:{target:"APATHY",hintTitle:"RIDDLE",hintDesc:"Complete lack of interest",type:"word"},4:{target:"3375",hintTitle:"MATH",hintDesc:"15",type:"math"},5:{target:"ANAMNESIS",hintTitle:"RIDDLE",hintDesc:"Medical history",type:"word"},6:{target:"4096",hintTitle:"MATH",hintDesc:"16",type:"math"},7:{target:"OBSOLESCENCE",hintTitle:"RIDDLE",hintDesc:"Planned decay or becoming outdated",type:"word"},8:{target:"4913",hintTitle:"MATH",hintDesc:"17",type:"math"},9:{target:"RECURSION",hintTitle:"RIDDLE",hintDesc:"Defines itself through itself",type:"word"},10:{target:"5832",hintTitle:"MATH",hintDesc:"18",type:"math"},11:{target:"AMBIGUITY",hintTitle:"RIDDLE",hintDesc:"Having multiple meanings",type:"word"},12:{target:"6859",hintTitle:"MATH",hintDesc:"19",type:"math"},13:{target:"PLEONASM",hintTitle:"RIDDLE",hintDesc:"Redundant repetition",type:"word"},14:{target:"8000",hintTitle:"MATH",hintDesc:"20",type:"math"},15:{target:"TAUTOLOGY",hintTitle:"RIDDLE",hintDesc:"Says same thing twice",type:"word"},16:{target:"529",hintTitle:"MATH",hintDesc:"23",type:"math"},17:{target:"SOPHISM",hintTitle:"RIDDLE",hintDesc:"Seemingly logical fallacy",type:"word"},18:{target:"625",hintTitle:"MATH",hintDesc:"25",type:"math"},19:{target:"ANTITHESIS",hintTitle:"RIDDLE",hintDesc:"Counter-statement",type:"word"},20:{target:"841",hintTitle:"MATH",hintDesc:"29",type:"math"}},[x.MASTER]:{1:{target:"961",hintTitle:"MATH",hintDesc:"31",type:"math"},2:{target:"1369",hintTitle:"MATH",hintDesc:"37",type:"math"},3:{target:"APOPHENIA",hintTitle:"RIDDLE",hintDesc:"Seeing patterns in random data",type:"word"},4:{target:"1681",hintTitle:"MATH",hintDesc:"41",type:"math"},5:{target:"SYNECDOCHE",hintTitle:"RIDDLE",hintDesc:"Part representing the whole",type:"word"},6:{target:"1849",hintTitle:"MATH",hintDesc:"43",type:"math"},7:{target:"PARONOMASIA",hintTitle:"RIDDLE",hintDesc:"Pun with similar sounds",type:"word"},8:{target:"2209",hintTitle:"MATH",hintDesc:"47",type:"math"},9:{target:"ANACOLUTHON",hintTitle:"RIDDLE",hintDesc:"Grammatical break in sentence",type:"word"},10:{target:"2809",hintTitle:"MATH",hintDesc:"53",type:"math"},11:{target:"METALEPSIS",hintTitle:"RIDDLE",hintDesc:"Swapping temporal sequence",type:"word"},12:{target:"3481",hintTitle:"MATH",hintDesc:"59",type:"math"},13:{target:"HENDIADYS",hintTitle:"RIDDLE",hintDesc:"One concept through two words",type:"word"},14:{target:"3721",hintTitle:"MATH",hintDesc:"61",type:"math"},15:{target:"ZEUGMA",hintTitle:"RIDDLE",hintDesc:"One verb for two different objects",type:"word"},16:{target:"4489",hintTitle:"MATH",hintDesc:"67",type:"math"},17:{target:"APOSIOPESIS",hintTitle:"RIDDLE",hintDesc:"Sudden breaking off mid-sentence",type:"word"},18:{target:"5041",hintTitle:"MATH",hintDesc:"71",type:"math"},19:{target:"HYPERBATON",hintTitle:"RIDDLE",hintDesc:"Unusual word order",type:"word"},20:{target:"5329",hintTitle:"MATH",hintDesc:"73",type:"math"}}},[pe.ES]:{[x.BEGINNER]:{1:{target:"5",hintTitle:"MATEMATICAS",hintDesc:"2 + 3",type:"math"},2:{target:"10",hintTitle:"MATEMATICAS",hintDesc:"5  2",type:"math"},3:{target:"HIELO",hintTitle:"ACERTIJO",hintDesc:"Agua congelada",type:"word"},4:{target:"8",hintTitle:"MATEMATICAS",hintDesc:"16  2",type:"math"},5:{target:"LUZ",hintTitle:"ACERTIJO",hintDesc:"Lo opuesto a la oscuridad",type:"word"},6:{target:"12",hintTitle:"MATEMATICAS",hintDesc:"6 + 6",type:"math"},7:{target:"LLUVIA",hintTitle:"ACERTIJO",hintDesc:"Cae del cielo cuando est mojado",type:"word"},8:{target:"15",hintTitle:"MATEMATICAS",hintDesc:"3  5",type:"math"},9:{target:"ECO",hintTitle:"ACERTIJO",hintDesc:"Vuelve cuando gritas",type:"word"},10:{target:"20",hintTitle:"MATEMATICAS",hintDesc:"10 + 10",type:"math"},11:{target:"SOMBRA",hintTitle:"ACERTIJO",hintDesc:"Te sigue pero no puedes atraparla",type:"word"},12:{target:"6",hintTitle:"MATEMATICAS",hintDesc:"3 + 3",type:"math"},13:{target:"ESPEJO",hintTitle:"ACERTIJO",hintDesc:"Te muestra pero no eres t",type:"word"},14:{target:"9",hintTitle:"MATEMATICAS",hintDesc:"18  2",type:"math"},15:{target:"VELA",hintTitle:"ACERTIJO",hintDesc:"Cuanto ms arde, ms pequea se hace",type:"word"},16:{target:"14",hintTitle:"MATEMATICAS",hintDesc:"7  2",type:"math"},17:{target:"NUBE",hintTitle:"ACERTIJO",hintDesc:"Flota en el cielo, blanca o gris",type:"word"},18:{target:"18",hintTitle:"MATEMATICAS",hintDesc:"9 + 9",type:"math"},19:{target:"LAGRIMA",hintTitle:"ACERTIJO",hintDesc:"Sale del ojo cuando lloras",type:"word"},20:{target:"25",hintTitle:"MATEMATICAS",hintDesc:"5  5",type:"math"}},[x.LEARNER]:{1:{target:"42",hintTitle:"MATEMATICAS",hintDesc:"6  7",type:"math"},2:{target:"36",hintTitle:"MATEMATICAS",hintDesc:"6",type:"math"},3:{target:"SILENCIO",hintTitle:"ACERTIJO",hintDesc:"Se oye pero no hace sonido",type:"word"},4:{target:"50",hintTitle:"MATEMATICAS",hintDesc:"100  2",type:"math"},5:{target:"SECRETO",hintTitle:"ACERTIJO",hintDesc:"Ms ligero si se comparte",type:"word"},6:{target:"64",hintTitle:"MATEMATICAS",hintDesc:"8  8",type:"math"},7:{target:"FUTURO",hintTitle:"ACERTIJO",hintDesc:"Siempre viene pero nunca llega",type:"word"},8:{target:"27",hintTitle:"MATEMATICAS",hintDesc:"3",type:"math"},9:{target:"HAMBRE",hintTitle:"ACERTIJO",hintDesc:"Cuanto ms comes, menos tienes",type:"word"},10:{target:"100",hintTitle:"MATEMATICAS",hintDesc:"10",type:"math"},11:{target:"PROMESA",hintTitle:"ACERTIJO",hintDesc:"Fcil de romper, difcil de mantener",type:"word"},12:{target:"81",hintTitle:"MATEMATICAS",hintDesc:"9",type:"math"},13:{target:"HORIZONTE",hintTitle:"ACERTIJO",hintDesc:"Cuanto ms te acercas, ms se aleja",type:"word"},14:{target:"49",hintTitle:"MATEMATICAS",hintDesc:"7",type:"math"},15:{target:"LLAMA",hintTitle:"ACERTIJO",hintDesc:"Vive sin cuerpo, bebe sin boca",type:"word"},16:{target:"144",hintTitle:"MATEMATICAS",hintDesc:"12",type:"math"},17:{target:"PENSAMIENTO",hintTitle:"ACERTIJO",hintDesc:"Ms rpido que la luz pero invisible",type:"word"},18:{target:"72",hintTitle:"MATEMATICAS",hintDesc:"8  9",type:"math"},19:{target:"MAANA",hintTitle:"ACERTIJO",hintDesc:"Nunca llega, todos lo esperan",type:"word"},20:{target:"125",hintTitle:"MATEMATICAS",hintDesc:"5",type:"math"}},[x.SKILLED]:{1:{target:"169",hintTitle:"MATEMATICAS",hintDesc:"13",type:"math"},2:{target:"196",hintTitle:"MATEMATICAS",hintDesc:"14",type:"math"},3:{target:"PARADOJA",hintTitle:"ACERTIJO",hintDesc:"Afirmacin verdadera que se contradice",type:"word"},4:{target:"216",hintTitle:"MATEMATICAS",hintDesc:"6",type:"math"},5:{target:"IRONIA",hintTitle:"ACERTIJO",hintDesc:"Dice lo contrario de lo que se quiere decir",type:"word"},6:{target:"343",hintTitle:"MATEMATICAS",hintDesc:"7",type:"math"},7:{target:"AMBIVALENCIA",hintTitle:"ACERTIJO",hintDesc:"Dos sentimientos opuestos a la vez",type:"word"},8:{target:"512",hintTitle:"MATEMATICAS",hintDesc:"8",type:"math"},9:{target:"DILEMA",hintTitle:"ACERTIJO",hintDesc:"Eleccin entre dos malas opciones",type:"word"},10:{target:"225",hintTitle:"MATEMATICAS",hintDesc:"15",type:"math"},11:{target:"NOSTALGIA",hintTitle:"ACERTIJO",hintDesc:"Anhelo del pasado",type:"word"},12:{target:"289",hintTitle:"MATEMATICAS",hintDesc:"17",type:"math"},13:{target:"EUFEMISMO",hintTitle:"ACERTIJO",hintDesc:"Expresin suave para una verdad dura",type:"word"},14:{target:"361",hintTitle:"MATEMATICAS",hintDesc:"19",type:"math"},15:{target:"MELANCOLIA",hintTitle:"ACERTIJO",hintDesc:"Tristeza profunda sin razn clara",type:"word"},16:{target:"1000",hintTitle:"MATEMATICAS",hintDesc:"10",type:"math"},17:{target:"DEJAVU",hintTitle:"ACERTIJO",hintDesc:"Sensacin de haber vivido algo antes",type:"word"},18:{target:"729",hintTitle:"MATEMATICAS",hintDesc:"9",type:"math"},19:{target:"EUFORIA",hintTitle:"ACERTIJO",hintDesc:"Sentimiento intenso de felicidad",type:"word"},20:{target:"1728",hintTitle:"MATEMATICAS",hintDesc:"12",type:"math"}},[x.EXPERT]:{1:{target:"2197",hintTitle:"MATEMATICAS",hintDesc:"13",type:"math"},2:{target:"2744",hintTitle:"MATEMATICAS",hintDesc:"14",type:"math"},3:{target:"APATIA",hintTitle:"ACERTIJO",hintDesc:"Falta total de inters",type:"word"},4:{target:"3375",hintTitle:"MATEMATICAS",hintDesc:"15",type:"math"},5:{target:"ANAMNESIS",hintTitle:"ACERTIJO",hintDesc:"Historia mdica",type:"word"},6:{target:"4096",hintTitle:"MATEMATICAS",hintDesc:"16",type:"math"},7:{target:"OBSOLESCENCIA",hintTitle:"ACERTIJO",hintDesc:"Decadencia planificada o anticuada",type:"word"},8:{target:"4913",hintTitle:"MATEMATICAS",hintDesc:"17",type:"math"},9:{target:"RECURSION",hintTitle:"ACERTIJO",hintDesc:"Se define a s mismo por s mismo",type:"word"},10:{target:"5832",hintTitle:"MATEMATICAS",hintDesc:"18",type:"math"},11:{target:"AMBIGUEDAD",hintTitle:"ACERTIJO",hintDesc:"Tener mltiples significados",type:"word"},12:{target:"6859",hintTitle:"MATEMATICAS",hintDesc:"19",type:"math"},13:{target:"PLEONASMO",hintTitle:"ACERTIJO",hintDesc:"Repeticin redundante",type:"word"},14:{target:"8000",hintTitle:"MATEMATICAS",hintDesc:"20",type:"math"},15:{target:"TAUTOLOGIA",hintTitle:"ACERTIJO",hintDesc:"Dice lo mismo dos veces",type:"word"},16:{target:"529",hintTitle:"MATEMATICAS",hintDesc:"23",type:"math"},17:{target:"SOFISMA",hintTitle:"ACERTIJO",hintDesc:"Falacia aparentemente lgica",type:"word"},18:{target:"625",hintTitle:"MATEMATICAS",hintDesc:"25",type:"math"},19:{target:"ANTITESIS",hintTitle:"ACERTIJO",hintDesc:"Contra-declaracin",type:"word"},20:{target:"841",hintTitle:"MATEMATICAS",hintDesc:"29",type:"math"}},[x.MASTER]:{1:{target:"961",hintTitle:"MATEMATICAS",hintDesc:"31",type:"math"},2:{target:"1369",hintTitle:"MATEMATICAS",hintDesc:"37",type:"math"},3:{target:"APOFENIA",hintTitle:"ACERTIJO",hintDesc:"Ver patrones en datos aleatorios",type:"word"},4:{target:"1681",hintTitle:"MATEMATICAS",hintDesc:"41",type:"math"},5:{target:"SINECDOQUE",hintTitle:"ACERTIJO",hintDesc:"Parte que representa el todo",type:"word"},6:{target:"1849",hintTitle:"MATEMATICAS",hintDesc:"43",type:"math"},7:{target:"PARONOMASIA",hintTitle:"ACERTIJO",hintDesc:"Juego de palabras con sonidos similares",type:"word"},8:{target:"2209",hintTitle:"MATEMATICAS",hintDesc:"47",type:"math"},9:{target:"ANACOLUTO",hintTitle:"ACERTIJO",hintDesc:"Ruptura gramatical en la oracin",type:"word"},10:{target:"2809",hintTitle:"MATEMATICAS",hintDesc:"53",type:"math"},11:{target:"METALEPSIS",hintTitle:"ACERTIJO",hintDesc:"Intercambio de secuencia temporal",type:"word"},12:{target:"3481",hintTitle:"MATEMATICAS",hintDesc:"59",type:"math"},13:{target:"ENDIADIS",hintTitle:"ACERTIJO",hintDesc:"Un concepto a travs de dos palabras",type:"word"},14:{target:"3721",hintTitle:"MATEMATICAS",hintDesc:"61",type:"math"},15:{target:"ZEUGMA",hintTitle:"ACERTIJO",hintDesc:"Un verbo para dos objetos diferentes",type:"word"},16:{target:"4489",hintTitle:"MATEMATICAS",hintDesc:"67",type:"math"},17:{target:"APOSIOPESIS",hintTitle:"ACERTIJO",hintDesc:"Ruptura repentina a mitad de frase",type:"word"},18:{target:"5041",hintTitle:"MATEMATICAS",hintDesc:"71",type:"math"},19:{target:"HIPERBATON",hintTitle:"ACERTIJO",hintDesc:"Orden inusual de palabras",type:"word"},20:{target:"5329",hintTitle:"MATEMATICAS",hintDesc:"73",type:"math"}}}}},a8=[{id:"r1",question:"Was hat ein Bett, aber schlft nie?",answer:"fluss",displayAnswer:"Fluss",difficulty:"easy",reward:{xp:20,coins:10}},{id:"r2",question:"Was luft ohne Beine?",answer:"wasser",displayAnswer:"Wasser",difficulty:"easy",reward:{xp:20,coins:10}},{id:"r3",question:"Was hat Zhne, beit aber nicht?",answer:"kamm",displayAnswer:"Kamm",difficulty:"easy",reward:{xp:20,coins:10}},{id:"r4",question:"Ich habe Stdte, aber keine Huser. Ich habe Berge, aber keine Bume. Ich habe Wasser, aber keine Fische. Was bin ich?",answer:"landkarte",displayAnswer:"Landkarte",difficulty:"medium",reward:{xp:50,coins:25}},{id:"r5",question:"Je mehr du wegnimmst, desto grer werde ich. Was bin ich?",answer:"loch",displayAnswer:"Loch",difficulty:"medium",reward:{xp:50,coins:25}},{id:"r6",question:"Ich bin immer da, aber du siehst mich nicht. Ich habe kein Gewicht, aber du kannst mich halten (im Atem). Was bin ich?",answer:"luft",displayAnswer:"Luft",difficulty:"medium",reward:{xp:50,coins:25}},{id:"r7",question:"Was gehrt dir, aber andere benutzen es fter als du?",answer:"name",displayAnswer:"Name",difficulty:"medium",reward:{xp:50,coins:25}},{id:"r8",question:"Morgens laufe ich auf vier Beinen, mittags auf zwei und abends auf drei. Was bin ich?",answer:"mensch",displayAnswer:"Mensch",difficulty:"hard",reward:{xp:100,coins:50}},{id:"r9",question:"Ich habe einen Hals, aber keinen Kopf. Zwei Arme, aber keine Hnde. Was bin ich?",answer:"hemd",displayAnswer:"Hemd",difficulty:"hard",reward:{xp:80,coins:40}},{id:"r10",question:"Wer es macht, will es nicht. Wer es kauft, braucht es nicht. Wer es braucht, sieht es nicht. Was ist es?",answer:"sarg",displayAnswer:"Sarg",difficulty:"hard",reward:{xp:100,coins:60}},{id:"r11",question:"Was wird krzer, je lter es wird?",answer:"kerze",displayAnswer:"Kerze",difficulty:"hard",reward:{xp:80,coins:40}},{id:"r12",question:"Ich bin leicht wie eine Feder, doch selbst der strkste Mann kann mich nicht lange halten. Was bin ich?",answer:"atem",displayAnswer:"Atem",difficulty:"hard",reward:{xp:100,coins:50}}],DS=(t,e,n,i,o=[])=>{var R,I,O;const c=(O=(I=(R=Xw[t])==null?void 0:R[i])==null?void 0:I[e])==null?void 0:O[n];if(c)return{target:c.target,hintTitle:c.hintTitle,hintDesc:c.hintDesc,timeLimit:c.timeLimit};const d=n+e*1e3,h=$=>(d+$)*9301+49297%233280;if(t===me.CHAIN){let $=i===pe.DE?EN:gN;i===pe.ES&&($=xN);const U=$[Math.floor(h(0)%$.length)];let K="CHAIN LINK";i===pe.DE&&(K="WORTKETTE"),i===pe.ES&&(K="CADENA");let ne="Prev:";return i===pe.DE&&(ne="Vorher:"),i===pe.ES&&(ne="Ant:"),{target:U[1],hintTitle:K,hintDesc:`${ne} ${U[0]}`,timeLimit:void 0}}if(t===me.CATEGORY){let $=i===pe.DE?kk:Ok;i===pe.ES&&($=Fk);const U=Object.keys($),K=U[Math.floor(h(0)%U.length)],ne=$[K],P=ne[Math.floor(h(1)%ne.length)];let Z="TOPIC";return i===pe.DE&&(Z="THEMA"),i===pe.ES&&(Z="TEMA"),{target:P,hintTitle:Z,hintDesc:K,timeLimit:void 0}}let f=i===pe.EN?Dk:Lk;i===pe.ES&&(f=jk);let p=f.filter($=>$.tier===e);p.length===0&&(p=f);const E=(n-1)%p.length,y=p[E],b=y.word;let T;t===me.SPEEDRUN&&(T=30+b.length*5-e*2,T<15&&(T=15));let N="CLASSIC";return t===me.SPEEDRUN&&(N="SPEEDRUN"),i===pe.DE&&(N=t===me.SPEEDRUN?"ZEITRENNEN":"KLASSISCH"),i===pe.ES&&(N=t===me.SPEEDRUN?"CONTRARRELOJ":"CLSICO"),{target:b,hintTitle:N,hintDesc:y.hint,timeLimit:T}},o8=(t,e)=>{const n=Array(t.length).fill("absent"),i=e.split(""),o=t.split("");return o.forEach((c,d)=>{c===i[d]&&(n[d]="correct",i[d]=null)}),o.forEach((c,d)=>{if(n[d]!=="correct"){const h=i.indexOf(c);h!==-1&&(n[d]="present",i[h]=null)}}),n},l8=["A","B","C","D","E","F","G","H","I"],c8=[[0,1,2,3,4,5,6,7,8],[3,4,5,6,7,8,0,1,2],[6,7,8,0,1,2,3,4,5],[1,2,3,4,5,6,7,8,0],[4,5,6,7,8,0,1,2,3],[7,8,0,1,2,3,4,5,6],[2,3,4,5,6,7,8,0,1],[5,6,7,8,0,1,2,3,4],[8,0,1,2,3,4,5,6,7]],LS=t=>{let e=JSON.parse(JSON.stringify(c8));const n=N=>N.sort(()=>Math.random()-.5),i=n(e.slice(0,3)),o=n(e.slice(3,6)),c=n(e.slice(6,9));e=[...i,...o,...c];const d=N=>N[0].map((R,I)=>N.map(O=>O[I]));e=d(e);const h=n(e.slice(0,3)),f=n(e.slice(3,6)),p=n(e.slice(6,9));e=[...h,...f,...p],e=d(e);const E=e.map(N=>N.map(R=>l8[R])),y=E.map(N=>[...N]),b=20+t*5;let T=0;for(;T<b;){const N=Math.floor(Math.random()*9),R=Math.floor(Math.random()*9);y[N][R]!==null&&(y[N][R]=null,T++)}return{id:Date.now(),tier:t,targetWord:"",hint:"",sudokuGrid:E,sudokuPuzzle:y}},v0=(t,e,n)=>{var p,E;const i=Xw[me.CHALLENGE],o=(E=(p=i==null?void 0:i[t])==null?void 0:p[e])==null?void 0:E[n];if(o)return{type:o.type||"math",target:o.target,question:o.hintDesc,timeLimit:o.timeLimit||60};let c="",d="",h=60;const f=(y,b)=>Math.floor(Math.random()*(b-y+1))+y;switch(e){case x.BEGINNER:if(h=180,Math.random()>.5){const y=f(5,50),b=f(5,50);c=`${y} + ${b}`,d=(y+b).toString()}else{const y=f(20,100),b=f(5,y);c=`${y} - ${b}`,d=(y-b).toString()}break;case x.LEARNER:if(h=150,Math.random()>.5){const y=f(2,12),b=f(2,12);c=`${y} * ${b}`,d=(y*b).toString()}else{const y=f(2,12),b=f(2,12);c=`${y*b} / ${y}`,d=b.toString()}break;case x.SKILLED:h=120;{const y=f(2,10),b=f(2,10),T=f(2,20);Math.random()>.5?(c=`${T} + ${y} * ${b}`,d=(T+y*b).toString()):(c=`${y} * ${b} - ${T}`,d=(y*b-T).toString())}break;case x.EXPERT:h=90;{const y=f(10,20),b=f(5,15),T=f(50,100);Math.random()>.5?(c=`(${y} + ${b}) * 2`,d=((y+b)*2).toString()):(c=`${T} - ${y} * 3`,d=(T-y*3).toString())}break;case x.MASTER:h=60;{const y=f(11,19),b=f(11,19);c=`${y} * ${b}`,d=(y*b).toString()}break}return h=Math.max(30,h-n%50),{type:"math",target:d,question:c,timeLimit:h}},u8=(t,e,n)=>{e===x.SKILLED||x.EXPERT,x.MASTER;const i=a8;if(i.length===0)return{target:"EMPTY",question:"No riddles available.",timeLimit:void 0};const o=(n-1)%i.length,c=i[o];return{target:c.answer.toUpperCase(),question:c.question,hintTitle:"RTSEL",hintDesc:c.question,timeLimit:void 0}},d8=(t,e)=>{const n=Array(9).fill(null).map(()=>Array(9).fill(null));if(!t||!e)return n;const i=(o,c,d)=>{n[o][c]!=="error"&&(n[o][c]=d)};for(let o=0;o<9;o++){const c=t[o];if(c.every(d=>d)){const h=c.every((f,p)=>f===e[o][p])?"correct":"error";for(let f=0;f<9;f++)i(o,f,h)}}for(let o=0;o<9;o++){const c=t.map(d=>d[o]);if(c.every(d=>d)){const h=c.every((f,p)=>f===e[p][o])?"correct":"error";for(let f=0;f<9;f++)i(f,o,h)}}for(let o=0;o<3;o++)for(let c=0;c<3;c++){let d=!0;const h=[];for(let f=o*3;f<o*3+3;f++)for(let p=c*3;p<c*3+3;p++)t[f][p]||(d=!1),h.push({r:f,c:p,val:t[f][p]});if(d){const p=h.every(E=>E.val===e[E.r][E.c])?"correct":"error";h.forEach(E=>i(E.r,E.c,p))}}return n},h8=({guesses:t,currentGuess:e,targetLength:n,turn:i})=>{const o=Array(Math.max(0,5-i)).fill(null),c={gridTemplateColumns:`repeat(${n}, min(13vw, 3.2rem))`},d=h=>h==="correct"?{background:"linear-gradient(135deg, #06FFA5, #00D68F)",color:"#FFF",borderRadius:"10px",boxShadow:"0 4px 12px rgba(6,255,165,0.3)"}:h==="present"?{background:"linear-gradient(135deg, #FFBE0B, #FF9500)",color:"#FFF",borderRadius:"10px",boxShadow:"0 4px 12px rgba(255,190,11,0.3)"}:{background:"linear-gradient(135deg, #FF006E, #D60054)",color:"#FFF",borderRadius:"10px",boxShadow:"0 4px 12px rgba(255,0,110,0.3)"};return l.jsxs("div",{className:"flex flex-col gap-2 w-fit mx-auto",children:[t.map((h,f)=>l.jsx("div",{className:"grid gap-2 justify-center",style:c,children:h.word.split("").map((p,E)=>l.jsx("div",{className:"aspect-square flex items-center justify-center font-black text-xl md:text-2xl uppercase transition-all",style:d(h.result[E]),children:p},E))},f)),i<6&&l.jsx("div",{className:"grid gap-2 justify-center",style:c,children:Array(n).fill(null).map((h,f)=>l.jsx("div",{className:"aspect-square flex items-center justify-center font-black text-xl md:text-2xl uppercase transition-all",style:{background:e[f]?"#FFF":"rgba(255,255,255,0.6)",color:"#1a1a2e",borderRadius:"10px",boxShadow:e[f]?"0 4px 16px rgba(0,0,0,0.1)":"0 2px 8px rgba(0,0,0,0.05)",border:e[f]?"2px solid rgba(0,0,0,0.1)":"2px solid transparent"},children:e[f]||""},f))}),o.map((h,f)=>l.jsx("div",{className:"grid gap-2 justify-center",style:c,children:Array(n).fill(null).map((p,E)=>l.jsx("div",{className:"aspect-square",style:{background:"rgba(255,255,255,0.3)",borderRadius:"10px",border:"2px dashed rgba(0,0,0,0.1)"}},E))},`empty-${f}`))]})},f8={activeSeasonId:1,currentSeasonId:1,seasons:[{id:1,name:"Genesis",startDate:"2024-01-01",endDate:"2024-12-31",colors:{primary:"#8B5CF6",secondary:"#EC4899",accent:"#F59E0B",bgDark:"#1F2937",bgCard:"#374151"},rewards:[]},{id:2,name:"Neon Uprising",startDate:"2025-01-01",endDate:"2025-03-31",colors:{primary:"#00f2ff",secondary:"#ff0099",accent:"#ccff00",bgDark:"#0a0a12",bgCard:"#161622"},rewards:[]}]};function p8(){const[t,e]=_.useState("ONBOARDING"),[n,i]=_.useState("https://leximix.de/LexiMix-v3.0.2-Release.apk");_.useEffect(()=>{},[]);const o=A=>{A!==t&&e(A)},[c,d]=_.useState(0),[h,f]=_.useState({name:"",age:"",language:pe.EN}),[p,E]=_.useState(()=>{const A=localStorage.getItem("leximix_language_pref");try{const z=localStorage.getItem("leximix_user"),ce={};if(z){const oe=JSON.parse(z);let Ue=oe.xp,Re=oe.level;return Ue===1e5&&(!oe.playedWords||oe.playedWords.length<50)&&(console.log("Resetting debug XP/Level state"),Ue=0,Re=1),{...oe,xp:Ue,level:Re,completedLevels:{...ce,...oe.completedLevels},theme:oe.theme||"dark",claimedSeasonRewards:oe.claimedSeasonRewards||[],ownedFrames:oe.ownedFrames||[],hintBooster:oe.hintBooster||0,ownedAvatars:oe.ownedAvatars||[us[0]],isPremium:oe.isPremium||!1,language:A||oe.language||pe.DE}}return{name:"Player",age:0,language:A||pe.DE,avatarId:us[0],coins:0,xp:0,level:1,completedLevels:ce,theme:"light",inventory:[],ownedAvatars:[us[0]],isPremium:!1,playedWords:[],activeFrame:null,ownedFrames:[],hintBooster:0,claimedSeasonRewards:[]}}catch(z){console.error("[LexiMix] localStorage error:",z)}const D={};return{name:"Player",age:0,avatarId:us[0],ownedAvatars:[us[0]],xp:0,level:1,coins:0,isPremium:!1,completedLevels:D,language:A||pe.DE,theme:"dark",activeFrame:null,ownedFrames:[],hintBooster:0,claimedSeasonRewards:[]}}),[y,b]=_.useState(()=>localStorage.getItem("leximix_cloud_user")),[T,N]=_.useState(!1),[R,I]=_.useState(""),[O,$]=_.useState(""),[U,K]=_.useState(""),[ne,P]=_.useState(null),[Z,J]=_.useState(null),[we,De]=_.useState(()=>Xc()),[ve,he]=_.useState(Gk);_.useEffect(()=>((async()=>{try{let D,z;const{onValue:ce}=await Xt(async()=>{const{onValue:Re}=await Promise.resolve().then(()=>Pc);return{onValue:Re}},void 0,import.meta.url);let oe=null,Ue;try{if(Ue=await fetch("https://leximix.de/season_settings.json"),!Ue.ok)throw new Error("Network response was not ok")}catch{console.warn("[Season] Remote fetch failed, trying local fallback");try{Ue=await fetch("/season_settings.json")}catch{console.warn("[Season] Local fallback failed")}}Ue.ok?(oe=await Ue.json(),J(oe)):(console.warn("[Season] Fetch failed, using hardcoded fallback"),oe=f8,J(oe))}catch(D){console.error("[Season] Failed to load dynamic settings:",D)}})(),()=>{}),[]),_.useEffect(()=>{if(Z)return;const A=Xc();De(A);const D=document.documentElement;D.style.setProperty("--season-primary",A.colors.primary),D.style.setProperty("--season-secondary",A.colors.secondary),D.style.setProperty("--season-accent",A.colors.accent),D.style.setProperty("--season-bg-dark",A.colors.bgDark),D.style.setProperty("--season-bg-card",A.colors.bgCard),console.log(`[Season] Active: ${A.name} (ID: ${A.id})`)},[Z]),_.useEffect(()=>{p.language&&localStorage.setItem("leximix_language_pref",p.language)},[p.language]),_.useEffect(()=>{try{const A=localStorage.getItem("leximix_cloud_user"),D=localStorage.getItem("leximix_language_selected");A?(e("HOME"),Xt(()=>Promise.resolve().then(()=>Jd),void 0,import.meta.url).then(async({loadFromCloud:z,redeemVoucher:ce})=>{const Ue=(Re=>Re.replace(/\s+/g,"").toLowerCase())(A);try{const Re=await z(Ue);if(Re){let Ie=Re.friendCode;E(Xe=>({...Xe,...Re,name:Ue,friendCode:Ie})),console.log("[Cloud] Startup sync successful")}}catch(Re){console.error("[Cloud] Startup sync failed:",Re)}})):e("AUTH")}catch(A){console.error("[LexiMix] Init error:",A),e("AUTH")}},[]),_.useEffect(()=>{if(!y)return;const A=setTimeout(async()=>{try{const{saveToCloud:D}=await Xt(async()=>{const{saveToCloud:ce}=await Promise.resolve().then(()=>Jd);return{saveToCloud:ce}},void 0,import.meta.url);await D(y,p)?console.log("[Sync] User data synced to cloud"):console.warn("[Sync] Save failed (rate limit or error)")}catch(D){console.error("[Sync] Failed to sync:",D)}},3e3);return()=>clearTimeout(A)},[y,p.level,p.coins,p.xp,p.isPremium,JSON.stringify(p.completedLevels),p.language,p.theme,p.name,p.avatarId,p.activeFrame,JSON.stringify(p.ownedAvatars),JSON.stringify(p.claimedSeasonRewards),JSON.stringify(p.claimedPremiumRewards)]),_.useEffect(()=>{if(!y)return;const A=async()=>{try{const{loadFromCloud:z}=await Xt(async()=>{const{loadFromCloud:oe}=await Promise.resolve().then(()=>Jd);return{loadFromCloud:oe}},void 0,import.meta.url),ce=await z(y);ce&&p.isPremium!==ce.isPremium&&(console.warn("[Anti-Cheat] Premium status mismatch detected - correcting from server"),E(oe=>({...oe,isPremium:ce.isPremium,premiumActivatedAt:ce.premiumActivatedAt})))}catch(z){console.error("[Anti-Cheat] Verification failed:",z)}};A();const D=setInterval(A,6e4);return()=>clearInterval(D)},[y]);const qe=(t==="ONBOARDING"?h.language:p.language).toUpperCase(),W=ir[qe]||ir[pe.DE],[Y,k]=_.useState(null),[H,ae]=_.useState(null),Se=_.useRef(null),ge=_.useRef(null);_.useEffect(()=>{Se.current=H},[H]);const[w,q]=_.useState(!1),[L,se]=_.useState(5),[Le,xe]=_.useState(0),[Ae,Ge]=_.useState(!1),[ue,Ce]=_.useState(!1),[st,it]=_.useState(!1),[Te,Ee]=_.useState(!1),[ye,ie]=_.useState(null),[Fe,We]=_.useState(!1),[ot,_t]=_.useState(null),[be,ke]=_.useState({xp:0,coins:0}),[fe,Me]=_.useState({level:1,xp:0}),[xt,$e]=_.useState(!1),[mt,vt]=_.useState(""),[ns,Zs]=_.useState("code"),[hr,ha]=_.useState(null),[pi,An]=_.useState(null),[Cs,gn]=_.useState(!1),[Bn,so]=_.useState("monthly"),[Pl,Is]=_.useState(!1),[Ms,ms]=_.useState(""),[Ds,fr]=_.useState(p.name||"Player"),[mi,Ul]=_.useState(p.age||18),[Oi,pr]=_.useState(p.avatarId||us[0]),[Q,Ls]=_.useState(p.activeFrame||"none"),[qt,Qs]=_.useState(""),[_e,En]=_.useState(""),[Vt,xn]=_.useState(!1),[Hl,Qt]=_.useState(!1),[rn,Nn]=_.useState(""),[Pe,ki]=_.useState(navigator.onLine),[io,mr]=_.useState(!1),[fa,ss]=_.useState(!1),[pa,gs]=_.useState(!1),[gi,Ei]=_.useState(null),[xi,Bt]=_.useState(!1),[ro,Js]=_.useState(!1),[Es,ei]=_.useState(!1),[ao,ti]=_.useState(null),[ma,$t]=_.useState(null),[F,ee]=_.useState(!1),[B,Oe]=_.useState(null),[Ve,bt]=_.useState(null),xs=async()=>{if(!B||!y){console.error("[App] Cannot accept invite - missing data",{globalGameInvite:B,cloudUsername:y});return}console.log("[App] Accepting invite...",B);try{const{ref:A,set:D}=await Xt(async()=>{const{ref:Re,set:Ie}=await Promise.resolve().then(()=>Pc);return{ref:Re,set:Ie}},void 0,import.meta.url),{database:z}=await Xt(async()=>{const{database:Re}=await Promise.resolve().then(()=>ka);return{database:Re}},void 0,import.meta.url),{initializeMultiplayerGame:ce,initializeChessGame:oe}=await Xt(async()=>{const{initializeMultiplayerGame:Re,initializeChessGame:Ie}=await Promise.resolve().then(()=>e8);return{initializeMultiplayerGame:Re,initializeChessGame:Ie}},void 0,import.meta.url);if(console.log("[App] Updating invite status to accepted..."),await D(A(z,`gameInvites/${y}/${B.gameId}/status`),"accepted"),(B.mode||me.SKAT_MAU_MAU)===me.CHESS){if(console.log("[App] Initializing CHESS game..."),!await oe(B.gameId,B.from,y))throw new Error("Failed to initialize chess game");$t(B.from),ti(B.gameId),ee(!1),k({mode:me.CHESS,tier:x.BEGINNER,levelId:1}),Oe(null),e("GAME")}else{const{generateDeck:Re,shuffleDeck:Ie,drawCards:Xe}=await Xt(async()=>{const{generateDeck:If,shuffleDeck:Wu,drawCards:Mf}=await Promise.resolve().then(()=>$U);return{generateDeck:If,shuffleDeck:Wu,drawCards:Mf}},void 0,import.meta.url);console.log("[App] Generating deck...");let Be=Re();Be=Ie(Be);const Ct=Xe(Be,5),ct=Ct.drawn;Be=Ct.remaining;const cn=Xe(Be,5),Yn=cn.drawn;Be=cn.remaining;const Er=Xe(Be,1),Os=Er.drawn;if(Be=Er.remaining,console.log("[App] Initializing multiplayer game state..."),!await ce(B.gameId,B.from,y,Be,Os,ct,Yn))throw new Error("Failed to initialize multiplayer game");console.log("[App] Game initialized successfully! Switching view..."),$t(B.from),ti(B.gameId),ee(!1),Oe(null),e("MAU_MAU")}}catch(A){console.error("[Global Invite] Accept error:",A)}},ji=async()=>{if(!(!B||!y))try{const{ref:A,set:D}=await Xt(async()=>{const{ref:ce,set:oe}=await Promise.resolve().then(()=>Pc);return{ref:ce,set:oe}},void 0,import.meta.url),{database:z}=await Xt(async()=>{const{database:ce}=await Promise.resolve().then(()=>ka);return{database:ce}},void 0,import.meta.url);await D(A(z,`gameInvites/${y}/${B.gameId}/status`),"declined"),Oe(null)}catch(A){console.error("[Global Invite] Decline error:",A)}};_.useEffect(()=>{const A=()=>{console.log("[Network] Connection restored"),ki(!0)},D=()=>{console.log("[Network] Connection lost"),ki(!1)};window.addEventListener("online",A),window.addEventListener("offline",D);const z=setInterval(()=>{ki(navigator.onLine)},1e4);return()=>{window.removeEventListener("online",A),window.removeEventListener("offline",D),clearInterval(z)}},[]),_.useEffect(()=>{if(t!=="ONBOARDING")try{localStorage.setItem("leximix_user",JSON.stringify(p))}catch(A){console.error("[LexiMix] localStorage save error:",A)}},[p,t]),_.useEffect(()=>{(async()=>{if(p.name&&p.name!=="Player"&&!p.friendCode){console.log("[Fix] Missing friend code detected for:",p.name);try{const{generateFriendCode:D,saveFriendCodeToFirebase:z}=await Xt(async()=>{const{generateFriendCode:oe,saveFriendCodeToFirebase:Ue}=await Promise.resolve().then(()=>IS);return{generateFriendCode:oe,saveFriendCodeToFirebase:Ue}},void 0,import.meta.url),ce=D();await z(p.name,ce),E(oe=>({...oe,friendCode:ce})),console.log("[Fix] Generated and saved new friend code:",ce)}catch(D){const z=(D==null?void 0:D.code)||"unknown",ce=(D==null?void 0:D.message)||String(D);console.error(`[Fix] Failed to generate friend code. Code: ${z}, Message: ${ce}`),z==="PERMISSION_DENIED"&&console.error("[Fix] Firebase rules are blocking write to friendCodes. Update database.rules.json")}}})()},[p.name,p.friendCode]);const oo=(A,D=!1)=>{var Be,Ct;const z=ve[A-1];if(!z)return;if(D){if(!p.isPremium||(Be=p.claimedPremiumRewards)!=null&&Be.includes(A))return}else if((Ct=p.claimedSeasonRewards)!=null&&Ct.includes(A))return;let ce=0;const oe=[...p.ownedAvatars||[]],Ue=[...p.ownedFrames||[]],Re=[...p.stickers||[]];let Ie=p.hintBooster||0;const Xe=ct=>{if(ct){if(ct.type==="coins"&&(ce+=ct.amount),ct.type==="avatar"){const cn=ct.value;oe.includes(cn)||oe.push(cn)}if(ct.type==="cosmetic"||ct.type==="effect"){const cn=ct.value;Ue.includes(cn)||Ue.push(cn)}if(ct.type==="booster"&&(Ie+=1),ct.type==="sticker"){const cn=ct.value;Re.includes(cn)||Re.push(cn)}if(ct.type==="mystery")if(Math.random()>.5){const Yn=Math.floor(Math.random()*1500)+500;ce+=Yn,alert(`Mystery Box: Du hast ${Yn} Mnzen gefunden!`)}else ce+=1e3,alert("Mystery Box: Du hast 1000 Mnzen gefunden!")}};Xe(D?z.premium:z.free),E(ct=>({...ct,coins:ct.coins+ce,ownedAvatars:oe,ownedFrames:Ue,stickers:Re,hintBooster:Ie,claimedSeasonRewards:D?ct.claimedSeasonRewards:[...ct.claimedSeasonRewards||[],A],claimedPremiumRewards:D?[...ct.claimedPremiumRewards||[],A]:ct.claimedPremiumRewards})),et.playWin()},Uu=A=>!A||A==="none"?"":A==="effect_glow"?"frame-glow":A==="effect_fire"?"frame-fire":A==="effect_ice"?"frame-ice":A==="effect_neon"?"frame-neon":A==="effect_sparkle"?"frame-sparkle":A==="effect_flame_burst"?"frame-flame-burst":A==="effect_frost_aura"?"frame-frost-aura":A==="effect_lightning_arc"?"frame-lightning-arc":A==="effect_water_ripple"?"frame-water-ripple":A==="effect_galaxy_swirl"?"frame-galaxy-swirl":A==="effect_star_field"?"frame-star-field":A==="effect_nebula_glow"?"frame-nebula-glow":A==="effect_void_edge"?"frame-void-edge":A==="effect_rainbow"?"frame-rainbow-pulse":A==="effect_gold"?"frame-gold-luxury":A==="effect_diamond"?"frame-diamond-shine":A==="effect_shadow"?"frame-shadow-flame":A==="effect_aurora"?"frame-aurora-wave":A==="effect_pixel"?"frame-pixel-glitch":A==="effect_holo"?"frame-holo-shimmer":A==="effect_matrix"?"frame-matrix-rain":A==="effect_pixel_glitch"?"frame-pixel-glitch":A==="effect_holo_shimmer"?"frame-holo-shimmer":A==="effect_wave_motion"?"frame-wave-motion":A==="effect_color_morph"?"frame-color-morph":A==="effect_matrix_rain"?"frame-matrix-rain":A==="effect_prism_split"?"frame-prism-split":A==="effect_glitch_wild"?"frame-glitch-wild":A==="effect_lava_flow"?"frame-lava-flow":A==="effect_electric_pulse"?"frame-electric-pulse":A==="effect_oil_slick"?"frame-oil-slick":A==="effect_chromatic_abberation"?"frame-chromatic-abberation":A==="effect_quantum_flux"?"frame-quantum-flux":A.includes("frame_")?"shadow-[0_0_20px_rgba(34,211,238,0.5)] ring-2 ring-cyan-400":"";_.useEffect(()=>{const A=()=>et.playClick();return window.addEventListener("click",A,{once:!0}),()=>window.removeEventListener("click",A)},[]),_.useEffect(()=>{let A;const D=((Y==null?void 0:Y.mode)===me.SPEEDRUN||(Y==null?void 0:Y.mode)===me.CHALLENGE)&&(H==null?void 0:H.timeLeft)!==void 0;return t==="GAME"&&(H==null?void 0:H.status)==="playing"&&D&&(A=setInterval(()=>{ae(z=>z.timeLeft<=0?(et.playLoss(),{...z,timeLeft:0,status:"lost"}):{...z,timeLeft:z.timeLeft-1})},1e3)),()=>clearInterval(A)},[t,H==null?void 0:H.status,Y==null?void 0:Y.mode]),_.useEffect(()=>{if(t!=="GAME"||!Y)return;const A=D=>{const z=Se.current;if((z==null?void 0:z.status)!=="playing")return;const ce=D.key.toUpperCase();if(document.activeElement===ge.current&&(/^[A-Z0-9]$/.test(ce)||ce==="BACKSPACE"||ce==="ENTER"))return;if(Y.mode===me.SUDOKU){["A","B","C","D","E","F","G","H","I"].includes(ce)&&co(ce);return}if(z.isMath){["BACKSPACE","DELETE"].includes(ce)?Gl():ce==="ENTER"?ga():(["+","-","*","/"].includes(ce)||/^[0-9]$/.test(ce))&&yi(ce);return}["BACKSPACE","DELETE"].includes(ce)?Gl():ce==="ENTER"?ga():/^[A-Z]$/.test(ce)&&yi(ce)};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[t,Y]);const is=A=>{if(et.playClick(),A===me.CHALLENGE){if(!p.isPremium){xn(!0);return}_t(()=>()=>{k({mode:A,tier:x.BEGINNER,levelId:1}),e("LEVELS")}),We(!0);return}if(A===me.LETTER_MAU_MAU){if(!p.isPremium){xn(!0);return}mr(!0);return}if(A===me.SKAT_MAU_MAU){k({mode:A,tier:x.BEGINNER,levelId:1}),ie(A),e("TUTORIAL");return}if(A===me.CHESS){k({mode:A,tier:x.BEGINNER,levelId:1}),ie(A),e("TUTORIAL");return}if(A===me.CHECKERS||A===me.NINE_MENS_MORRIS||A===me.RUMMY){k({mode:A,tier:x.BEGINNER,levelId:1}),ie(A),e("TUTORIAL");return}k({mode:A,tier:x.BEGINNER,levelId:1}),ie(A),e("TUTORIAL")},Bl=(A,D)=>{if(et.playClick(),!Y)return;if(Y.mode===me.CHALLENGE){const ce=100+(A-1)*100;if(p.coins<ce){et.playError(),alert(`${W.SHOP.INSUFFICIENT} (${ce} Mnzen bentigt)`);return}}const z={...Y,tier:A,levelId:D};if(k(z),xe(0),z.mode===me.SUDOKU){const ce=LS(A);ae({data:ce,currentGrid:JSON.parse(JSON.stringify(ce.sudokuPuzzle)),selectedCell:null,history:[]}),ie(null),e("GAME")}else if(z.mode===me.CHALLENGE){const ce=v0(p.language,A,D);ae({targetWord:ce.target,hintTitle:"CHALLENGE",hintDesc:ce.question,guesses:[],currentGuess:"",status:"playing",hintsUsed:0,isMath:ce.type==="math",timeLeft:ce.timeLimit}),ie(null),e("GAME")}else if(z.mode===me.CHAIN){k(z),e("GAME");return}else if(z.mode===me.CHECKERS){e("CHECKERS");return}else if(z.mode===me.NINE_MENS_MORRIS){e("NINE_MENS_MORRIS");return}else if(z.mode===me.RUMMY){e("RUMMY");return}else ie(null),e("GAME")},Hu=()=>{if(!Y)return;const A=Y.tier,D=Y.levelId;let z=A,ce=D+1;if(ce>50&&(z=A+1,ce=1,z>5)){e("LEVELS");return}const oe={...Y,tier:z,levelId:ce};if(k(oe),xe(0),oe.mode===me.SUDOKU){const Ue=LS(z);ae({data:Ue,currentGrid:JSON.parse(JSON.stringify(Ue.sudokuPuzzle)),selectedCell:null,history:[]})}else if(oe.mode===me.CHALLENGE){const Ue=v0(p.language,z,ce);ae({targetWord:Ue.target,hintTitle:"CHALLENGE",hintDesc:Ue.question,guesses:[],currentGuess:"",status:"playing",hintsUsed:0,isMath:Ue.type==="math",timeLeft:Ue.timeLimit})}e("GAME"),ie(null)};_.useEffect(()=>{if(t==="GAME"&&Y&&Y.mode!==me.SUDOKU&&Y.mode!==me.CHALLENGE){const A=(Y==null?void 0:Y.mode)===me.RIDDLE;let D;A?D=u8(p.language,Y.tier,Y.levelId):D=DS(Y.mode,Y.tier,Y.levelId,p.language,p.playedWords),ae({guesses:[],currentGuess:"",status:"playing",targetWord:D.target,hintTitle:D.hintTitle||(A?W.MODES.RIDDLE.title:W.GAME.HINT_TITLE),hintDesc:D.hintDesc||(A?D.question:W.GAME.UNLOCK_HINT),data:D,timeLeft:D.timeLimit,startTime:Date.now(),hintsUsed:0,isMath:D.type==="math",isHintUnlocked:!1,awaitingConfirmation:!1,confirmedWord:null}),Ge(!1),console.log("Target Word:",D.target)}},[t,Y,p.language]);const lo=async A=>{const{normalizeUsername:D,loadFromCloud:z}=await Xt(async()=>{const{normalizeUsername:Xe,loadFromCloud:Be}=await Promise.resolve().then(()=>ka);return{normalizeUsername:Xe,loadFromCloud:Be}},void 0,import.meta.url),{getFriendsFromFirebase:ce,generateFriendCode:oe,saveFriendCodeToFirebase:Ue}=await Xt(async()=>{const{getFriendsFromFirebase:Xe,generateFriendCode:Be,saveFriendCodeToFirebase:Ct}=await Promise.resolve().then(()=>IS);return{getFriendsFromFirebase:Xe,generateFriendCode:Be,saveFriendCodeToFirebase:Ct}},void 0,import.meta.url),Re=D(A);b(Re),localStorage.setItem("leximix_cloud_user",Re);const Ie=await z(Re);if(Ie){const Xe=await ce(Re);let Be=Ie.friendCode;Be||(console.log("Generating missing friend code for:",Re),Be=oe(),await Ue(Re,Be),Ie.friendCode=Be),E(Ct=>({...Ct,...Ie,name:Re,friends:Xe||[],friendCode:Be})),console.log("[Cloud] Loaded save from cloud"),e("HOME")}else{const Xe={};Object.values(me).forEach(Ct=>{Xe[`${Ct}_${x.BEGINNER}_1`]=!0});const Be=oe();await Ue(Re,Be),E(Ct=>({...Ct,name:Re,age:0,avatarId:us[0],ownedAvatars:[us[0]],xp:0,level:1,coins:0,isPremium:!1,completedLevels:Xe,playedWords:[],language:pe.DE,theme:p.theme||"dark",friendCode:Be,friends:[]})),f(Ct=>({...Ct,name:Re})),console.log("[Cloud] New user - redirecting to onboarding"),e("ONBOARDING"),d(0)}},Fi=()=>{b(null),localStorage.removeItem("leximix_cloud_user"),localStorage.removeItem("leximix_user"),P(null);const A={};Object.values(me).forEach(D=>{A[`${D}_${x.BEGINNER}_1`]=!0}),E({name:"Player",age:0,avatarId:us[0],ownedAvatars:[us[0]],xp:0,level:1,coins:0,isPremium:!1,completedLevels:A,playedWords:[],language:localStorage.getItem("leximix_language_pref")||pe.DE,theme:"dark"}),e("AUTH"),console.log("[Cloud] Logged out - cleared all data")},Bu=()=>{const A=Y==null?void 0:Y.mode;if(A===me.LETTER_MAU_MAU){mr(!0);return}if(A===me.SKAT_MAU_MAU){ss(!0),ie(null);return}if(A===me.CHESS){Bt(!0),ie(null);return}if(A===me.CHECKERS||A===me.NINE_MENS_MORRIS||A===me.RUMMY){Ei(A),gs(!0),ie(null);return}e("LEVELS"),ie(null)},Gu=()=>{if(!h.name||h.name.length>20)return;const A=parseInt(h.age.toString());if(isNaN(A)||A<1||A>120)return;if(A<12){alert("Access Denied: Minimum age is 12.");return}const D=us[Math.floor(Math.random()*us.length)];E({...p,name:h.name,age:A,language:h.language,avatarId:D,ownedAvatars:[D],isPremium:!1}),e("HOME"),et.playWin()},yi=A=>{const D=Se.current;if((D==null?void 0:D.status)==="playing"&&D.currentGuess.length<D.targetWord.length){const z=D.currentGuess+A;ae(ce=>({...ce,currentGuess:z})),et.playClick(),z.length===D.targetWord.length&&setTimeout(()=>ga(),100)}},Gl=()=>{const A=Se.current;(A==null?void 0:A.status)==="playing"&&ae(D=>({...D,currentGuess:D.currentGuess.slice(0,-1)}))},ga=()=>{try{const A=Se.current;if((A==null?void 0:A.status)!=="playing")return;if(A.currentGuess===A.targetWord){if(!Y)return;const{mode:ce,tier:oe,levelId:Ue}=Y,Re=A.targetWord,Ie={word:A.currentGuess,result:Array(A.currentGuess.length).fill("correct")};ae(Xe=>({...Xe,guesses:[...Xe.guesses,Ie],status:"won",currentGuess:""})),et.playWin(),console.log("[handleWordEnter] Calling handleWin immediately with:",{mode:ce,tier:oe,levelId:Ue,targetWord:Re}),uo(ce,oe,Ue,Re);return}if(A.currentGuess.length!==A.targetWord.length){et.playError();return}const D=o8(A.currentGuess,A.targetWord),z={word:A.currentGuess,result:D};ae(ce=>{const oe={...ce,guesses:[...ce.guesses,z],currentGuess:"",status:ce.guesses.length+1>=6?"lost":"playing"};return oe.status==="lost"&&et.playLoss(),oe})}catch(A){console.error("[handleWordEnter] Error:",A),alert(`Error in handleWordEnter: ${A} `)}},co=A=>{const D=Se.current;if(!(D!=null&&D.selectedCell))return;const{r:z,c:ce}=D.selectedCell,oe=[...D.currentGrid];if(oe[z][ce]=A,ae(Re=>({...Re,currentGrid:oe})),et.playClick(),oe.every(Re=>Re.every(Ie=>Ie!==null))&&JSON.stringify(oe)===JSON.stringify(D.data.sudokuGrid)&&(et.playWin(),Y)){const{mode:Ie,tier:Xe,levelId:Be}=Y;setTimeout(()=>uo(Ie,Xe,Be,""),100)}},uo=(A,D,z,ce)=>{try{console.log("[handleWin] Called with:",{mode:A,tier:D,levelId:z,targetWord:ce}),console.log("[handleWin] Current showWin state:",Ae);let oe=D*20,Ue=D*5;if(A===me.CHALLENGE){const Re=50*D;oe+=Re}A===me.CHALLENGE&&(oe*=2,Ue=D*80),console.log("[handleWin] Setting winStats:",{xp:oe,coins:Ue}),ke({xp:oe,coins:Ue}),console.log("[handleWin] Setting showWin to true"),Ge(!0),console.log("[handleWin] showWin set call completed"),E(Re=>{var Yn;const Ie=Re.xp+oe,Xe=Math.floor(Re.xp/100)+1,Be=Math.floor(Ie/100)+1;Be>Xe&&setTimeout(()=>{Me({level:Be,xp:Ie}),Ce(!0),et.playWin()},1e3);const Ct=`${A}_${D}_${z}`;console.log("[handleWin] Marking level complete:",Ct);const ct={...Re.completedLevels,[Ct]:!0},cn=ce&&!((Yn=Re.playedWords)!=null&&Yn.includes(ce))?[...Re.playedWords||[],ce]:Re.playedWords||[];return{...Re,xp:Ie,level:Be,coins:Re.coins+Ue,completedLevels:ct,playedWords:cn}})}catch(oe){console.error("[handleWin] Error:",oe),alert(`Error in handleWin: ${oe} `)}},Rf=()=>{q(!0);const A=5+Le*10,D=Math.max(1,A-(p.hintBooster||0));se(D)};_.useEffect(()=>{let A;return w&&L>0?A=setInterval(()=>se(D=>D-1),1e3):w&&L===0&&clearInterval(A),()=>clearInterval(A)},[w,L]);const Cf=()=>{if(L>0)return;if(q(!1),xe(D=>D+1),(Y==null?void 0:Y.mode)===me.SUDOKU){const D=H.currentGrid,z=H.data.sudokuGrid,ce=[];for(let oe=0;oe<9;oe++)for(let Ue=0;Ue<9;Ue++)D[oe][Ue]||ce.push({r:oe,c:Ue});if(ce.length>0){const oe=ce[Math.floor(Math.random()*ce.length)],Ue=z[oe.r][oe.c];ae(Re=>{const Ie=[...Re.currentGrid];return Ie[oe.r][oe.c]=Ue,{...Re,currentGrid:Ie}})}return}if(H.status==="playing"){const D=H.targetWord;let z=H.currentGuess,ce=-1;for(let oe=0;oe<D.length;oe++)if(!z[oe]||z[oe]!==D[oe]){ce=oe;break}if(ce!==-1){const oe=D[ce],Ue=z.slice(0,ce)+oe;ae(Re=>({...Re,currentGuess:Ue,hintsUsed:(Re.hintsUsed||0)+1}))}}},ho=()=>{if(Ds.length>20)return;const A=parseInt(mi.toString());isNaN(A)||A<1||A>120||(E(D=>({...D,name:Ds,age:A,avatarId:Oi,activeFrame:Q!=="none"?Q:void 0})),it(!1))},ni=async()=>{try{if(y){const{deleteUserAccount:A}=await Xt(async()=>{const{deleteUserAccount:z}=await Promise.resolve().then(()=>ka);return{deleteUserAccount:z}},void 0,import.meta.url);if(await A(y))console.log("[LexiMix] Account deleted from cloud");else{alert("Fehler beim Lschen des Accounts. Bitte versuche es spter erneut.");return}}Fi(),setTimeout(()=>window.location.reload(),100)}catch(A){console.error("[LexiMix] Delete error:",A),localStorage.removeItem("leximix_user"),localStorage.removeItem("leximix_cloud_user"),window.location.reload()}},zl=()=>{fr(p.name||""),Ul(p.age||18),pr(p.avatarId||us[0]),Ls(p.activeFrame||"none"),Qs(""),En(""),it(!0)},Vl=async()=>{if(En(""),!qt||qt.length<3){En("Benutzername zu kurz (mindestens 3 Zeichen)");return}if(qt.length>30){En("Benutzername zu lang (maximal 30 Zeichen)");return}if(!/^[a-zA-Z0-9]+$/.test(qt)){En("Nur Buchstaben und Zahlen erlaubt (a-z, 0-9)");return}if(p.coins<2500){En("Nicht genug Mnzen (2500 bentigt)"),et.playError();return}try{const{normalizeUsername:A,database:D}=await Xt(async()=>{const{normalizeUsername:Ie,database:Xe}=await Promise.resolve().then(()=>ka);return{normalizeUsername:Ie,database:Xe}},void 0,import.meta.url),{ref:z,get:ce}=await Xt(async()=>{const{ref:Ie,get:Xe}=await Promise.resolve().then(()=>Pc);return{ref:Ie,get:Xe}},void 0,import.meta.url),oe=A(qt),Ue=z(D,`users/${oe}`);if((await ce(Ue)).exists()&&oe!==A(y||"")){En("Benutzername bereits vergeben"),et.playError();return}Is(!0)}catch(A){console.error("[Username Change] Error:",A),En("Fehler beim ndern des Benutzernamens"),et.playError()}},gr=async()=>{try{const{normalizeUsername:A}=await Xt(async()=>{const{normalizeUsername:z}=await Promise.resolve().then(()=>ka);return{normalizeUsername:z}},void 0,import.meta.url),D=A(qt);E(z=>({...z,coins:z.coins-2500})),b(D),localStorage.setItem("leximix_cloud_user",D),et.playWin(),Is(!1),Qs(""),it(!1),setTimeout(()=>{alert("Benutzername erfolgreich gendert!")},100)}catch(A){console.error("[Confirm Username Change] Error:",A),En("Fehler beim ndern des Benutzernamens"),et.playError(),Is(!1)}},bi=async()=>{if(!y){$("Du musst angemeldet sein, um Gutscheine einzulsen");return}if(!R.trim()){$("Bitte gib einen Gutscheincode ein");return}try{const{redeemVoucher:A}=await Xt(async()=>{const{redeemVoucher:z}=await Promise.resolve().then(()=>Jd);return{redeemVoucher:z}},void 0,import.meta.url),D=await A(y,R);if(D.success){D.coinsAwarded&&E(ce=>({...ce,coins:ce.coins+D.coinsAwarded})),D.isPremium&&E(ce=>({...ce,isPremium:!0,premiumActivatedAt:Date.now()}));let z=D.coinsAwarded?` Gutschein eingelst! + ${D.coinsAwarded} Mnzen`:" Gutschein erfolgreich eingelst!";D.isPremium&&(z=" PREMIUM STATUS AKTIVIERT! "),K(z),$(""),I(""),et.playWin(),setTimeout(()=>{$e(!1),K("")},2e3)}else $(D.error||"Fehler beim Einlsen"),K(""),et.playError()}catch(A){console.error("[Voucher Redeem] Error:",A),$("Fehler beim Einlsen des Gutscheins"),K(""),et.playError()}},zu=A=>{A.type==="currency"?A.paypalLink?window.open(A.paypalLink,"_blank"):(et.playWin(),E(D=>({...D,coins:D.coins+(A.currencyAmount||0)})),alert(`${W.SHOP.SUCCESS}: ${A.name} `)):p.coins>=A.cost?(et.playWin(),E(D=>({...D,coins:D.coins-A.cost,ownedAvatars:[...D.ownedAvatars||[],A.value]}))):et.playError()},fo={[me.CLASSIC]:{bg:"#06FFA5",accent:"#000"},[me.SPEEDRUN]:{bg:"#FF7F00",accent:"#000"},[me.CHAIN]:{bg:"#0096FF",accent:"#000"},[me.CATEGORY]:{bg:"#FFBE0B",accent:"#000"},[me.SUDOKU]:{bg:"#A855F7",accent:"#000"},[me.CHALLENGE]:{bg:"#FF006E",accent:"#000"},[me.RIDDLE]:{bg:"#EC4899",accent:"#000"},[me.LETTER_MAU_MAU]:{bg:"#C084FC",accent:"#000"},[me.CHESS]:{bg:"#4B5563",accent:"#000"},[me.CHECKERS]:{bg:"#DC2626",accent:"#000"},[me.NINE_MENS_MORRIS]:{bg:"#D97706",accent:"#000"},[me.RUMMY]:{bg:"#059669",accent:"#000"}},Wn=({mode:A,title:D,desc:z,icon:ce,locked:oe=!1,comingSoon:Ue=!1})=>{const Re=fo[A]||{bg:"#FF006E"};return l.jsxs("button",{disabled:Ue,onClick:()=>is(A),className:`relative text-left overflow-hidden transition-all duration-200 group ${Ue?"cursor-not-allowed opacity-60":"cursor-pointer"}`,style:{background:"var(--color-surface)",border:"3px solid var(--color-border)",borderRadius:"16px",boxShadow:"6px 6px 0px var(--color-border)"},onMouseEnter:Ie=>{Ue||(Ie.currentTarget.style.transform="translateY(-4px)",Ie.currentTarget.style.boxShadow="10px 10px 0px #000")},onMouseLeave:Ie=>{Ie.currentTarget.style.transform="translateY(0)",Ie.currentTarget.style.boxShadow="6px 6px 0px #000"},children:[l.jsxs("div",{className:"absolute top-0 left-0 right-0 h-1.5 flex",style:{borderRadius:"13px 13px 0 0",overflow:"hidden"},children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#0096FF"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsx("div",{className:"absolute -right-6 -bottom-6 opacity-20 group-hover:opacity-40 group-hover:scale-110 group-hover:rotate-12 transition-all duration-300",children:l.jsx(ce,{size:100,style:{color:Re.bg},strokeWidth:1.5})}),l.jsxs("div",{className:"p-5 pt-6 relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"p-2.5 transition-all group-hover:scale-110",style:{background:Re.bg,border:"3px solid var(--color-border)",transform:"rotate(-3deg)",boxShadow:"3px 3px 0px var(--color-border)"},children:l.jsx(ce,{size:24,style:{color:"#000"},strokeWidth:2.5})}),oe&&l.jsx("span",{className:"px-2 py-1 text-[10px] font-black uppercase",style:{background:"#000",color:"#FFBE0B",transform:"skewX(-5deg)"},children:"PRO"})]}),l.jsx("h3",{className:"font-black text-lg sm:text-xl uppercase leading-tight mb-2",style:{color:"var(--color-text)",transform:"skewX(-3deg)"},children:D}),l.jsx("p",{className:"text-xs sm:text-sm font-bold leading-tight mb-4",style:{color:"var(--color-text-muted)"},children:z}),l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 font-black text-xs uppercase transition-all group-hover:scale-105",style:{background:Re.bg,color:"#000",border:"3px solid #000",boxShadow:"4px 4px 0px #000",transform:"skewX(-5deg)"},children:[l.jsx(Xr,{size:12,fill:"currentColor",style:{transform:"skewX(5deg)"}}),l.jsx("span",{style:{transform:"skewX(5deg)"},children:oe?"UNLOCK":W.HOME.PLAY})]})]})]})},Ea=()=>{const A=typeof h.age=="string"?parseInt(h.age)||0:h.age,D={...p,name:h.name,age:A,language:h.language};E(D),localStorage.setItem("leximix_user",JSON.stringify(D)),e("AUTH"),et.playWin()},si=()=>l.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 animate-fade-in",children:[l.jsx("div",{className:"w-full flex justify-center mb-8",children:l.jsx("img",{src:"/LexiMix_Logo_Dark.png",alt:"LexiMix",className:"h-20 w-auto object-contain"})}),l.jsxs("div",{className:"w-full max-w-md relative z-10",children:[c===0&&l.jsxs("div",{className:"space-y-6 text-center p-6 relative overflow-hidden",style:{background:"#FFF",border:"4px solid #000",boxShadow:"8px 8px 0 #000"},children:[l.jsxs("div",{className:"absolute top-0 left-0 right-0 h-3 flex",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#0096FF"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsx("h1",{className:"text-3xl font-black uppercase tracking-wide mt-2",style:{color:"#000"},children:W.ONBOARDING.WELCOME}),l.jsx("p",{className:"font-bold text-sm",style:{color:"#666"},children:W.ONBOARDING.SELECT_LANG}),l.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[l.jsxs("button",{onClick:()=>{f({...h,language:pe.EN}),d(1),et.playClick()},className:"w-full py-4 flex items-center justify-between px-6 transition-all active:scale-95 group relative overflow-hidden",style:{background:"#0096FF",border:"3px solid #000",boxShadow:"4px 4px 0 #000"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-black text-lg uppercase text-white",children:"English"})]}),l.jsx(vn,{className:"rotate-180 text-white group-hover:translate-x-1 transition-transform"})]}),l.jsxs("button",{onClick:()=>{f({...h,language:pe.DE}),d(1),et.playClick()},className:"w-full py-4 flex items-center justify-between px-6 transition-all active:scale-95 group relative overflow-hidden",style:{background:"#FF006E",border:"3px solid #000",boxShadow:"4px 4px 0 #000"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-black text-lg uppercase text-white",children:"Deutsch"})]}),l.jsx(vn,{className:"rotate-180 text-white group-hover:translate-x-1 transition-transform"})]}),l.jsxs("button",{onClick:()=>{f({...h,language:pe.ES}),d(1),et.playClick()},className:"w-full py-4 flex items-center justify-between px-6 transition-all active:scale-95 group relative overflow-hidden",style:{background:"#FFBE0B",border:"3px solid #000",boxShadow:"4px 4px 0 #000"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-black text-lg uppercase text-white",children:"Espaol"})]}),l.jsx(vn,{className:"rotate-180 text-white group-hover:translate-x-1 transition-transform"})]})]})]}),c===1&&l.jsxs("div",{className:"space-y-8 bg-white p-8 relative",style:{border:"6px solid #000",boxShadow:"12px 12px 0 #000",transform:"translate(20px, -10px) skew(-3deg)"},children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-4",style:{background:"linear-gradient(90deg, #FF7F00 0%, #FFBE0B 50%, #06FFA5 100%)"}}),l.jsx("div",{className:"w-24 h-24 mx-auto flex items-center justify-center mt-4",style:{backgroundColor:"#FF006E",border:"4px solid #000",boxShadow:"8px 8px 0 #000",transform:"skew(-8deg)"},children:l.jsx(AN,{size:56,style:{color:"#FFF"}})}),l.jsx("h2",{className:"text-4xl font-black uppercase tracking-wider text-center",style:{color:"#000"},children:W.ONBOARDING.NAME_TITLE}),l.jsx("input",{type:"text",maxLength:30,value:h.name,onChange:A=>f({...h,name:A.target.value.replace(/[^a-zA-Z0-9]/g,"")}),placeholder:W.ONBOARDING.NAME_PLACEHOLDER,className:"w-full text-center text-3xl font-black uppercase p-4",style:{backgroundColor:"#FFF",border:"4px solid #000",color:"#000",transform:"skew(-2deg)"},autoFocus:!0}),h.name.length===20&&l.jsx("p",{className:"text-sm text-center font-black uppercase",style:{color:"#FF006E"},children:W.ONBOARDING.ERR_NAME}),l.jsx("button",{disabled:!h.name,onClick:()=>{d(2),et.playClick()},className:"w-full text-xl font-black uppercase p-4 transition-all duration-100",style:{backgroundColor:"#FF006E",border:"4px solid #000",boxShadow:"8px 8px 0 #000",color:"#FFF",transform:"skew(-5deg)",opacity:h.name?1:.5,cursor:h.name?"pointer":"not-allowed"},children:W.ONBOARDING.CONTINUE})]}),c===2&&l.jsxs("div",{className:"space-y-8 bg-white p-8 relative",style:{border:"6px solid #000",boxShadow:"12px 12px 0 #000",transform:"translate(-15px, 5px) skew(4deg)"},children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-4",style:{background:"linear-gradient(90deg, #8338EC 0%, #0096FF 50%, #06FFA5 100%)"}}),l.jsx("div",{className:"w-24 h-24 mx-auto flex items-center justify-center mt-4",style:{backgroundColor:"#FFBE0B",border:"4px solid #000",boxShadow:"8px 8px 0 #000",transform:"skew(8deg)"},children:l.jsx(NN,{size:56,style:{color:"#000"}})}),l.jsx("h2",{className:"text-4xl font-black uppercase tracking-wider text-center",style:{color:"#000"},children:W.ONBOARDING.AGE_TITLE}),l.jsx("input",{type:"number",min:1,max:120,value:h.age||"",onChange:A=>{const D=A.target.value,z=parseInt(D);(D===""||z>=1&&z<=120)&&f({...h,age:D?z:0})},placeholder:W.ONBOARDING.AGE_PLACEHOLDER,className:"w-full text-center text-5xl font-black p-4",style:{backgroundColor:"#FFF",border:"4px solid #000",color:"#000",transform:"skew(-2deg)"},autoFocus:!0}),l.jsx("button",{disabled:!h.age||Number(h.age)<1,onClick:Ea,className:"w-full text-xl font-black uppercase p-4 transition-all duration-100",style:{backgroundColor:"#8338EC",border:"4px solid #000",boxShadow:"8px 8px 0 #000",color:"#FFF",transform:"skew(-5deg)",opacity:!h.age||Number(h.age)<1?.5:1,cursor:!h.age||Number(h.age)<1?"not-allowed":"pointer"},children:W.ONBOARDING.START})]})]})]}),po=async(A,D)=>{if(console.log("PayPal Success:",A),et.playWin(),E(z=>{const ce={...z,isPremium:!0,premiumActivatedAt:Date.now()};return D==="monthly"&&(ce.level=(ce.level||1)+10),ce}),y)try{const{saveToCloud:z}=await Xt(async()=>{const{saveToCloud:oe}=await Promise.resolve().then(()=>ka);return{saveToCloud:oe}},void 0,import.meta.url),ce={...p,isPremium:!0,premiumActivatedAt:Date.now(),level:D==="monthly"?(p.level||1)+10:p.level};await z(y,ce)}catch(z){console.error("Failed to save premium status",z)}alert(`Premium erfolgreich aktiviert!(${D==="monthly"?"+10 Level Boost":"30 Tage"})`),gn(!1)},xa=()=>{const A=p.theme==="dark"?"light":"dark";E(D=>({...D,theme:A})),et.playClick()},vi=()=>{gs(!1),e("LEVELS")},Kl=()=>{gs(!1),Js(!0)},mo=()=>{const A=[pe.DE,pe.EN,pe.ES],z=(A.indexOf(p.language)+1)%A.length;E(ce=>({...ce,language:A[z]})),et.playClick()},Vu=A=>{switch(A){case pe.DE:return"DEUTSCH";case pe.EN:return"ENGLISH";case pe.ES:return"ESPAOL";default:return"DEUTSCH"}},go=()=>{var A,D,z,ce;return l.jsxs("div",{className:"h-full flex flex-col relative z-10 overflow-y-auto pb-24",style:{background:"var(--color-bg)"},children:[l.jsxs("div",{className:"flex h-4 w-full",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 p-4",children:[l.jsxs("button",{onClick:zl,className:"flex items-center gap-3 p-3 transition-all duration-100",style:{background:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},onMouseEnter:oe=>{oe.currentTarget.style.transform="translateY(-4px)",oe.currentTarget.style.boxShadow="10px 10px 0px #000"},onMouseLeave:oe=>{oe.currentTarget.style.transform="translateY(0)",oe.currentTarget.style.boxShadow="6px 6px 0px #000"},children:[l.jsx("div",{className:"w-14 h-14 overflow-hidden",style:{border:"3px solid #000",background:"var(--color-bg)"},children:l.jsx("img",{src:`https://api.dicebear.com/9.x/bottts-neutral/svg?seed=${p.avatarId}`,alt:"Avatar",className:"w-full h-full"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"font-black text-lg uppercase leading-none",style:{color:"#000"},children:y||p.name}),l.jsxs("div",{className:"mt-2 px-3 py-1 font-black text-xs uppercase inline-block",style:{background:"#FF006E",color:"#FFF",border:"2px solid #000"},children:["LVL ",p.level,"  ",p.xp%100,"/100 XP"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[l.jsxs("button",{onClick:()=>e("SHOP"),className:"flex items-center gap-1.5 px-2.5 sm:px-4 py-2 font-black text-sm transition-all duration-100",style:{background:"#FFBE0B",border:"3px solid #000",borderRadius:"10px",boxShadow:"4px 4px 0px #000"},children:[l.jsx(ws,{size:16,style:{color:"#000"}}),l.jsx("span",{style:{color:"#000"},children:p.coins})]}),l.jsxs("button",{onClick:mo,className:"flex items-center justify-center w-10 h-10 sm:w-auto sm:h-auto sm:px-3 sm:py-2 sm:gap-1.5 font-black text-sm transition-all duration-100",style:{background:"#8338EC",color:"#FFF",border:"3px solid #000",borderRadius:"10px",boxShadow:"4px 4px 0px #000"},children:[l.jsx(PI,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:Vu(p.language)})]}),l.jsxs("button",{onClick:xa,className:"flex items-center justify-center w-10 h-10 sm:w-auto sm:h-auto sm:px-3 sm:py-2 sm:gap-1.5 font-black text-sm transition-all duration-100",style:{background:p.theme==="dark"?"#FFBE0B":"#1a1a2e",color:p.theme==="dark"?"#000":"#FFF",border:"3px solid #000",borderRadius:"10px",boxShadow:"4px 4px 0px #000"},title:p.theme==="dark"?((A=W.THEME)==null?void 0:A.LIGHT)||"LIGHT":((D=W.THEME)==null?void 0:D.DARK)||"DARK",children:[p.theme==="dark"?l.jsx(x2,{size:16}):l.jsx(QI,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:p.theme==="dark"?((z=W.THEME)==null?void 0:z.LIGHT)||"LIGHT":((ce=W.THEME)==null?void 0:ce.DARK)||"DARK"})]})]})]}),l.jsx("div",{className:"mx-4 mb-6",children:l.jsxs("div",{className:"p-4 flex flex-wrap items-center justify-between gap-3 geo-dots relative overflow-hidden",style:{background:y?"#06FFA5":"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx("div",{className:"absolute -right-6 -bottom-6 opacity-10",children:l.jsx(Bv,{size:80,style:{color:"#000"}})}),l.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[l.jsx(ci,{size:28,style:{color:y?"#000":"#FF006E"},strokeWidth:2.5}),l.jsxs("div",{children:[l.jsx("p",{className:"font-black text-sm uppercase",style:{color:"#000"},children:y||"Cloud Save"}),l.jsx("p",{className:"text-xs font-bold",style:{color:"rgba(0,0,0,0.6)"},children:y?ne?`Sync: ${new Date(ne).toLocaleTimeString("de-DE")}`:"Cloud Sync aktiv":"Nicht angemeldet"})]})]}),y?l.jsx("button",{onClick:Fi,className:"px-4 py-2 font-black uppercase text-sm transition-all duration-100",style:{background:"#FF006E",color:"#FFF",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},onMouseEnter:oe=>{oe.currentTarget.style.transform="translateY(-2px)",oe.currentTarget.style.boxShadow="6px 6px 0px #000"},onMouseLeave:oe=>{oe.currentTarget.style.transform="translateY(0)",oe.currentTarget.style.boxShadow="4px 4px 0px #000"},children:"Logout"}):l.jsx("button",{onClick:()=>N(!0),className:"px-4 py-2 font-black uppercase text-sm transition-all duration-100",style:{background:"#FF7F00",color:"#000",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},onMouseEnter:oe=>{oe.currentTarget.style.transform="translateY(-2px)",oe.currentTarget.style.boxShadow="6px 6px 0px #000"},onMouseLeave:oe=>{oe.currentTarget.style.transform="translateY(0)",oe.currentTarget.style.boxShadow="4px 4px 0px #000"},children:"Login"})]})}),l.jsxs("div",{className:"flex flex-col items-center justify-center mb-6 px-4",children:[l.jsx("div",{className:"p-6 mb-4",style:{background:"#FFF",border:"6px solid #000",boxShadow:"12px 12px 0px #8338EC",transform:"rotate(-2deg)"},children:l.jsx("img",{src:"/LexiMix_Logo_Dark.png",alt:"LexiMix",className:"h-24 md:h-32 w-auto"})}),l.jsx("div",{className:"px-6 py-2 font-black text-sm tracking-[0.3em] uppercase",style:{background:"#FF006E",color:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #000",transform:"skew(-5deg)"},children:l.jsx("span",{style:{transform:"skew(5deg)",display:"inline-block"},children:W.HOME.TAGLINE})})]}),l.jsxs("div",{className:"mb-6 px-4",children:[l.jsx(Vk,{xp:p.xp,level:p.level,isPremium:p.isPremium,onBuyPremium:()=>e("SEASON"),lang:p.language}),l.jsxs("div",{className:"flex gap-3 mt-4",children:[l.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center justify-center",style:{background:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #000",transform:"skew(-2deg)"},children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider mb-1",style:{color:"#4A4A4A",transform:"skew(2deg)"},children:"Season Ende"}),l.jsxs("div",{className:"flex items-center gap-2 font-black",style:{color:"#000",transform:"skew(2deg)"},children:[l.jsx(Qr,{size:16}),Math.max(0,Math.ceil((Xc().endDate-Date.now())/(1e3*60*60*24)))," Tage"]})]}),l.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center justify-center",style:{background:p.isPremium?"#FFBE0B":"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #000",transform:"skew(2deg)"},children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider mb-1",style:{color:"#4A4A4A",transform:"skew(-2deg)"},children:"Premium"}),p.isPremium?l.jsxs("div",{className:"flex items-center gap-2 font-black",style:{color:"#000",transform:"skew(-2deg)"},children:[l.jsx(dl,{size:16})," AKTIV"]}):l.jsxs("div",{className:"flex items-center gap-1 font-black text-sm",style:{color:"#000",transform:"skew(-2deg)"},children:[l.jsx(Xo,{size:14})," Inaktiv"]})]})]})]}),l.jsx("div",{className:"px-4 mb-5",children:l.jsx("div",{className:"inline-block px-5 py-2 font-black text-lg uppercase tracking-wider",style:{background:"#000",color:"#FFF"},children:"Game Modes"})}),l.jsxs("div",{id:"gamemodes",className:"grid grid-cols-2 gap-4 mb-8 px-4",children:[l.jsx(Wn,{mode:me.CLASSIC,title:W.MODES.CLASSIC.title,desc:W.MODES.CLASSIC.desc,icon:zv}),l.jsx(Wn,{mode:me.SPEEDRUN,title:W.MODES.SPEEDRUN.title,desc:W.MODES.SPEEDRUN.desc,icon:rr}),l.jsx(Wn,{mode:me.CHAIN,title:W.MODES.CHAIN.title,desc:W.MODES.CHAIN.desc,icon:$I}),l.jsx(Wn,{mode:me.CATEGORY,title:W.MODES.CATEGORY.title,desc:W.MODES.CATEGORY.desc,icon:pI}),l.jsx(Wn,{mode:me.SUDOKU,title:W.MODES.SUDOKU.title,desc:W.MODES.SUDOKU.desc,icon:HI}),l.jsx(Wn,{mode:me.CHALLENGE,title:W.MODES.CHALLENGE.title,desc:W.MODES.CHALLENGE.desc,icon:Hv,locked:!p.isPremium}),l.jsx(Wn,{mode:me.RIDDLE,title:W.MODES.RIDDLE.title,desc:W.MODES.RIDDLE.desc,icon:Zo}),l.jsx(Wn,{mode:me.LETTER_MAU_MAU,title:W.MODES.LETTER_MAU_MAU.title,desc:W.MODES.LETTER_MAU_MAU.desc,icon:Cn,locked:!p.isPremium}),l.jsx(Wn,{mode:me.CHESS,title:W.MODES.CHESS.title,desc:W.MODES.CHESS.desc,icon:S0}),l.jsx(Wn,{mode:me.CHECKERS,title:W.MODES.CHECKERS.title,desc:W.MODES.CHECKERS.desc,icon:T0}),l.jsx(Wn,{mode:me.NINE_MENS_MORRIS,title:W.MODES.NINE_MENS_MORRIS.title,desc:W.MODES.NINE_MENS_MORRIS.desc,icon:FS}),l.jsx(Wn,{mode:me.RUMMY,title:W.MODES.RUMMY.title,desc:W.MODES.RUMMY.desc,icon:WI})]}),l.jsx("div",{className:"mx-4 mb-8 p-3 text-center",style:{background:"#000",border:"4px solid #000"},children:l.jsx("span",{className:"font-black text-xs uppercase tracking-widest",style:{color:"#FFF8E7"},children:"Made by Kevin Wagner 2025"})})]})},Eo=()=>{var D;const A=["#06FFA5","#FFBE0B","#FF7F00","#FF006E","#8338EC"];return l.jsxs("div",{className:"h-full overflow-y-auto w-full max-w-4xl mx-auto geo-pattern geo-shapes",style:{background:"var(--color-bg)"},children:[l.jsxs("div",{className:"flex h-3 w-full sticky top-0 z-30",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsxs("div",{className:"sticky top-3 z-20 mx-4 mt-4 p-4 flex items-center justify-between",style:{background:"var(--color-surface)",border:"4px solid var(--color-border)",boxShadow:"6px 6px 0px var(--color-border)"},children:[l.jsx("button",{onClick:()=>e("HOME"),className:"w-12 h-12 flex items-center justify-center transition-all active:translate-y-1",style:{background:"#FF006E",border:"3px solid var(--color-border)",boxShadow:"4px 4px 0px var(--color-border)"},children:l.jsx(vn,{size:24,style:{color:"#000"}})}),l.jsx("h2",{className:"text-xl md:text-2xl font-black uppercase tracking-wide",style:{color:"var(--color-text)",transform:"skew(-3deg)"},children:(D=W.MODES[Y==null?void 0:Y.mode])==null?void 0:D.title}),l.jsxs("div",{className:"px-4 py-2 flex items-center gap-2 font-black text-sm uppercase",style:{background:"#FFBE0B",border:"3px solid var(--color-border)",boxShadow:"4px 4px 0px var(--color-border)",transform:"skew(3deg)"},children:[l.jsx(ci,{size:16,style:{color:"#000"}}),l.jsxs("span",{style:{color:"#000",transform:"skew(-3deg)"},children:["LVL ",p.level]})]})]}),l.jsx("div",{className:"p-4 md:p-8 w-full",children:[x.BEGINNER,x.LEARNER,x.SKILLED,x.EXPERT,x.MASTER].map((z,ce)=>{const oe=z>2,Ue=W.LEVELS.TIERS[z-1],Re=z*20,Ie=A[ce],Xe=ce%2===0?-2:2;return l.jsxs("div",{className:"mb-8 p-5 md:p-6",style:{background:"var(--color-surface)",border:"4px solid var(--color-border)",boxShadow:`8px 8px 0px ${Ie}`,transform:`skew(${Xe}deg)`,animationDelay:`${ce*100}ms`},children:[l.jsxs("div",{className:"flex items-center justify-between mb-5",style:{transform:`skew(${-Xe}deg)`},children:[l.jsxs("div",{className:"flex flex-col items-start gap-2",children:[l.jsx("div",{className:"px-4 py-1 font-black text-base md:text-lg uppercase tracking-wide",style:{background:oe?"#CCC":Ie,color:"#000",border:"3px solid var(--color-border)"},children:Ue}),!oe&&l.jsxs("span",{className:"text-xs font-black uppercase flex items-center gap-1 px-3 py-1",style:{background:"#FF006E",color:"#FFF",border:"2px solid var(--color-border)"},children:[l.jsx(Cn,{size:12})," +",Re," XP"]})]}),l.jsxs("div",{className:"text-xs font-black uppercase tracking-wider px-3 py-2",style:{background:"#000",color:Ie,border:"2px solid var(--color-border)"},children:["LEVEL ",(z-1)*50+1,"  ",z*50," ",oe&&l.jsx(Xo,{size:12,className:"inline ml-1"})]})]}),l.jsx("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-2 md:gap-3",style:{transform:`skew(${-Xe}deg)`},children:Array.from({length:50}).map((Be,Ct)=>{const ct=(z-1)*50+Ct+1,cn=`${Y==null?void 0:Y.mode}_${z}_${ct-1}`;let Yn=!1;if(ct===1)Yn=!0;else if(Ct===0){const Er=`${Y==null?void 0:Y.mode}_${z-1}_${ct-1}`;Yn=!!p.completedLevels[Er]}else Yn=!!p.completedLevels[cn];if(Yn){const Er=`${Y==null?void 0:Y.mode}_${z}_${ct}`,Os=p.completedLevels[Er];return l.jsx("button",{onClick:()=>!Os&&Bl(z,ct),disabled:Os,className:"aspect-square flex items-center justify-center font-black text-sm md:text-base transition-all duration-100",style:{background:Os?"#06FFA5":"var(--color-surface)",color:Os?"#000":"var(--color-text)",border:"3px solid var(--color-border)",boxShadow:Os?"4px 4px 0px var(--color-border)":"3px 3px 0px var(--color-border)"},onMouseEnter:ks=>{Os||(ks.currentTarget.style.transform="translateY(-3px)",ks.currentTarget.style.boxShadow="6px 6px 0px var(--color-border)",ks.currentTarget.style.background=Ie,ks.currentTarget.style.color="#000")},onMouseLeave:ks=>{Os||(ks.currentTarget.style.transform="translateY(0)",ks.currentTarget.style.boxShadow="3px 3px 0px var(--color-border)",ks.currentTarget.style.background="var(--color-surface)",ks.currentTarget.style.color="var(--color-text)")},children:Os?l.jsx(Xn,{size:20,strokeWidth:4}):ct},ct)}return l.jsx("button",{disabled:!0,className:"aspect-square flex items-center justify-center",style:{background:"var(--color-bg)",color:"var(--color-text-muted)",border:"3px solid var(--color-border)",opacity:.5},children:l.jsx(Xo,{size:12})},ct)})})]},z)})})]})},Ku=()=>{var D;const A=(D=Pk[ye])==null?void 0:D[p.language];return A?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"var(--color-bg)"},children:[l.jsxs("div",{className:"fixed top-0 left-0 right-0 flex h-3 w-full z-50",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsxs("div",{className:"w-full max-w-md p-8 relative",style:{background:"var(--color-surface)",border:"6px solid var(--color-border)",boxShadow:"12px 12px 0px #8338EC",transform:"rotate(-1deg)"},children:[l.jsxs("div",{className:"flex flex-col items-center mb-8",style:{transform:"rotate(1deg)"},children:[l.jsx("div",{className:"p-4 mb-4",style:{background:"#06FFA5",border:"4px solid var(--color-border)",boxShadow:"6px 6px 0px var(--color-border)",transform:"skew(-5deg)"},children:l.jsx(zv,{size:48,style:{color:"#000"}})}),l.jsx("h2",{className:"text-2xl font-black uppercase tracking-wide",style:{color:"var(--color-text)",transform:"skew(-3deg)"},children:A.title}),l.jsx("span",{className:"text-xs font-black uppercase tracking-widest mt-2 px-4 py-1",style:{background:"#FF006E",color:"#FFF",border:"2px solid var(--color-border)"},children:W.TUTORIAL.HEADER})]}),l.jsx("p",{className:"text-center mb-8 leading-relaxed font-bold",style:{color:"var(--color-text-muted)"},children:A.text}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:()=>e("LEVELS"),className:"flex-1 py-4 font-black text-sm uppercase flex items-center justify-center gap-2 transition-all duration-100",style:{background:"var(--color-surface)",color:"var(--color-text)",border:"4px solid var(--color-border)",boxShadow:"4px 4px 0px var(--color-border)"},onMouseEnter:z=>{z.currentTarget.style.transform="translateY(-2px)",z.currentTarget.style.boxShadow="6px 6px 0px var(--color-border)"},onMouseLeave:z=>{z.currentTarget.style.transform="translateY(0)",z.currentTarget.style.boxShadow="4px 4px 0px var(--color-border)"},children:[l.jsx(vn,{size:16})," ",W.TUTORIAL.BACK]}),l.jsxs("button",{onClick:Bu,className:"flex-[2] py-4 font-black text-sm uppercase flex items-center justify-center gap-2 transition-all duration-100",style:{background:"#FF006E",color:"#FFF",border:"4px solid var(--color-border)",boxShadow:"6px 6px 0px var(--color-border)",transform:"skew(-3deg)"},onMouseEnter:z=>{z.currentTarget.style.transform="skew(-3deg) translateY(-4px)",z.currentTarget.style.boxShadow="10px 10px 0px var(--color-border)"},onMouseLeave:z=>{z.currentTarget.style.transform="skew(-3deg)",z.currentTarget.style.boxShadow="6px 6px 0px var(--color-border)"},children:[l.jsx("span",{style:{transform:"skew(3deg)"},children:W.TUTORIAL.START})," ",l.jsx(Xr,{size:16,fill:"currentColor"})]})]})]})]}):null},Gn=()=>{var Ue,Re;if((Y==null?void 0:Y.mode)===me.LETTER_MAU_MAU)return l.jsx(b0,{onBack:()=>e("HOME"),friendCode:p.friendCode,onGameEnd:(Ie,Xe)=>{E(Be=>({...Be,coins:Be.coins+Ie,xp:Be.xp+Xe,level:Math.floor((Be.xp+Xe)/100)+1})),et.playWin(),e("HOME")}});if((Y==null?void 0:Y.mode)===me.CHAIN)return l.jsx(h4,{language:p.language,user:p,onUpdateUser:E,onBack:()=>e("LEVELS"),onGameEnd:(Ie,Xe)=>{E(Be=>{let Ct=Be.completedLevels;if(Xe>0&&Y){const ct=`${me.CHAIN}_${Y.tier}_${Y.levelId}`;Ct={...Be.completedLevels,[ct]:!0}}return{...Be,coins:Be.coins+Ie,xp:Be.xp+Xe,level:Math.floor((Be.xp+Xe)/100)+1,completedLevels:Ct}}),Ie>0&&et.playWin(),e("LEVELS")}});if((Y==null?void 0:Y.mode)===me.CHESS)return l.jsx(Qj,{language:p.language,user:p,onBack:()=>e("HOME"),onGameEnd:(Ie,Xe)=>{Ie>0&&(E(Be=>({...Be,coins:Be.coins+Xe,xp:Be.xp+Ie,level:Math.floor((Be.xp+Ie)/100)+1})),et.playWin()),e("HOME")},multiplayerGameId:ao,opponentName:ma,isHost:F,levelId:(Y==null?void 0:Y.levelId)||1});if(!H)return null;const A=(Y==null?void 0:Y.mode)===me.SUDOKU;Y==null||Y.mode,me.SPEEDRUN,Y==null||Y.mode,me.CHALLENGE;const D=(Y==null?void 0:Y.mode)===me.RIDDLE,z=H.timeLeft!==void 0,ce=A&&((Ue=H.data)!=null&&Ue.sudokuGrid)?d8(H.currentGrid,H.data.sudokuGrid):void 0,oe=((Re=fo[(Y==null?void 0:Y.mode)||me.CLASSIC])==null?void 0:Re.bg)||"#06FFA5";return l.jsxs("div",{className:"flex flex-col h-full max-h-screen relative geo-pattern geo-shapes geo-confetti",style:{background:"var(--color-bg)"},children:[l.jsxs("div",{className:"flex h-3 w-full",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsxs("div",{className:"mx-4 mt-4 p-4 flex items-center justify-between relative z-50",style:{background:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx("button",{onClick:()=>{et.playClick(),e("LEVELS")},className:"w-12 h-12 flex items-center justify-center transition-all active:translate-y-1",style:{background:oe,border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:l.jsx(vn,{size:24,style:{color:"#000"}})}),l.jsx("div",{className:"flex-1 mx-4 text-center",children:l.jsx("h1",{className:"font-black text-lg md:text-xl uppercase tracking-wide",style:{color:"#000",transform:"skewX(-3deg)"},children:H.hintTitle||(A?W.GAME.SUDOKU_TITLE:D?W.MODES.RIDDLE.title:W.GAME.CLASSIC_TITLE)})}),l.jsx("div",{className:"flex items-center gap-2",children:z&&l.jsxs("div",{className:"px-4 py-2 font-mono font-black text-lg flex items-center gap-2",style:{background:H.timeLeft<10?"#FF006E":oe,color:"#000",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx(Qr,{size:16})," ",H.timeLeft,"s"]})})]}),l.jsxs("div",{className:"mx-4 mt-4 p-4 relative overflow-hidden",style:{background:oe,border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx("div",{className:"absolute top-3 right-3 opacity-20",children:l.jsx(Tu,{size:14,fill:"currentColor",style:{color:"#000"}})}),l.jsx("div",{className:"absolute bottom-3 right-12 opacity-15",children:l.jsx(Cn,{size:18,style:{color:"#000"}})}),l.jsx("div",{className:"absolute top-1/2 right-4 opacity-10",children:l.jsx(Zo,{size:50,style:{color:"#000"}})}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:"p-1.5",style:{background:"rgba(0,0,0,0.15)",borderRadius:"6px"},children:l.jsx(Zo,{size:16,style:{color:"#000"}})}),l.jsx("p",{className:"text-xs font-black uppercase tracking-wider",style:{color:"rgba(0,0,0,0.6)"},children:"HINWEIS"})]}),l.jsxs("p",{className:"font-black text-base md:text-lg leading-snug",style:{color:"#000"},children:['"',H.hintDesc||(A?W.GAME.SUDOKU_DESC:"..."),'"']}),!A&&l.jsxs("div",{className:"inline-block mt-3 px-3 py-1 text-sm font-black",style:{background:"rgba(0,0,0,0.15)",color:"#000",border:"2px solid #000"},children:[H.targetWord.length," Buchstaben"]})]})]}),l.jsx("div",{className:"flex-1 w-full flex flex-col justify-center py-6 overflow-hidden",children:l.jsx("div",{className:"w-full max-w-xl mx-auto px-4",children:A?l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(c4,{board:H.currentGrid,original:H.data.sudokuPuzzle,selectedCell:H.selectedCell,validation:ce,onCellSelect:(Ie,Xe)=>{ae(Be=>({...Be,selectedCell:{r:Ie,c:Xe}})),ge.current&&ge.current.focus()}}),l.jsx(u4,{onInput:Ie=>co(Ie),onDelete:()=>{const Ie=Se.current;if(Ie!=null&&Ie.selectedCell){const{r:Xe,c:Be}=Ie.selectedCell;if(Ie.data.sudokuPuzzle[Xe][Be]===null){const Ct=[...Ie.currentGrid];Ct[Xe][Be]=null,ae(ct=>({...ct,currentGrid:Ct})),et.playClick()}}}})]}):l.jsx(h8,{guesses:H.guesses,currentGuess:H.currentGuess,targetLength:H.targetWord.length,turn:H.guesses.length})})}),l.jsx("div",{className:"absolute bottom-6 right-6 z-30",children:l.jsxs("button",{onClick:Rf,className:"relative w-16 h-16 flex items-center justify-center transition-all active:scale-95 group",style:{background:"#FFBE0B",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx("div",{className:"absolute -top-2 -right-2 opacity-0 group-hover:opacity-100 transition-opacity animate-bounce",children:l.jsx(Cn,{size:24,style:{color:"#FF006E"}})}),l.jsx(Zo,{size:32,style:{color:"#000"},strokeWidth:2.5}),Le>0&&l.jsxs("div",{className:"absolute -top-3 -right-3 px-2 py-1 text-xs font-black shadow-sm",style:{background:"#FF006E",color:"#FFF",border:"2px solid #000",transform:"rotate(12deg)"},children:["-",Le*10]})]})}),l.jsx("input",{ref:ge,type:"text",className:`opacity-0 absolute top-0 left-0 z-0 ${A?"w-px h-px pointer-events-none":"h-full w-full cursor-default"}`,autoComplete:"off",autoCorrect:"off",autoCapitalize:"characters",spellCheck:"false",value:"",onChange:Ie=>{const Be=Ie.target.value.toUpperCase().slice(-1);/^[A-Z0-9]$/.test(Be)&&(A?co(Be):yi(Be)),Ie.target.value=""},onKeyDown:Ie=>{Ie.key==="Backspace"?A||Gl():Ie.key==="Enter"&&(A||ga())},onBlur:Ie=>{(H==null?void 0:H.status)==="playing"&&setTimeout(()=>Ie.target.focus(),10)}})]})};return l.jsxs("div",{className:`${p.theme} h-screen w-full text-[var(--color-text)] font-sans overflow-hidden relative selection:bg-brutal-pink selection:text-white transition-colors duration-300 geo-pattern geo-shapes`,children:[l.jsx("div",{className:"grain-overlay"}),l.jsx(zk,{isOnline:Pe,t:W}),!Pe&&l.jsxs("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center p-4",style:{background:"var(--color-bg)"},children:[l.jsxs("div",{className:"fixed top-0 left-0 right-0 flex h-3 w-full",children:[l.jsx("div",{className:"flex-1",style:{background:"#FF006E"}}),l.jsx("div",{className:"flex-1",style:{background:"#FF7F00"}}),l.jsx("div",{className:"flex-1",style:{background:"#FFBE0B"}}),l.jsx("div",{className:"flex-1",style:{background:"#06FFA5"}}),l.jsx("div",{className:"flex-1",style:{background:"#8338EC"}})]}),l.jsxs("div",{className:"max-w-md w-full p-8 text-center space-y-6",style:{background:"#FFF",border:"6px solid #000",boxShadow:"12px 12px 0px #FF006E",transform:"rotate(-1deg)"},children:[l.jsx("div",{className:"w-20 h-20 mx-auto flex items-center justify-center",style:{background:"#FF006E",border:"4px solid #000",boxShadow:"6px 6px 0px #000",transform:"skew(-5deg)"},children:l.jsx(L2,{size:40,style:{color:"#FFF"}})}),l.jsxs("div",{style:{transform:"rotate(1deg)"},children:[l.jsx("h2",{className:"text-2xl font-black uppercase mb-3",style:{color:"#000",transform:"skew(-3deg)"},children:"Keine Verbindung"}),l.jsx("p",{className:"text-sm font-bold leading-relaxed",style:{color:"#4A4A4A"},children:"LexiMix bentigt eine aktive Internetverbindung, um deine Fortschritte mit Firebase zu synchronisieren."})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3 justify-center py-2 px-4 font-bold text-xs uppercase",style:{background:"#000",color:"#FF006E"},children:[l.jsx("div",{className:"w-3 h-3",style:{background:"#FF006E"}}),l.jsx("span",{children:"Offline-Modus nicht verfgbar"})]}),l.jsxs("div",{className:"flex items-center gap-3 justify-center py-2 px-4 font-bold text-xs uppercase",style:{background:"#FFBE0B",color:"#000",border:"2px solid #000"},children:[l.jsx(Bv,{size:14}),l.jsx("span",{children:"Firebase-Synchronisation erforderlich"})]})]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-4 font-black uppercase text-lg transition-all duration-100",style:{background:"#FF7F00",color:"#000",border:"4px solid #000",boxShadow:"6px 6px 0px #000",transform:"skew(-3deg)"},onMouseEnter:A=>{A.currentTarget.style.transform="skew(-3deg) translateY(-4px)",A.currentTarget.style.boxShadow="10px 10px 0px #000"},onMouseLeave:A=>{A.currentTarget.style.transform="skew(-3deg)",A.currentTarget.style.boxShadow="6px 6px 0px #000"},children:l.jsx("span",{style:{transform:"skew(3deg)",display:"inline-block"},children:"Neu laden"})})]})]}),t==="ONBOARDING"&&si(),t==="HOME"&&go(),t==="SEASON"&&l.jsx(Wk,{user:p,rewards:ve,onClose:()=>o("HOME"),onClaim:oo,onShowPremium:()=>gn(!0)}),t==="LEVELS"&&Eo(),t==="GAME"&&Gn(),t==="TUTORIAL"&&Ku(),t==="MAU_MAU"&&l.jsx(b0,{onBack:()=>{e("HOME"),ti(null),$t(null)},friendCode:p.friendCode,gameId:ao,opponentUsername:ma,currentUsername:y||p.name,onGameEnd:(A,D)=>{E(z=>({...z,coins:z.coins+A,xp:z.xp+D,level:Math.floor((z.xp+D)/100)+1})),ti(null),$t(null),e("HOME"),et.playWin()}}),t==="SKAT_MAU_MAU"&&l.jsx(b0,{onBack:()=>e("HOME"),friendCode:p.friendCode,onGameEnd:(A,D)=>{E(z=>({...z,coins:z.coins+A,xp:z.xp+D,level:Math.floor((z.xp+D)/100)+1})),e("HOME"),et.playWin()}}),t==="CHECKERS"&&l.jsx(n6,{language:p.language,user:p,onBack:()=>e("HOME"),onGameEnd:(A,D)=>{E(z=>({...z,coins:z.coins+D,xp:z.xp+A,level:Math.floor((z.xp+A)/100)+1})),e("HOME"),et.playWin()},levelId:(Y==null?void 0:Y.levelId)||1}),t==="NINE_MENS_MORRIS"&&l.jsx(o6,{language:p.language,user:p,onBack:()=>e("HOME"),onGameEnd:(A,D)=>{E(z=>({...z,coins:z.coins+D,xp:z.xp+A,level:Math.floor((z.xp+A)/100)+1})),e("HOME"),et.playWin()},levelId:(Y==null?void 0:Y.levelId)||1}),t==="RUMMY"&&l.jsx(f6,{language:p.language,user:p,onBack:()=>e("HOME"),onGameEnd:(A,D)=>{E(z=>({...z,coins:z.coins+D,xp:z.xp+A,level:Math.floor((z.xp+A)/100)+1})),e("HOME"),et.playWin()},levelId:(Y==null?void 0:Y.levelId)||1}),l.jsx(Pt,{isOpen:Fe,onClose:()=>{We(!1),e("HOME")},title:W.MODES.CHALLENGE.title,children:l.jsxs("div",{className:"p-6 text-center space-y-6",children:[l.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-yellow-400 to-orange-600 rounded-full flex items-center justify-center shadow-lg animate-bounce-slow",children:l.jsx(Hv,{size:40,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black text-white mb-2 uppercase italic",children:"Bereit fr die ultimative Prfung?"}),l.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed",children:["Der Challenge Mode kombiniert ",l.jsx("strong",{children:"Wortrtsel"})," und ",l.jsx("strong",{children:"Matheaufgaben"}),". Die Schwierigkeit steigt mit jedem Level an!"]})]}),l.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-white/10 text-left space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rr,{size:16,className:"text-yellow-400"}),l.jsx("span",{className:"text-xs text-gray-300",children:"Begrenzte Zeit pro Aufgabe"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Yo,{size:16,className:"text-red-400"}),l.jsx("span",{className:"text-xs text-gray-300",children:"Keine Hinweise verfgbar"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ya,{size:16,className:"text-purple-400"}),l.jsx("span",{className:"text-xs text-gray-300",children:"Doppelte XP & Mnzen"})]})]}),l.jsxs("button",{onClick:()=>{We(!1),ot&&ot()},className:"w-full py-4 bg-gradient-to-r from-yellow-500 to-orange-600 hover:brightness-110 text-white font-black uppercase tracking-widest rounded-xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2",children:[l.jsx(Xr,{size:20,fill:"currentColor"})," Challenge Starten"]})]})}),l.jsx(Pt,{isOpen:io,onClose:()=>{mr(!1),e("HOME")},title:"Mau Mau",children:l.jsxs("div",{className:"p-6 text-center space-y-6",children:[l.jsxs("div",{className:"w-24 h-24 mx-auto flex items-center justify-center relative",style:{background:"#C084FC",border:"4px solid #000",boxShadow:"6px 6px 0px #000",transform:"rotate(-3deg)"},children:[l.jsx("div",{className:"absolute -top-3 -right-3 animate-spin-slow",children:l.jsx(Cn,{size:24,style:{color:"#FFBE0B"}})}),l.jsx("span",{className:"text-5xl",children:""})]}),l.jsxs("div",{style:{transform:"skewX(-2deg)"},children:[l.jsx("h3",{className:"text-xl font-black mb-2 uppercase italic",style:{color:"#000"},children:"Das klassische Kartenspiel!"}),l.jsx("p",{className:"font-bold text-sm leading-relaxed",style:{color:"#4A4A4A"},children:"Spiele deine Karten geschickt aus und werde alle los, bevor es dein Gegner schafft!"})]}),l.jsxs("div",{className:"p-4 text-left space-y-3 relative overflow-hidden",style:{background:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #8338EC"},children:[l.jsxs("div",{className:"absolute top-0 bottom-0 left-0 w-2 flex flex-col border-r-2 border-black",children:[l.jsx("div",{className:"flex-1 bg-[#FF006E]"}),l.jsx("div",{className:"flex-1 bg-[#FF7F00]"}),l.jsx("div",{className:"flex-1 bg-[#FFBE0B]"}),l.jsx("div",{className:"flex-1 bg-[#06FFA5]"}),l.jsx("div",{className:"flex-1 bg-[#0096FF]"}),l.jsx("div",{className:"flex-1 bg-[#8338EC]"})]}),l.jsxs("div",{className:"flex items-start gap-3 pl-2",children:[l.jsx("span",{className:"font-black text-lg",style:{color:"#8338EC"},children:""}),l.jsx("span",{className:"text-xs font-bold",style:{color:"#000"},children:"Spiele Karten mit gleicher Farbe oder gleichem Wert"})]}),l.jsxs("div",{className:"flex items-start gap-3 pl-2",children:[l.jsx("span",{className:"font-black text-lg",style:{color:"#FF006E"},children:"7"}),l.jsx("span",{className:"text-xs font-bold",style:{color:"#000"},children:"Sieben: Gegner muss 2 Karten ziehen"})]}),l.jsxs("div",{className:"flex items-start gap-3 pl-2",children:[l.jsx("span",{className:"font-black text-lg",style:{color:"#06FFA5"},children:"8"}),l.jsx("span",{className:"text-xs font-bold",style:{color:"#000"},children:"Acht: Aussetzen - du spielst nochmal"})]}),l.jsxs("div",{className:"flex items-start gap-3 pl-2",children:[l.jsx("span",{className:"font-black text-lg",style:{color:"#FFBE0B"},children:""}),l.jsx("span",{className:"text-xs font-bold",style:{color:"#000"},children:"Bube: Wnsche dir eine Farbe"})]})]}),l.jsxs("button",{onClick:()=>{mr(!1),ss(!0)},className:"w-full py-4 font-black uppercase tracking-widest transition-all active:translate-y-1 flex items-center justify-center gap-2",style:{background:"#C084FC",color:"#000",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx(Xr,{size:20,fill:"currentColor"})," Weiter"]})]})}),l.jsx(Pt,{isOpen:pa,onClose:()=>{gs(!1),e("HOME")},title:"Spielmodus whlen",children:l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("p",{className:"text-center text-sm font-bold mb-6",style:{color:"#4A4A4A"},children:"Whle deinen bevorzugten Spielmodus:"}),l.jsx("button",{onClick:vi,className:"w-full p-5 transition-all active:scale-95 group relative overflow-hidden",style:{background:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #8338EC",transform:"skewX(-2deg)"},children:l.jsxs("div",{className:"flex items-center gap-4",style:{transform:"skewX(2deg)"},children:[l.jsx("div",{className:"w-14 h-14 flex items-center justify-center transition-transform group-hover:scale-110",style:{background:"#8338EC",border:"3px solid #000"},children:l.jsx(ci,{size:28,style:{color:"#FFF"}})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("h4",{className:"text-xl font-black uppercase mb-1",style:{color:"#000"},children:"Einzelspieler"}),l.jsx("p",{className:"text-xs font-bold",style:{color:"#666"},children:"gegen KI spielen"})]}),l.jsx(vn,{size:24,className:"rotate-180",style:{color:"#000"}})]})}),l.jsx("button",{onClick:Kl,className:"w-full p-5 transition-all active:scale-95 group relative overflow-hidden",style:{background:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #06FFA5",transform:"skewX(-2deg)"},children:l.jsxs("div",{className:"flex items-center gap-4",style:{transform:"skewX(2deg)"},children:[l.jsx("div",{className:"w-14 h-14 flex items-center justify-center transition-transform group-hover:scale-110",style:{background:"#06FFA5",border:"3px solid #000"},children:l.jsx(Zn,{size:28,style:{color:"#000"}})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("h4",{className:"text-xl font-black uppercase mb-1",style:{color:"#000"},children:"Mehrspieler"}),l.jsx("p",{className:"text-xs font-bold",style:{color:"#666"},children:"Gegen Freunde spielen"})]}),l.jsx(vn,{size:24,className:"rotate-180",style:{color:"#000"}})]})})]})}),l.jsx(Pt,{isOpen:xi,onClose:()=>{Bt(!1),e("HOME")},title:W.CHESS.TITLE,children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"p-4 bg-white border-4 border-black shadow-[6px_6px_0px_#000]",children:[l.jsx("p",{className:"font-bold text-center mb-6",children:"Select Mode"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("button",{onClick:()=>{Bt(!1),k({mode:me.CHESS,tier:x.BEGINNER,levelId:1}),e("GAME")},className:"p-4 bg-[#06FFA5] border-4 border-black font-black text-xl uppercase hover:translate-y-1 active:translate-y-2 transition-all shadow-[4px_4px_0px_#000] flex items-center justify-center gap-3",children:[l.jsx(S0,{size:24})," Singleplayer"]}),l.jsxs("button",{onClick:()=>{Bt(!1),k({mode:me.CHESS,tier:x.BEGINNER,levelId:1}),Js(!0)},className:"p-4 bg-[#8338EC] text-white border-4 border-black font-black text-xl uppercase hover:translate-y-1 active:translate-y-2 transition-all shadow-[4px_4px_0px_#000] flex items-center justify-center gap-3",children:[l.jsx(Zn,{size:24})," Multiplayer"]})]})]})})}),l.jsx(Pt,{isOpen:fa,onClose:()=>{ss(!1),e("HOME")},title:"Spielmodus whlen",children:l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("p",{className:"text-center text-sm font-bold mb-6",style:{color:"#4A4A4A"},children:"Whle deinen bevorzugten Spielmodus:"}),l.jsx("button",{onClick:()=>{ss(!1),e("MAU_MAU")},className:"w-full p-5 transition-all active:scale-95 group relative overflow-hidden",style:{background:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #8338EC",transform:"skewX(-2deg)"},children:l.jsxs("div",{className:"flex items-center gap-4",style:{transform:"skewX(2deg)"},children:[l.jsx("div",{className:"w-14 h-14 flex items-center justify-center transition-transform group-hover:scale-110",style:{background:"#8338EC",border:"3px solid #000"},children:l.jsx(ci,{size:28,style:{color:"#FFF"}})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("h4",{className:"text-xl font-black uppercase mb-1",style:{color:"#000"},children:"Singleplayer"}),l.jsx("p",{className:"text-xs font-bold",style:{color:"#666"},children:"Spiele gegen die KI"})]}),l.jsx(vn,{size:24,className:"rotate-180",style:{color:"#000"}})]})}),l.jsx("button",{onClick:()=>{ss(!1),Js(!0)},className:"w-full p-5 transition-all active:scale-95 group relative overflow-hidden",style:{background:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #06FFA5",transform:"skewX(-2deg)"},children:l.jsxs("div",{className:"flex items-center gap-4",style:{transform:"skewX(2deg)"},children:[l.jsx("div",{className:"w-14 h-14 flex items-center justify-center transition-transform group-hover:scale-110",style:{background:"#06FFA5",border:"3px solid #000"},children:l.jsx(Zn,{size:28,style:{color:"#000"}})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("h4",{className:"text-xl font-black uppercase mb-1",style:{color:"#000"},children:"Multiplayer"}),l.jsx("p",{className:"text-xs font-bold",style:{color:"#666"},children:"Spiele gegen Freunde"})]}),l.jsx(vn,{size:24,className:"rotate-180",style:{color:"#000"}})]})}),l.jsx("button",{onClick:()=>ss(!1),className:"w-full py-3 font-black uppercase text-sm transition-all active:translate-y-1 mt-4",style:{background:"#F5F5F5",color:"#000",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:"Zurck"})]})}),l.jsx(t8,{isOpen:ro,onClose:()=>Js(!1),currentUsername:y||p.name,friends:p.friends||[],mode:(Y==null?void 0:Y.mode)||me.SKAT_MAU_MAU,onStartGame:(A,D)=>{$t(A),ti(D),ee(!0),Js(!1),(Y==null?void 0:Y.mode)===me.CHESS?e("GAME"):e("SKAT_MAU_MAU")},onInviteSent:(A,D)=>{bt({to:A,gameId:D})}}),l.jsx(r8,{isOpen:Es,onClose:()=>ei(!1),currentUsername:y||p.name,friendCode:p.friendCode||"",friends:p.friends||[],onFriendsUpdate:A=>{E(D=>({...D,friends:A}))}}),B&&l.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:l.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border-2 border-yellow-500/50 rounded-3xl p-6 max-w-sm w-full shadow-2xl animate-scale-in",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center animate-pulse shadow-lg shadow-yellow-500/30",children:l.jsx(Zn,{size:40,className:"text-white"})}),l.jsx("h3",{className:"text-xl font-black text-white",children:"Spieleinladung!"}),l.jsxs("div",{className:"bg-black/30 rounded-xl p-4",children:[l.jsx("p",{className:"text-gray-400 text-sm",children:"Einladung von"}),l.jsx("p",{className:"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500",children:B.from}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["mchte ",B.mode===me.CHESS?"Schach":"Mau Mau"," spielen"]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:ji,className:"flex-1 py-3 px-4 bg-red-600/20 border-2 border-red-500/50 hover:bg-red-600/40 rounded-xl text-red-400 font-bold transition-all active:scale-95",children:[l.jsx(Al,{size:20,className:"inline mr-2"}),"Ablehnen"]}),l.jsxs("button",{onClick:xs,className:"flex-1 py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 hover:brightness-110 rounded-xl text-white font-bold transition-all active:scale-95 shadow-lg shadow-green-500/30",children:[l.jsx(Xn,{size:20,className:"inline mr-2"}),"Annehmen"]})]})]})})}),t==="ONBOARDING"&&l.jsx("div",{className:"h-full flex items-center justify-center p-6 animate-fade-in",children:l.jsx("div",{className:"max-w-md w-full glass-panel p-8 rounded-3xl",children:l.jsx(Wm,{isOpen:!0,onClose:()=>{},onSuccess:A=>{Gu()},lang:h.language,onLanguageChange:A=>{f(D=>({...D,language:A}))},embedded:!0,initialMode:"language_select"})})}),t==="AUTH"&&l.jsx(Wm,{isOpen:!0,onClose:()=>{},onSuccess:A=>{lo(A)},lang:p.language,onLanguageChange:A=>{E(D=>({...D,language:A}))},embedded:!0,initialMode:"language_select"}),t==="SHOP"&&l.jsx(l4,{user:p,setUser:E,setView:e,t:W,setShowRedeemModal:$e,setRedeemStep:Zs,handleBuyItem:zu}),l.jsx(Pt,{isOpen:w,title:W.GAME.HINT_MODAL_TITLE,children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-4 space-y-6",children:[l.jsxs("div",{className:"w-full h-40 bg-black flex items-center justify-center relative overflow-hidden group border-4 border-black shadow-[6px_6px_0px_#000]",children:[l.jsx("img",{src:Tf,alt:"Ad Simulation",className:"w-full h-full object-cover opacity-50"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"text-5xl font-black font-mono text-white drop-shadow-[4px_4px_0px_#000]",children:L>0?`${L}s`:"DONE"})}),l.jsx("div",{className:"absolute top-2 right-2 bg-[#FF006E] px-2 py-1 text-[10px] font-black text-white border-2 border-black",children:"AD"})]}),Le>0&&l.jsxs("div",{className:"inline-block px-3 py-1 font-black text-xs uppercase bg-[#FF006E] text-white border-2 border-black transform -rotate-2",children:["+",Le*10,"s Wartezeit"]}),L>0&&l.jsxs("button",{onClick:()=>{const A=30+Le*10;p.coins>=A?(E(D=>({...D,coins:D.coins-A})),se(0)):alert("Nicht gengend Coins!")},className:"w-full py-4 font-black uppercase text-sm flex items-center justify-center gap-2 transition-all active:translate-y-1",style:{background:"#FFBE0B",color:"#000",border:"3px solid #000",boxShadow:"4px 4px 0px #000",opacity:p.coins>=30+Le*10?1:.5},children:[l.jsx(ws,{size:16})," Skip (",30+Le*10,")"]}),l.jsx("button",{disabled:L>0,onClick:Cf,className:"w-full py-4 font-black uppercase text-sm transition-all active:translate-y-1",style:{background:L>0?"#E5E5E5":"#06FFA5",color:L>0?"#999":"#000",border:"3px solid #000",boxShadow:L>0?"none":"4px 4px 0px #000",cursor:L>0?"not-allowed":"pointer"},children:L>0?"Bitte warten...":"Hinweis ansehen"})]})}),l.jsx(Pt,{isOpen:ue,onClose:()=>Ce(!1),title:W.GAME.LEVEL_UP||"Level Up",children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-6 text-center relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-lexi-fuchsia/20 to-transparent animate-pulse-slow"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-lexi-fuchsia blur-3xl opacity-50 animate-pulse"}),l.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-lexi-fuchsia to-purple-800 rounded-full flex items-center justify-center border-4 border-white/20 shadow-[0_0_50px_rgba(217,70,239,0.6)] relative z-10 animate-bounce",children:l.jsx("span",{className:"text-6xl font-black text-white drop-shadow-lg",children:fe.level})})]}),l.jsxs("div",{className:"relative z-10 space-y-2",children:[l.jsx("h3",{className:"text-2xl font-black italic text-white",children:"AGENT PROMOTED"}),l.jsxs("p",{className:"text-gray-400 font-bold",children:["Total XP: ",fe.xp]})]}),l.jsx(zc,{fullWidth:!0,onClick:()=>Ce(!1),children:"CONTINUE"})]})}),l.jsx(Pt,{isOpen:Te,onClose:()=>Ee(!1),title:" PROFIL LSCHEN",children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-6 space-y-6 text-center",children:[l.jsxs("div",{className:"bg-red-900/30 border-2 border-red-500 rounded-2xl p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[l.jsx(Yo,{className:"text-red-500",size:32}),l.jsx("h3",{className:"text-2xl font-black text-red-500 uppercase",children:"Achtung!"}),l.jsx(Yo,{className:"text-red-500",size:32})]}),l.jsxs("div",{className:"text-left space-y-3 text-sm",children:[l.jsxs("div",{className:"p-4 bg-[var(--color-surface)]/5 rounded-xl border border-white/10",children:[l.jsx("h4",{className:"font-bold text-cyan-400 mb-2 uppercase tracking-wide",children:"v3.1.3 - Update"}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-cyan-500",children:""})," Mau Mau UI Verbesserungen"]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-cyan-500",children:""})," Performance Optimierungen"]})]})]}),l.jsxs("p",{className:"font-bold text-white",children:["Diese Aktion lscht ",l.jsx("span",{className:"text-red-400 underline",children:"UNWIDERRUFLICH"}),":"]}),l.jsxs("ul",{className:"space-y-2 text-gray-300",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-red-500 font-bold",children:""}),l.jsx("span",{children:"Deinen gesamten Spielfortschritt"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-red-500 font-bold",children:""}),l.jsx("span",{children:"Alle gesammelten Mnzen"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-red-500 font-bold",children:""}),l.jsx("span",{children:"Season Pass Level & XP"})]})]}),l.jsxs("div",{className:"bg-red-950/50 border border-red-500/30 rounded-lg p-3 mt-4",children:[l.jsx("p",{className:"text-red-400 font-bold text-xs mb-2",children:' Zur Besttigung bitte "DELETE" eingeben:'}),l.jsx("input",{type:"text",value:Ms,onChange:A=>ms(A.target.value),placeholder:"DELETE",className:"w-full bg-black/50 border border-red-500/50 rounded p-2 text-white font-bold text-center focus:outline-none focus:border-red-500"})]})]})]}),l.jsxs("div",{className:"w-full space-y-3",children:[l.jsxs("button",{onClick:ni,disabled:Ms!=="DELETE",className:"w-full py-4 rounded-xl font-black text-sm uppercase bg-red-600 hover:bg-red-700 text-white transition-colors flex items-center justify-center gap-2 shadow-lg hover:shadow-red-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Yo,{size:18}),"JA, ALLES LSCHEN"]}),l.jsx("button",{onClick:()=>{Ee(!1),ms("")},className:"w-full py-4 rounded-xl font-bold text-sm uppercase bg-gray-700 hover:bg-gray-600 text-white transition-colors",children:"Abbrechen"})]})]})}),l.jsx(Pt,{isOpen:Ae,onClose:()=>Ge(!1),title:W.GAME.WIN_TITLE,children:l.jsxs("div",{className:"text-center space-y-6",children:[l.jsx("div",{className:"inline-block p-6 mb-4",style:{background:"#FFBE0B",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"rotate(-3deg)"},children:l.jsx(Ya,{size:64,style:{color:"#000"}})}),l.jsx("div",{className:"text-2xl font-black uppercase tracking-wide",style:{color:"#000"},children:W.GAME.WIN_DESC}),l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsxs("div",{className:"p-4 min-w-[100px] flex flex-col items-center",style:{background:"#FF006E",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx(Cn,{size:24,style:{color:"#FFF"},className:"mb-1"}),l.jsx("span",{className:"text-2xl font-black",style:{color:"#FFF"},children:be.xp}),l.jsx("span",{className:"text-xs font-black uppercase",style:{color:"rgba(255,255,255,0.8)"},children:W.GAME.XP_GAINED})]}),l.jsxs("div",{className:"p-4 min-w-[100px] flex flex-col items-center",style:{background:"#0096FF",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx(ws,{size:24,style:{color:"#FFF"},className:"mb-1"}),l.jsx("span",{className:"text-2xl font-black",style:{color:"#FFF"},children:be.coins}),l.jsx("span",{className:"text-xs font-black uppercase",style:{color:"rgba(255,255,255,0.8)"},children:W.GAME.COINS_GAINED})]})]}),l.jsxs("div",{className:"px-4",children:[l.jsxs("div",{className:"flex justify-between text-xs font-black mb-2",style:{color:"#4A4A4A"},children:[l.jsxs("span",{children:["LVL ",p.level]}),l.jsxs("span",{children:[p.xp%100," / 100 XP"]})]}),l.jsx("div",{className:"h-4",style:{background:"#000",border:"3px solid #000"},children:l.jsx("div",{className:"h-full transition-all duration-1000",style:{width:`${p.xp%100}%`,background:"#06FFA5"}})})]}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsx("button",{className:"flex-1 py-4 font-black uppercase text-sm transition-all",style:{background:"#FFF",color:"#000",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},onClick:()=>{Ge(!1),e("LEVELS")},children:"bersicht"}),l.jsx("button",{className:"flex-1 py-4 font-black uppercase text-sm transition-all",style:{background:"#06FFA5",color:"#000",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},onClick:()=>{Ge(!1),Hu()},children:"Weiter"})]})]})}),l.jsx(Pt,{isOpen:(H==null?void 0:H.status)==="lost",onClose:()=>{e("LEVELS"),ae(null)},title:"MISSION FAILED",children:l.jsxs("div",{className:"text-center space-y-6",children:[l.jsx("div",{className:"inline-block p-6",style:{background:"#FF006E",border:"4px solid #000",boxShadow:"8px 8px 0px #000",transform:"rotate(3deg)"},children:l.jsx(Yo,{size:64,style:{color:"#FFF"}})}),l.jsx("div",{className:"text-2xl font-black uppercase",style:{color:"#000"},children:"GAME OVER"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-black uppercase tracking-widest mb-2",style:{color:"#4A4A4A"},children:"LSUNG"}),l.jsx("div",{className:"text-3xl font-mono font-black p-4",style:{background:"#06FFA5",border:"4px solid #000",color:"#000"},children:H==null?void 0:H.targetWord})]}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsx("button",{className:"flex-1 py-4 font-black uppercase text-sm transition-all",style:{background:"#FFF",color:"#000",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},onClick:()=>{e("LEVELS"),ae(null)},children:"MENU"}),l.jsx("button",{className:"flex-1 py-4 font-black uppercase text-sm transition-all",style:{background:"#FF7F00",color:"#000",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},onClick:()=>{const A=Y.mode;if(A===me.SUDOKU)ae(D=>({...D,currentGrid:JSON.parse(JSON.stringify(D.data.sudokuPuzzle)),selectedCell:null,history:[],status:"playing"}));else if(A===me.CHALLENGE){const D=v0(p.language,Y.tier,Y.levelId);ae({targetWord:D.target,hintTitle:"CHALLENGE",hintDesc:D.question,guesses:[],currentGuess:"",status:"playing",hintsUsed:0,isMath:D.type==="math",timeLeft:D.timeLimit})}else{const D=DS(A,Y.tier,Y.levelId,p.language,p.playedWords||[]);ae({guesses:[],currentGuess:"",status:"playing",targetWord:D.target,hintTitle:D.hintTitle,hintDesc:D.hintDesc,timeLeft:D.timeLimit,startTime:Date.now(),hintsUsed:0,isMath:!1,isHintUnlocked:!1})}},children:"RETRY"})]})]})}),l.jsx(Pt,{isOpen:xt,onClose:()=>{$e(!1),I(""),$(""),K("")},title:W.HOME.VOUCHER_TITLE,children:l.jsxs("div",{className:"text-center py-6 space-y-6",children:[l.jsx("div",{className:"inline-block p-6 rounded-full bg-blue-500/10 border border-blue-500/20 mb-4 shadow-[0_0_30px_rgba(59,130,246,0.3)]",children:l.jsx(Cn,{className:"text-blue-400 drop-shadow-lg",size:48})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-300",children:W.HOME.VOUCHER_HEADING}),l.jsx("p",{className:"text-xs text-gray-500",children:W.HOME.VOUCHER_DESC})]}),l.jsxs("div",{className:"w-full",children:[l.jsx("input",{type:"text",value:R,onChange:A=>{I(A.target.value.toUpperCase()),$(""),K("")},placeholder:W.HOME.VOUCHER_PLACEHOLDER,className:`w-full bg-gray-900 border-2 ${O?"border-red-500 animate-shake":U?"border-green-500":"border-gray-700 focus:border-blue-400"} rounded-xl p-4 text-center text-sm font-mono font-bold focus:outline-none transition-colors text-white uppercase`,maxLength:20,onKeyDown:A=>{A.key==="Enter"&&bi()}}),O&&l.jsxs("div",{className:"mt-2 text-red-500 text-xs font-bold animate-pulse flex items-center justify-center gap-1",children:[l.jsx(Gc,{size:12})," ",O]}),U&&l.jsxs("div",{className:"mt-2 text-green-500 text-xs font-bold flex items-center justify-center gap-1",children:[l.jsx(Xn,{size:12})," ",U]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(zc,{className:"flex-1",variant:"secondary",onClick:()=>{$e(!1),I(""),$(""),K("")},children:W.HOME.VOUCHER_CANCEL}),l.jsx(zc,{className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:brightness-110",onClick:bi,disabled:!R.trim()||!!U,children:U?W.HOME.VOUCHER_REDEEMED:W.HOME.VOUCHER_REDEEM})]})]})}),l.jsx(Pt,{isOpen:Cs,onClose:()=>gn(!1),title:"PREMIUM STORE",children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block p-4 mb-4",style:{background:"#FFBE0B",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:l.jsx(dl,{size:32,fill:"currentColor",style:{color:"#000"}})}),l.jsx("h3",{className:"text-xl font-black uppercase",style:{color:"#000"},children:"Whle deinen Plan"}),l.jsx("p",{className:"text-sm font-bold mt-1",style:{color:"#4A4A4A"},children:"Schalte alle Features frei!"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("button",{className:"relative p-4 text-left transition-all",style:{background:Bn==="monthly"?"#FFBE0B":"#FFF",border:"4px solid #000",boxShadow:Bn==="monthly"?"8px 8px 0px #000":"4px 4px 0px #000",transform:Bn==="monthly"?"translateY(-4px)":"translateY(0)"},onClick:()=>so("monthly"),children:[l.jsx("div",{className:"absolute -top-3 right-2 px-2 py-1 text-[10px] font-black uppercase",style:{background:"#FF006E",color:"#FFF",border:"2px solid #000"},children:"BEST VALUE"}),l.jsx("h4",{className:"font-black text-lg uppercase",style:{color:"#000"},children:"Monatlich"}),l.jsx("div",{className:"text-3xl font-black my-2",style:{color:"#000"},children:"7,99"}),l.jsxs("ul",{className:"text-xs font-bold space-y-1",style:{color:"#4A4A4A"},children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Xn,{size:12,style:{color:"#06FFA5"}})," Premium Features"]}),l.jsxs("li",{className:"flex items-center gap-2",style:{color:"#FF006E"},children:[l.jsx(Cn,{size:12})," +10 Level Boost"]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Qr,{size:12})," Auto-Verlngerung"]})]})]}),l.jsxs("button",{className:"relative p-4 text-left transition-all",style:{background:Bn==="30days"?"#8338EC":"#FFF",border:"4px solid #000",boxShadow:Bn==="30days"?"8px 8px 0px #000":"4px 4px 0px #000",transform:Bn==="30days"?"translateY(-4px)":"translateY(0)"},onClick:()=>so("30days"),children:[l.jsx("h4",{className:"font-black text-lg uppercase",style:{color:Bn==="30days"?"#FFF":"#000"},children:"30 Tage Pass"}),l.jsx("div",{className:"text-3xl font-black my-2",style:{color:Bn==="30days"?"#FFF":"#8338EC"},children:"4,99"}),l.jsxs("ul",{className:"text-xs font-bold space-y-1",style:{color:Bn==="30days"?"rgba(255,255,255,0.8)":"#4A4A4A"},children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(Xn,{size:12,style:{color:"#06FFA5"}})," Premium Features"]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx(A0,{size:12})," Einmalzahlung"]})]})]})]}),l.jsxs("div",{className:"p-4 flex flex-col items-center",style:{background:"var(--color-bg)",border:"4px solid #000"},children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 font-black text-sm uppercase",style:{color:"#000"},children:[l.jsx(A0,{size:16})," Bezahlen mit PayPal"]}),l.jsxs("div",{className:"w-full max-w-[250px]",children:[Bn==="monthly"&&l.jsx(K0,{amount:"7.99",onSuccess:A=>po(A,"monthly")}),Bn==="30days"&&l.jsx(K0,{amount:"4.99",onSuccess:A=>po(A,"30days")})]})]}),l.jsxs("div",{className:"pt-4",style:{borderTop:"3px solid #000"},children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 font-black text-sm uppercase",style:{color:"#000"},children:[l.jsx(ws,{size:16})," Gutscheincode einlsen"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:R,onChange:A=>I(A.target.value.toUpperCase()),placeholder:"CODE EINGEBEN...",className:"flex-1 p-3 font-mono font-bold uppercase",style:{background:"var(--color-bg)",border:"3px solid #000",color:"#000"}}),l.jsx("button",{onClick:bi,className:"px-4 py-3 font-black text-sm uppercase transition-all",style:{background:"#06FFA5",color:"#000",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:"Einlsen"})]}),O&&l.jsxs("div",{className:"mt-2 text-xs font-black flex items-center gap-1",style:{color:"#FF006E"},children:[l.jsx(Gc,{size:12})," ",O]}),U&&l.jsxs("div",{className:"mt-2 text-xs font-black flex items-center gap-1",style:{color:"#06FFA5"},children:[l.jsx(Xn,{size:12})," ",U]})]})]})}),l.jsx(Pt,{isOpen:Vt,onClose:()=>xn(!1),title:W.HOME.PREMIUM_REQUIRED_TITLE,children:l.jsxs("div",{className:"text-center space-y-5",children:[l.jsx("div",{className:"w-20 h-20 mx-auto flex items-center justify-center",style:{background:"#FFBE0B",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:l.jsx(Xo,{size:36,style:{color:"#000"}})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xl font-black uppercase",style:{color:"#000"},children:W.HOME.PREMIUM_REQUIRED_LOCKED}),l.jsx("p",{className:"text-sm font-bold leading-relaxed",style:{color:"#4A4A4A"},children:W.HOME.PREMIUM_REQUIRED_DESC})]}),l.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[l.jsx("button",{onClick:()=>{xn(!1),e("SEASON")},className:"w-full py-4 font-black uppercase text-sm transition-all",style:{background:"#FFBE0B",color:"#000",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:W.HOME.PREMIUM_REQUIRED_GO}),l.jsx("button",{onClick:()=>xn(!1),className:"w-full py-4 font-black uppercase text-sm transition-all",style:{background:"#FFF",color:"#000",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},children:W.HOME.PREMIUM_REQUIRED_LATER})]})]})}),l.jsx(Pt,{isOpen:Pl,onClose:()=>Is(!1),title:"BESTTIGUNG",children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"p-4 text-center",style:{background:"#FFBE0B",border:"4px solid #000"},children:[l.jsx(ci,{size:32,style:{color:"#000"},className:"mx-auto mb-2"}),l.jsxs("p",{className:"font-black text-sm uppercase",style:{color:"#000"},children:["Neuer Name: ",l.jsx("span",{style:{color:"#000"},children:qt})]}),l.jsx("p",{className:"font-bold text-sm mt-2",style:{color:"#000"},children:"Kosten: 2500 Mnzen"})]}),l.jsx("div",{className:"p-3 text-center",style:{background:"#FFF",border:"3px solid #FF006E"},children:l.jsx("p",{className:"text-xs font-black",style:{color:"#FF006E"},children:" Diese nderung kann nicht rckgngig gemacht werden!"})}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{onClick:()=>Is(!1),className:"flex-1 py-4 font-black text-sm uppercase transition-all",style:{background:"#FFF",color:"#000",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},children:"Abbrechen"}),l.jsxs("button",{onClick:gr,className:"flex-1 py-4 font-black text-sm uppercase flex items-center justify-center gap-2 transition-all",style:{background:"#06FFA5",color:"#000",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx(ci,{size:16})," Besttigen"]})]})]})}),l.jsx(Pt,{isOpen:st,onClose:()=>it(!1),title:W.PROFILE.TITLE,children:l.jsxs("div",{className:"space-y-5 max-h-[70vh] overflow-y-auto",children:[y&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-4",style:{background:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #FFBE0B"},children:[l.jsx("div",{className:"inline-block px-3 py-1 mb-3 font-black text-xs uppercase",style:{background:"#FFBE0B",color:"#000",border:"2px solid #000"},children:W.PROFILE.USERNAME}),l.jsxs("p",{className:"text-xs font-bold mb-2",style:{color:"#4A4A4A"},children:[W.PROFILE.CURRENT,": ",l.jsx("span",{style:{color:"#000"},children:y})]}),l.jsx("input",{type:"text",className:"w-full p-3 font-bold mb-2",style:{background:"var(--color-bg)",border:"3px solid #000",color:"#000"},value:qt,onChange:A=>Qs(A.target.value.replace(/[^a-zA-Z0-9]/g,"")),placeholder:W.PROFILE.NEW_USER_PLACEHOLDER}),_e&&l.jsx("p",{className:"text-xs font-black mb-2",style:{color:"#FF006E"},children:_e}),l.jsxs("p",{className:"text-xs font-bold mb-2",style:{color:"#FF7F00"},children:[W.PROFILE.COST,": 2500 Coins"]}),l.jsx("button",{onClick:Vl,className:"w-full py-3 font-black uppercase text-sm transition-all",style:{background:"#FFBE0B",color:"#000",border:"3px solid #000",boxShadow:"4px 4px 0px #000"},children:W.PROFILE.CHANGE})]}),l.jsxs("div",{className:"p-4 text-center",style:{background:"#06FFA5",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx("div",{className:"inline-block px-3 py-1 mb-3 font-black text-xs uppercase",style:{background:"#FFF",color:"#000",border:"2px solid #000"},children:"FREUNDESCODE"}),l.jsx("div",{className:"text-2xl font-mono font-black tracking-[0.2em] select-all cursor-pointer p-3 transition-all",style:{background:"#FFF",border:"3px solid #000",color:"#000"},onClick:()=>p.friendCode&&navigator.clipboard.writeText(p.friendCode),children:p.friendCode||"-----"}),l.jsx("p",{className:"text-xs font-bold mt-2",style:{color:"#000"},children:"Tippen zum Kopieren"})]}),l.jsxs("button",{onClick:()=>{it(!1),ei(!0)},className:"w-full py-4 font-black uppercase text-sm flex items-center justify-center gap-2 transition-all",style:{background:"#8338EC",color:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:[l.jsx(Zn,{size:18})," Freunde verwalten"]})]}),l.jsxs("div",{className:"p-4",style:{background:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #FF006E"},children:[l.jsx("div",{className:"inline-block px-3 py-1 mb-3 font-black text-xs uppercase",style:{background:"#FF006E",color:"#FFF",border:"2px solid #000"},children:W.PROFILE.AVATAR_PREVIEW}),l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:`w-24 h-24 overflow-hidden bg-[#FFF8E7] ${Uu(Q)}`,style:{border:"4px solid #000"},children:l.jsx("img",{src:`https://api.dicebear.com/9.x/bottts-neutral/svg?seed=${Oi}`,alt:"Avatar",className:"w-full h-full object-cover"})})}),l.jsx("div",{className:"inline-block px-3 py-1 mb-3 font-black text-xs uppercase",style:{background:"var(--color-bg)",color:"#000",border:"2px solid #000"},children:W.PROFILE.CHOOSE_AVATAR}),l.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto",children:(p.ownedAvatars||[us[0]]).map(A=>l.jsx("button",{onClick:()=>pr(A),className:"aspect-square overflow-hidden transition-all",style:{border:Oi===A?"4px solid #FF006E":"3px solid #000",background:"#FFF8E7",transform:Oi===A?"scale(1.05)":"scale(1)"},children:l.jsx("img",{src:`https://api.dicebear.com/9.x/bottts-neutral/svg?seed=${A}`,alt:"Avatar",className:"w-full h-full"})},A))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-4 text-center",style:{background:"#FFBE0B",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx("p",{className:"text-xs font-black uppercase",style:{color:"#000"},children:"Level"}),l.jsx("p",{className:"text-3xl font-black",style:{color:"#000"},children:p.level})]}),l.jsxs("div",{className:"p-4 text-center",style:{background:"#FF006E",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx("p",{className:"text-xs font-black uppercase",style:{color:"#FFF"},children:"XP"}),l.jsx("p",{className:"text-3xl font-black",style:{color:"#FFF"},children:p.xp})]})]}),l.jsxs("div",{className:"p-3 flex items-center justify-between",style:{background:"#E5E5E5",border:"3px solid #CCC"},children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs font-black uppercase",style:{color:"#999"},children:W.PROFILE.AGE}),l.jsx("span",{className:"ml-2 font-black",style:{color:"#666"},children:mi})]}),l.jsxs("div",{className:"flex items-center gap-1 text-xs font-black uppercase",style:{color:"#999"},children:[l.jsx(Xo,{size:12})," ",W.PROFILE.LOCKED]})]}),(p.ownedFrames||[]).length>0&&l.jsxs("div",{className:"p-4",style:{background:"#FFF",border:"4px solid #000",boxShadow:"6px 6px 0px #FF7F00"},children:[l.jsx("div",{className:"inline-block px-3 py-1 mb-3 font-black text-xs uppercase",style:{background:"#FF7F00",color:"#000",border:"2px solid #000"},children:"Rahmen & Effekte"}),l.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[l.jsx("button",{onClick:()=>Ls("none"),className:"aspect-square flex items-center justify-center",style:{background:Q==="none"?"#FFBE0B":"#FFF",border:"3px solid #000"},children:l.jsx("span",{className:"text-xs font-black",style:{color:"#000"},children:"Kein"})}),(p.ownedFrames||[]).map(A=>l.jsx("button",{onClick:()=>Ls(A),className:`aspect-square flex items-center justify-center relative overflow-hidden ${Uu(A)}`,style:{background:Q===A?"#FFBE0B":"#FFF",border:"3px solid #000"},children:l.jsx("div",{className:"w-8 h-8",style:{background:"#CCC"}})},A))]})]}),l.jsxs("div",{className:"p-4",style:{background:"#FFF",border:"3px solid #ccc"},children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx("span",{className:"font-bold text-xs",style:{color:"#666"},children:W.PROFILE.DELETE_ACCOUNT})}),l.jsx("p",{className:"text-xs mb-3",style:{color:"#999"},children:W.PROFILE.DELETE_INFO||"Dein Account und alle Daten werden gelscht."}),l.jsx("button",{onClick:()=>Ee(!0),className:"w-full py-3 font-black uppercase text-xs transition-all",style:{background:"#FFF",color:"#FF006E",border:"3px solid #FF006E"},children:W.PROFILE.DELETE_ACCOUNT})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:()=>it(!1),className:"flex-1 py-4 font-black uppercase text-sm transition-all",style:{background:"#FFF",color:"#000",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},children:W.PROFILE.CANCEL}),l.jsx("button",{onClick:ho,className:"flex-1 py-4 font-black uppercase text-sm transition-all",style:{background:"#06FFA5",color:"#000",border:"4px solid #000",boxShadow:"6px 6px 0px #000"},children:"Speichern"})]})]})}),l.jsx(Pt,{isOpen:Te,onClose:()=>{Ee(!1),ms("")},title:W.PROFILE.DELETE_ACCOUNT,children:l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{className:"p-4 flex items-start gap-3",style:{background:"#FFF",border:"4px solid #FF006E"},children:[l.jsx(Gc,{size:24,style:{color:"#FF006E"},className:"shrink-0 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-black mb-1",style:{color:"#FF006E"},children:W.PROFILE.DELETE_WARNING}),l.jsx("p",{className:"text-xs font-bold leading-relaxed",style:{color:"rgba(255,0,110,0.7)"},children:W.PROFILE.DELETE_INFO||"Alle deine Fortschritte werden unwiderruflich gelscht."})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs font-black uppercase",style:{color:"#4A4A4A"},children:W.PROFILE.CONFIRM_MSG}),l.jsx("input",{type:"text",value:Ms,onChange:A=>ms(A.target.value),placeholder:W.PROFILE.CONFIRM_PLACEHOLDER,className:"w-full p-4 font-mono text-center",style:{background:"var(--color-bg)",border:"4px solid #FF006E",color:"#000"}})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{onClick:()=>{Ee(!1),ms("")},className:"flex-1 py-4 font-black text-sm uppercase transition-all",style:{background:"#FFF",color:"#000",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},children:W.PROFILE.CANCEL}),l.jsxs("button",{onClick:()=>{Ms.toUpperCase()===W.PROFILE.CONFIRM_PLACEHOLDER?(alert("Profil-Lschung noch nicht implementiert. Bald verfgbar!"),Ee(!1),ms("")):alert(W.PROFILE.CONFIRM_MSG)},disabled:Ms.toUpperCase()!==W.PROFILE.CONFIRM_PLACEHOLDER,className:"flex-1 py-4 font-black text-sm uppercase flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"#FF006E",color:"#FFF",border:"4px solid #000",boxShadow:"4px 4px 0px #000"},children:[l.jsx(Yo,{size:16})," ",W.PROFILE.CONFIRM_DELETE]})]})]})}),l.jsx(Wm,{isOpen:T,onClose:()=>N(!1),onSuccess:A=>{lo(A),N(!1)},lang:p.language,onLanguageChange:A=>E(D=>({...D,language:A}))}),window.Capacitor===void 0&&l.jsx("div",{className:"fixed bottom-4 right-4 z-[50]",children:l.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 transition-all duration-100 group",style:{backgroundColor:"#06FFA5",border:"2px solid #000",boxShadow:"3px 3px 0px #000",transform:"skew(-2deg)"},onMouseEnter:A=>{A.currentTarget.style.transform="skew(-2deg) translateY(-1px)",A.currentTarget.style.boxShadow="4px 4px 0px #000"},onMouseLeave:A=>{A.currentTarget.style.transform="skew(-2deg)",A.currentTarget.style.boxShadow="3px 3px 0px #000"},children:[l.jsx(p2,{size:16,className:"text-black"}),l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-black leading-none",children:"Android App"}),l.jsx("span",{className:"text-xs font-black uppercase tracking-wider text-black leading-none",children:"Download"})]})]})}),l.jsx("div",{className:"fixed bottom-4 left-4 z-[50] pointer-events-none",children:l.jsxs("div",{className:"text-[10px] font-bold text-white/20 uppercase tracking-widest font-mono",children:["v",Uc]})}),l.jsx(d4,{})]})}const Zw=document.getElementById("root");if(!Zw)throw new Error("Could not find root element to mount to");const m8=nI.createRoot(Zw);m8.render(l.jsx(fs.StrictMode,{children:l.jsx(p8,{})}));export{vk as a,Ja as b,Rt as d,Dl as g,oa as o,At as r,Dn as s};
