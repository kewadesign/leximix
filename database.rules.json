{
    "rules": {
        "system": { ".read": true, ".write": false },
        "vouchers": {
            ".read": true,
            "$voucherCode": {
                ".write": false,
                "usedBy": {
                    "$username": {
                        ".write": "!data.exists()"
                    }
                }
            }
        },
        "users": {
            "$username": {
                ".read": true,
                ".write": true
            }
        }
    }
}
