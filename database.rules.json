{
    "rules": {
        "system": {
            ".read": true,
            ".write": false
        },
        "vouchers": {
            ".read": true,
            "$voucherCode": {
                ".write": false,
                "usedBy": {
                    "$username": {
                        ".write": "!data.exists()",
                        ".validate": "newData.isNumber()"
                    }
                }
            }
        },
        "users": {
            "$username": {
                ".read": true,
                ".validate": "$username.matches(/^[a-zA-Z0-9]+$/) && $username.length >= 3 && $username.length <= 30",
                ".write": "!data.exists()",
                "saves": {
                    ".write": true
                },
                "voucherRewards": {
                    ".write": true
                },
                "isPremium": {
                    ".write": true
                },
                "premiumActivatedAt": {
                    ".write": true
                }
            }
        }
    }
}
